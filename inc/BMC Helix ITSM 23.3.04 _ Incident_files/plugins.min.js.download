!function(e,t){"use strict";function n(e,n,i){function o(e,i,o){var r,l;o=o||{},l=o.expires,r=t.isDefined(o.path)?o.path:a,t.isUndefined(i)&&(l="Thu, 01 Jan 1970 00:00:00 GMT",i=""),t.isString(l)&&(l=new Date(l));var s=encodeURIComponent(e)+"="+encodeURIComponent(i);s+=r?";path="+r:"",s+=o.domain?";domain="+o.domain:"",s+=l?";expires="+l.toUTCString():"",s+=o.secure?";secure":"",s+=o.samesite?";samesite="+o.samesite:"";var c=s.length+1;return c>4096&&n.warn("Cookie '"+e+"' possibly not set or overflowed because it was too large ("+c+" > 4096 bytes)!"),s}var a=i.baseHref(),r=e[0];return function(e,t,n){r.cookie=o(e,t,n)}}t.module("ngCookies",["ng"]).info({angularVersion:"1.9.6"}).provider("$cookies",[function(){function e(e){return e?t.extend({},n,e):n}var n=this.defaults={};this.$get=["$$cookieReader","$$cookieWriter",function(n,i){return{get:function(e){return n()[e]},getObject:function(e){var n=this.get(e);return n?t.fromJson(n):n},getAll:function(){return n()},put:function(t,n,o){i(t,n,e(o))},putObject:function(e,n,i){this.put(e,t.toJson(n),i)},remove:function(t,n){i(t,void 0,e(n))}}}]}]),n.$inject=["$document","$log","$browser"],t.module("ngCookies").provider("$$cookieWriter",function(){this.$get=n})}(window,window.angular),angular.module("dibari.angular-ellipsis",[]).directive("ellipsis",["$timeout","$window","$sce",function(e,t,n){var i=function(t){var n=null,i=[];this.remove=function(t){i.indexOf(t)!==-1&&(i.splice(i.indexOf(t),1),0===i.length&&(e.cancel(n),n=null))},this.add=function(o){i.indexOf(o)===-1&&i.push(o),n||(n=e(function(){var e=i.slice();n=null,i.length=0,e.forEach(function(e){e()})},t))}},o=new i(0),a=new i(75);return{restrict:"A",scope:{ngShow:"=",ngBind:"=",ngBindHtml:"=",ellipsisAppend:"@",ellipsisAppendClick:"&",ellipsisSymbol:"@",ellipsisSeparator:"@",useParent:"@",ellipsisSeparatorReg:"=",ellipsisFallbackFontSize:"@"},compile:function(e,i,r){return function(e,i,r){function l(e){return"undefined"!=typeof e}function s(e){var t=0;return angular.forEach(e.parent().children(),function(n){n!=e[0]&&(t+=n.clientHeight)}),e.parent()[0].clientHeight-t}function c(){var t=e.ngBind||e.ngBindHtml,o=!1;if(n.isEnabled()&&angular.isObject(t)&&n.getTrustedHtml(t)&&(o=!0,t=n.getTrustedHtml(t)),t){var a=!e.ngBind&&!!e.ngBindHtml,c=0,p="undefined"!=typeof r.ellipsisSymbol?r.ellipsisSymbol:"&hellip;",d="undefined"!=typeof e.ellipsisSeparator?r.ellipsisSeparator:" ",f="undefined"!=typeof e.ellipsisSeparatorReg&&e.ellipsisSeparatorReg,h="undefined"!=typeof e.ellipsisAppend&&""!==e.ellipsisAppend?p+"<span class='angular-ellipsis-append'>"+e.ellipsisAppend+"</span>":p,g=f?t.match(f):t.split(d);if(r.isTruncated=!1,a?i.html(t):i.text(t),l(r.ellipsisFallbackFontSize)&&u(i)&&i.css("font-size",r.ellipsisFallbackFontSize),u(i,e.useParent)){var m=g.length,v=e.useParent?s(i):i[0].clientHeight;for(a?i.html(t+h):i.text(t).html(i.html()+h),i.attr("data-overflowed","true");c<m;c++){var b=g.pop();if(0===g.length&&(g[0]=b.substring(0,Math.min(b.length,5))),a?i.html(g.join(d)+h):i.text(g.join(d)).html(i.html()+h),(e.useParent?i.parent()[0]:i[0]).scrollHeight<v||u(i,e.useParent)===!1){r.isTruncated=!0;break}}p!=h&&"undefined"!=typeof e.ellipsisAppendClick&&""!==e.ellipsisAppendClick&&i.find("span.angular-ellipsis-append").bind("click",function(t){e.$apply(function(){e.ellipsisAppendClick.call(e,{event:t})})}),!o&&n.isEnabled()&&n.trustAsHtml(t)}else i.attr("data-overflowed","false")}}function u(e,t){return e=t?e.parent():e,e[0].scrollHeight-3>e[0].clientHeight}function p(){r.lastWindowResizeWidth==window.innerWidth&&r.lastWindowResizeHeight==window.innerHeight||c(),r.lastWindowResizeWidth=window.innerWidth,r.lastWindowResizeHeight=window.innerHeight}function d(){a.add(p)}r.lastWindowResizeTime=0,r.lastWindowResizeWidth=0,r.lastWindowResizeHeight=0,r.lastWindowTimeoutEvent=null,r.isTruncated=!1,e.$watch("ngShow",function(){o.add(c)}),e.$watch("ngBind",function(){o.add(c)}),e.$watch("ngBindHtml",function(){o.add(c)}),e.$watch("ellipsisAppend",function(){c()}),e.$watch(function(){return 0!=i[0].offsetWidth&&0!=i[0].offsetHeight},function(){a.add(c)});var f=e.$on("dibari:refresh-ellipsis",function(){o.add(c)}),h=angular.element(t);h.bind("resize",d),e.$on("$destroy",function(){h.unbind("resize",d),o.remove(c),a.remove(p),f&&(f(),f=null)})}}}}]),function(){var e=angular.module("LocalStorageModule",[]);e.value("prefix","ls"),e.constant("cookie",{expiry:30,path:"/"}),e.constant("notify",{setItem:!0,removeItem:!1}),e.service("localStorageService",["$rootScope","prefix","cookie","notify",function(e,t,n,i){"."!==t.substr(-1)&&(t=t?t+".":"");var o=function(){try{return"localStorage"in window&&null!==window.localStorage}catch(t){return e.$broadcast("LocalStorageModule.notification.error",t.message),!1}},a=function(n,a){if(!o())return e.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),i.setItem&&e.$broadcast("LocalStorageModule.notification.setitem",{key:n,newvalue:a,storageType:"cookie"}),p(n,a);"undefined"==typeof a&&(a=null);try{(angular.isObject(a)||angular.isArray(a))&&(a=angular.toJson(a)),localStorage.setItem(t+n,a),i.setItem&&e.$broadcast("LocalStorageModule.notification.setitem",{key:n,newvalue:a,storageType:"localStorage"})}catch(r){return e.$broadcast("LocalStorageModule.notification.error",r.message),p(n,a)}return!0},r=function(n){if(!o())return e.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),d(n);var i=localStorage.getItem(t+n);return i&&"null"!==i?"{"===i.charAt(0)||"["===i.charAt(0)?angular.fromJson(i):i:null},l=function(n){if(!o())return e.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),i.removeItem&&e.$broadcast("LocalStorageModule.notification.removeitem",{key:n,storageType:"cookie"}),f(n);try{localStorage.removeItem(t+n),i.removeItem&&e.$broadcast("LocalStorageModule.notification.removeitem",{key:n,storageType:"localStorage"})}catch(a){return e.$broadcast("LocalStorageModule.notification.error",a.message),f(n)}return!0},s=function(){if(!o())return e.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),!1;var n=t.length,i=[];for(var a in localStorage)if(a.substr(0,n)===t)try{i.push(a.substr(n))}catch(r){return e.$broadcast("LocalStorageModule.notification.error",r.Description),[]}return i},c=function(){if(!o())return e.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),h();var n=t.length;for(var i in localStorage)if(i.substr(0,n)===t)try{l(i.substr(n))}catch(a){return e.$broadcast("LocalStorageModule.notification.error",a.message),h()}return!0},u=function(){try{return navigator.cookieEnabled||"cookie"in document&&(document.cookie.length>0||(document.cookie="test").indexOf.call(document.cookie,"test")>-1)}catch(t){return e.$broadcast("LocalStorageModule.notification.error",t.message),!1}},p=function(i,o){if("undefined"==typeof o)return!1;if(!u())return e.$broadcast("LocalStorageModule.notification.error","COOKIES_NOT_SUPPORTED"),!1;try{var a="",r=new Date;null===o?(r.setTime(r.getTime()+-864e5),a="; expires="+r.toGMTString(),o=""):0!==n.expiry&&(r.setTime(r.getTime()+24*n.expiry*60*60*1e3),a="; expires="+r.toGMTString()),i&&(document.cookie=t+i+"="+encodeURIComponent(o)+a+"; path="+n.path)}catch(l){return e.$broadcast("LocalStorageModule.notification.error",l.message),!1}return!0},d=function(n){if(!u())return e.$broadcast("LocalStorageModule.notification.error","COOKIES_NOT_SUPPORTED"),!1;for(var i=document.cookie.split(";"),o=0;o<i.length;o++){for(var a=i[o];" "==a.charAt(0);)a=a.substring(1,a.length);if(0===a.indexOf(t+n+"="))return decodeURIComponent(a.substring(t.length+n.length+1,a.length))}return null},f=function(e){p(e,null)},h=function(){for(var e=null,n=t.length,i=document.cookie.split(";"),o=0;o<i.length;o++){for(e=i[o];" "==e.charAt(0);)e=e.substring(1,e.length);key=e.substring(n,e.indexOf("=")),f(key)}};return{isSupported:o,set:a,add:a,get:r,keys:s,remove:l,clearAll:c,cookie:{set:p,add:p,get:d,remove:f,clearAll:h}}}])}.call(this),function(e,t){"use strict";function n(e){return null!=e&&""!==e&&"hasOwnProperty"!==e&&r.test("."+e)}function i(e,i){if(!n(i))throw a("badmember",'Dotted member path "@{0}" is invalid.',i);for(var o=i.split("."),r=0,l=o.length;r<l&&t.isDefined(e);r++){var s=o[r];e=null!==e?e[s]:void 0}return e}function o(e,n){n=n||{},t.forEach(n,function(e,t){delete n[t]});for(var i in e)!e.hasOwnProperty(i)||"$"===i.charAt(0)&&"$"===i.charAt(1)||(n[i]=e[i]);return n}var a=t.$$minErr("$resource"),r=/^(\.[a-zA-Z_$@][0-9a-zA-Z_$@]*)+$/;t.module("ngResource",["ng"]).info({angularVersion:"1.9.6"}).provider("$resource",function(){var e=/^https?:\/\/\[[^\]]*][^\/]*/,n=this;this.defaults={stripTrailingSlashes:!0,cancellable:!1,actions:{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},"delete":{method:"DELETE"}}},this.$get=["$http","$log","$q","$timeout",function(r,l,s,c){function u(e,t){this.template=e,this.defaults=h({},n.defaults,t),this.urlParams={}}function p(e,t,p,x){function w(e,n){var o={};return n=h({},t,n),f(n,function(t,n){b(t)&&(t=t(e)),o[n]=t&&t.charAt&&"@"===t.charAt(0)?i(e,t.substr(1)):t}),o}function k(e){return e.resource}function $(e){o(e||{},this)}var C=new u(e,x);return p=h({},n.defaults.actions,p),$.prototype.toJSON=function(){var e=h({},this);return delete e.$promise,delete e.$resolved,delete e.$cancelRequest,e},f(p,function(e,t){var n=e.hasBody===!0||e.hasBody!==!1&&/^(POST|PUT|PATCH)$/i.test(e.method),i=e.timeout,u=v(e.cancellable)?e.cancellable:C.defaults.cancellable;i&&!y(i)&&(l.debug("ngResource:\n  Only numeric values are allowed as `timeout`.\n  Promises are not supported in $resource, because the same value would be used for multiple requests. If you are looking for a way to cancel requests, you should use the `cancellable` option."),delete e.timeout,i=null),$[t]=function(l,p,v,y){function x(e){G["catch"](d),null!==D&&D.resolve(e)}var S,T,P,A={};switch(arguments.length){case 4:P=y,T=v;case 3:case 2:if(!b(p)){A=l,S=p,T=v;break}if(b(l)){T=l,P=p;break}T=p,P=v;case 1:b(l)?T=l:n?S=l:A=l;break;case 0:break;default:throw a("badargs","Expected up to 4 arguments [params, data, success, error], got {0} arguments",arguments.length)}var D,E,M,O=this instanceof $,_=O?S:e.isArray?[]:new $(S),I={},R=e.interceptor&&e.interceptor.request||void 0,L=e.interceptor&&e.interceptor.requestError||void 0,N=e.interceptor&&e.interceptor.response||k,H=e.interceptor&&e.interceptor.responseError||s.reject,F=T?function(e){T(e,M.headers,M.status,M.statusText)}:void 0,j=P||void 0;f(e,function(e,t){switch(t){default:I[t]=g(e);break;case"params":case"isArray":case"interceptor":case"cancellable":}}),!O&&u&&(D=s.defer(),I.timeout=D.promise,i&&(E=c(D.resolve,i))),n&&(I.data=S),C.setUrlParams(I,h({},w(S,e.params||{}),A),e.url);var G=s.resolve(I).then(R)["catch"](L).then(r);return G=G.then(function(n){var i=n.data;if(i){if(m(i)!==!!e.isArray)throw a("badcfg","Error in resource configuration for action `{0}`. Expected response to contain an {1} but got an {2} (Request: {3} {4})",t,e.isArray?"array":"object",m(i)?"array":"object",I.method,I.url);if(e.isArray)_.length=0,f(i,function(e){"object"==typeof e?_.push(new $(e)):_.push(e)});else{var r=_.$promise;o(i,_),_.$promise=r}}return n.resource=_,M=n,N(n)},function(e){return e.resource=_,M=e,H(e)}),G=G["finally"](function(){_.$resolved=!0,!O&&u&&(_.$cancelRequest=d,c.cancel(E),D=E=I.timeout=null)}),G.then(F,j),O?G:(_.$promise=G,_.$resolved=!1,u&&(_.$cancelRequest=x),_)},$.prototype["$"+t]=function(e,n,i){b(e)&&(i=n,n=e,e={});var o=$[t].call(this,e,this,n,i);return o.$promise||o}}),$}var d=t.noop,f=t.forEach,h=t.extend,g=t.copy,m=t.isArray,v=t.isDefined,b=t.isFunction,y=t.isNumber,x=t.$$encodeUriQuery,w=t.$$encodeUriSegment;return u.prototype={setUrlParams:function(t,n,i){var o,r,l=this,s=i||l.template,c="",u=l.urlParams=Object.create(null);f(s.split(/\W/),function(e){if("hasOwnProperty"===e)throw a("badname","hasOwnProperty is not a valid parameter name.");!new RegExp("^\\d+$").test(e)&&e&&new RegExp("(^|[^\\\\]):"+e+"(\\W|$)").test(s)&&(u[e]={isQueryParamValue:new RegExp("\\?.*=:"+e+"(?:\\W|$)").test(s)})}),s=s.replace(/\\:/g,":"),s=s.replace(e,function(e){return c=e,""}),n=n||{},f(l.urlParams,function(e,t){o=n.hasOwnProperty(t)?n[t]:l.defaults[t],v(o)&&null!==o?(r=e.isQueryParamValue?x(o,!0):w(o),s=s.replace(new RegExp(":"+t+"(\\W|$)","g"),function(e,t){return r+t})):s=s.replace(new RegExp("(/?):"+t+"(\\W|$)","g"),function(e,t,n){return"/"===n.charAt(0)?n:t+n})}),l.defaults.stripTrailingSlashes&&(s=s.replace(/(^|[^\/])\/+$/,"$1")||"/"),s=s.replace(/\/\.(?=\w+($|\?))/,"."),t.url=c+s.replace(/\/(\\|%5C)\./,"/."),f(n,function(e,n){l.urlParams[n]||(t.params=t.params||{},t.params[n]=e)})}},p}]})}(window,window.angular),function(e,t){"use strict";function n(){function n(e,t){return i(e.split(","),t)}function i(e,t){var n,i={};for(n=0;n<e.length;n++)i[t?c(e[n]):e[n]]=!0;return i}function g(e,t){t&&t.length&&a(e,i(t))}function m(e,t){null===e||void 0===e?e="":"string"!=typeof e&&(e=""+e);var n=F(e);if(!n)return"";var i=5;do{if(0===i)throw h("uinput","Failed to sanitize html because the input is unstable");i--,e=n.innerHTML,n=F(e)}while(e!==n.innerHTML);for(var o=n.firstChild;o;){switch(o.nodeType){case 1:t.start(o.nodeName.toLowerCase(),v(o.attributes));break;case 3:t.chars(o.textContent)}var a;if(!(a=o.firstChild)&&(1===o.nodeType&&t.end(o.nodeName.toLowerCase()),a=w("nextSibling",o),!a))for(;null==a&&(o=w("parentNode",o),o!==n);)a=w("nextSibling",o),1===o.nodeType&&t.end(o.nodeName.toLowerCase());o=a}for(;o=n.firstChild;)n.removeChild(o)}function v(e){for(var t={},n=0,i=e.length;n<i;n++){var o=e[n];t[o.name]=o.value}return t}function b(e){return e.replace(/&/g,"&amp;").replace(C,function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1);return"&#"+(1024*(t-55296)+(n-56320)+65536)+";"}).replace(S,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function y(e,t){var n=!1,i=o(e,e.push);return{start:function(e,o){e=c(e),!n&&_[e]&&(n=e),n||I[e]!==!0||(i("<"),i(e),r(o,function(n,o){var a=c(o),r="img"===e&&"src"===a||"background"===a;H[a]!==!0||R[a]===!0&&!t(n,r)||(i(" "),i(o),i('="'),i(b(n)),i('"'))}),i(">"))},end:function(e){e=c(e),n||I[e]!==!0||T[e]===!0||(i("</"),i(e),i(">")),e==n&&(n=!1)},chars:function(e){n||i(b(e))}}}function x(t){for(;t;){if(t.nodeType===e.Node.ELEMENT_NODE)for(var n=t.attributes,i=0,o=n.length;i<o;i++){var a=n[i],r=a.name.toLowerCase();"xmlns:ns1"!==r&&0!==r.lastIndexOf("ns1:",0)||(t.removeAttributeNode(a),i--,o--)}var l=t.firstChild;l&&x(l),t=w("nextSibling",t)}}function w(e,t){var n=t[e];if(n&&p.call(t,n))throw h("elclob","Failed to sanitize html because the element is clobbered: {0}",t.outerHTML||t.outerText);return n}var k=!1,$=!1;this.$get=["$$sanitizeUri",function(e){return k=!0,$&&a(I,O),function(t){var n=[];return d(t,f(n,function(t,n){return!/^unsafe:/.test(e(t,n))})),n.join("")}}],this.enableSvg=function(e){return s(e)?($=e,this):$},this.addValidElements=function(e){return k||(l(e)&&(e={htmlElements:e}),g(O,e.svgElements),g(T,e.htmlVoidElements),g(I,e.htmlVoidElements),g(I,e.htmlElements)),this},this.addValidAttrs=function(e){return k||a(H,i(e,!0)),this},o=t.bind,a=t.extend,r=t.forEach,l=t.isArray,s=t.isDefined,c=t.$$lowercase,u=t.noop,d=m,f=y,p=e.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))};var C=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,S=/([^#-~ |!])/g,T=n("area,br,col,hr,img,wbr"),P=n("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),A=n("rp,rt"),D=a({},A,P),E=a({},P,n("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),M=a({},A,n("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),O=n("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),_=n("script,style"),I=a({},T,E,M,D),R=n("background,cite,href,longdesc,src,xlink:href,xml:base"),L=n("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),N=n("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),H=a({},R,N,L),F=function(e,t){function n(){try{return!!i("")}catch(e){return!1}}function i(t){t="<remove></remove>"+t;try{var n=(new e.DOMParser).parseFromString(t,"text/html").body;return n.firstChild.remove(),n}catch(i){return}}function o(e){return r.innerHTML=e,t.documentMode&&x(r),r}if(n())return i;if(!t||!t.implementation)throw h("noinert","Can't create an inert html document");var a=t.implementation.createHTMLDocument("inert"),r=(a.documentElement||a.getDocumentElement()).querySelector("body");return o}(e,e.document)}function i(e){var t=[],n=f(t,u);return n.chars(e),t.join("")}var o,a,r,l,s,c,u,p,d,f,h=t.$$minErr("$sanitize");t.module("ngSanitize",[]).provider("$sanitize",n).info({angularVersion:"1.9.6"}),t.module("ngSanitize").filter("linky",["$sanitize",function(e){var n=/((s?ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,o=/^mailto:/i,a=t.$$minErr("linky"),r=t.isDefined,l=t.isFunction,s=t.isObject,c=t.isString;return function(t,u,p){function d(e){e&&y.push(i(e))}function f(e,t){var n,i=v(e);y.push("<a ");for(n in i)y.push(n+'="'+i[n]+'" ');!r(u)||"target"in i||y.push('target="',u,'" '),y.push('href="',e.replace(/"/g,"&quot;"),'">'),d(t),y.push("</a>")}if(null==t||""===t)return t;if(!c(t))throw a("notstring","Expected string but received: {0}",t);for(var h,g,m,v=l(p)?p:s(p)?function(){return p}:function(){return{}},b=t,y=[];h=b.match(n);)g=h[0],h[2]||h[4]||(g=(h[3]?"http://":"mailto:")+g),m=h.index,d(b.substr(0,m)),f(g,h[0].replace(o,"")),b=b.substring(m+h[0].length);return d(b),e(y.join(""))}}])}(window,window.angular),function(){"use strict";function e(e,t){var n=e.$eval(t.legendmargin)||{left:0,top:5,bottom:5,right:0};"object"!=typeof n&&(n={left:n,top:n,bottom:n,right:n}),e.legendmargin=n}function t(t,n,i){t.legend&&i.showlegend&&"true"===i.showlegend&&(e(n,i),t.legend.margin(n.legendmargin),t.legend.width(void 0===i.legendwidth?400:+i.legendwidth),t.legend.height(void 0===i.legendheight?20:+i.legendheight),t.legend.key(void 0===i.legendkey?function(e){return e.key}:n.legendkey()),t.legend.color(void 0===i.legendcolor?nv.utils.defaultColor():n.legendcolor()),t.legend.align(void 0===i.legendalign||"true"===i.legendalign),t.legend.rightAlign(void 0===i.legendrightalign||"true"===i.legendrightalign),t.legend.updateState(void 0===i.legendupdatestate||"true"===i.legendupdatestate),t.legend.radioButtonMode(void 0!==i.legendradiobuttonmode&&"true"===i.legendradiobuttonmode))}function n(e,t){e.dispatch&&(e.dispatch.tooltipShow&&e.dispatch.on("tooltipShow.directive",function(e){t.$emit("tooltipShow.directive",e)}),e.dispatch.tooltipHide&&e.dispatch.on("tooltipHide.directive",function(e){t.$emit("tooltipHide.directive",e)}),e.dispatch.beforeUpdate&&e.dispatch.on("beforeUpdate.directive",function(e){t.$emit("beforeUpdate.directive",e)}),e.dispatch.stateChange&&e.dispatch.on("stateChange.directive",function(e){t.$emit("stateChange.directive",e)}),e.dispatch.changeState&&e.dispatch.on("changeState.directive",function(e){t.$emit("changeState.directive",e)})),e.lines&&(e.lines.dispatch.on("elementMouseover.tooltip.directive",function(e){t.$emit("elementMouseover.tooltip.directive",e)}),e.lines.dispatch.on("elementMouseout.tooltip.directive",function(e){t.$emit("elementMouseout.tooltip.directive",e)}),e.lines.dispatch.on("elementClick.directive",function(e){t.$emit("elementClick.directive",e)})),e.stacked&&e.stacked.dispatch&&(e.stacked.dispatch.on("areaClick.toggle.directive",function(e){t.$emit("areaClick.toggle.directive",e)}),e.stacked.dispatch.on("tooltipShow.directive",function(e){t.$emit("tooltipShow.directive",e)}),e.stacked.dispatch.on("tooltipHide.directive",function(e){t.$emit("tooltipHide.directive",e)})),e.interactiveLayer&&(e.interactiveLayer.elementMouseout&&e.interactiveLayer.dispatch.on("elementMouseout.directive",function(e){t.$emit("elementMouseout.directive",e)}),e.interactiveLayer.elementMousemove&&e.interactiveLayer.dispatch.on("elementMousemove.directive",function(e){t.$emit("elementMousemove.directive",e)})),e.discretebar&&(e.discretebar.dispatch.on("elementMouseover.tooltip.directive",function(e){t.$emit("elementMouseover.tooltip.directive",e)}),e.discretebar.dispatch.on("elementMouseout.tooltip.directive",function(e){t.$emit("elementMouseover.tooltip.directive",e)}),e.discretebar.dispatch.on("elementClick.directive",function(e){t.$emit("elementClick.directive",e)})),e.multibar&&(e.multibar.dispatch.on("elementMouseover.tooltip.directive",function(e){t.$emit("elementMouseover.tooltip.directive",e)}),e.multibar.dispatch.on("elementMouseout.tooltip.directive",function(e){t.$emit("elementMouseover.tooltip.directive",e)}),e.multibar.dispatch.on("elementClick.directive",function(e){t.$emit("elementClick.directive",e)})),e.pie&&(e.pie.dispatch.on("elementMouseover.tooltip.directive",function(e){t.$emit("elementMouseover.tooltip.directive",e)}),e.pie.dispatch.on("elementMouseout.tooltip.directive",function(e){t.$emit("elementMouseover.tooltip.directive",e)}),e.pie.dispatch.on("elementClick.directive",function(e){t.$emit("elementClick.directive",e)})),e.scatter&&(e.scatter.dispatch.on("elementMouseover.tooltip.directive",function(e){t.$emit("elementMouseover.tooltip.directive",e)}),e.scatter.dispatch.on("elementMouseout.tooltip.directive",function(e){t.$emit("elementMouseover.tooltip.directive",e)})),e.bullet&&(e.bullet.dispatch.on("elementMouseover.tooltip.directive",function(e){t.$emit("elementMouseover.tooltip.directive",e)}),e.bullet.dispatch.on("elementMouseout.tooltip.directive",function(e){t.$emit("elementMouseover.tooltip.directive",e)})),e.legend&&(e.legend.dispatch.on("stateChange.legend.directive",function(e){t.$emit("stateChange.legend.directive",e)}),e.legend.dispatch.on("legendClick.directive",function(e,n){t.$emit("legendClick.directive",e,n)}),e.legend.dispatch.on("legendDblclick.directive",function(e,n){t.$emit("legendDblclick.directive",e,n)}),e.legend.dispatch.on("legendMouseover.directive",function(e,n){t.$emit("legendMouseover.directive",e,n)})),e.controls&&e.controls.legendClick&&e.controls.dispatch.on("legendClick.directive",function(e,n){t.$emit("legendClick.directive",e,n)})}function i(e,t,n){n.xaxisorient&&e.xAxis.orient(n.xaxisorient),n.xaxisticks&&e.xAxis.scale().ticks(n.xaxisticks),n.xaxistickvalues&&(Array.isArray(t.$eval(n.xaxistickvalues))?e.xAxis.tickValues(t.$eval(n.xaxistickvalues)):"function"==typeof t.xaxistickvalues()&&e.xAxis.tickValues(t.xaxistickvalues())),n.xaxisticksubdivide&&e.xAxis.tickSubdivide(t.xaxisticksubdivide()),n.xaxisticksize&&e.xAxis.tickSize(t.xaxisticksize()),n.xaxistickpadding&&e.xAxis.tickPadding(t.xaxistickpadding()),n.xaxistickformat&&e.xAxis.tickFormat(t.xaxistickformat()),n.xaxislabel&&e.xAxis.axisLabel(n.xaxislabel),n.xaxisscale&&e.xAxis.scale(t.xaxisscale()),n.xaxisdomain&&(Array.isArray(t.$eval(n.xaxisdomain))?e.xDomain(t.$eval(n.xaxisdomain)):"function"==typeof t.xaxisdomain()&&e.xDomain(t.xaxisdomain())),n.xaxisrange&&(Array.isArray(t.$eval(n.xaxisrange))?e.xRange(t.$eval(n.xaxisrange)):"function"==typeof t.xaxisrange()&&e.xRange(t.xaxisrange())),n.xaxisrangeband&&e.xAxis.rangeBand(t.xaxisrangeband()),n.xaxisrangebands&&e.xAxis.rangeBands(t.xaxisrangebands()),n.xaxisshowmaxmin&&e.xAxis.showMaxMin("true"===n.xaxisshowmaxmin),n.xaxishighlightzero&&e.xAxis.highlightZero("true"===n.xaxishighlightzero),n.xaxisrotatelabels&&e.xAxis.rotateLabels(+n.xaxisrotatelabels),n.xaxisstaggerlabels&&e.xAxis.staggerLabels("true"===n.xaxisstaggerlabels),n.xaxislabeldistance&&e.xAxis.axisLabelDistance(+n.xaxislabeldistance)}function o(e,t,n){n.x2axisorient&&e.x2Axis.orient(n.x2axisorient),n.x2axisticks&&e.x2Axis.scale().ticks(n.x2axisticks),n.x2axistickvalues&&(Array.isArray(t.$eval(n.x2axistickvalues))?e.x2Axis.tickValues(t.$eval(n.x2axistickvalues)):"function"==typeof t.xaxistickvalues()&&e.x2Axis.tickValues(t.x2axistickvalues())),n.x2axisticksubdivide&&e.x2Axis.tickSubdivide(t.x2axisticksubdivide()),n.x2axisticksize&&e.x2Axis.tickSize(t.x2axisticksize()),n.x2axistickpadding&&e.x2Axis.tickPadding(t.x2axistickpadding()),n.x2axistickformat&&e.x2Axis.tickFormat(t.x2axistickformat()),n.x2axislabel&&e.x2Axis.axisLabel(n.x2axislabel),n.x2axisscale&&e.x2Axis.scale(t.x2axisscale()),n.x2axisdomain&&(Array.isArray(t.$eval(n.x2axisdomain))?e.x2Axis.domain(t.$eval(n.x2axisdomain)):"function"==typeof t.x2axisdomain()&&e.x2Axis.domain(t.x2axisdomain())),n.x2axisrange&&(Array.isArray(t.$eval(n.x2axisrange))?e.x2Axis.range(t.$eval(n.x2axisrange)):"function"==typeof t.x2axisrange()&&e.x2Axis.range(t.x2axisrange())),n.x2axisrangeband&&e.x2Axis.rangeBand(t.x2axisrangeband()),n.x2axisrangebands&&e.x2Axis.rangeBands(t.x2axisrangebands()),n.x2axisshowmaxmin&&e.x2Axis.showMaxMin("true"===n.x2axisshowmaxmin),n.x2axishighlightzero&&e.x2Axis.highlightZero("true"===n.x2axishighlightzero),n.x2axisrotatelables&&e.x2Axis.rotateLabels(+n.x2axisrotatelables),n.x2axisstaggerlabels&&e.x2Axis.staggerLabels("true"===n.x2axisstaggerlabels),n.x2axislabeldistance&&e.x2Axis.axisLabelDistance(+n.x2axislabeldistance)}function a(e,t,n){n.yaxisorient&&e.yAxis.orient(n.yaxisorient),n.yaxisticks&&e.yAxis.scale().ticks(n.yaxisticks),n.yaxistickvalues&&(Array.isArray(t.$eval(n.yaxistickvalues))?e.yAxis.tickValues(t.$eval(n.yaxistickvalues)):"function"==typeof t.yaxistickvalues()&&e.yAxis.tickValues(t.yaxistickvalues())),n.yaxisticksubdivide&&e.yAxis.tickSubdivide(t.yaxisticksubdivide()),n.yaxisticksize&&e.yAxis.tickSize(t.yaxisticksize()),n.yaxistickpadding&&e.yAxis.tickPadding(t.yaxistickpadding()),n.yaxistickformat&&e.yAxis.tickFormat(t.yaxistickformat()),n.yaxislabel&&e.yAxis.axisLabel(n.yaxislabel),n.yaxisscale&&e.yAxis.scale(t.yaxisscale()),n.yaxisdomain&&(Array.isArray(t.$eval(n.yaxisdomain))?e.yDomain(t.$eval(n.yaxisdomain)):"function"==typeof t.yaxisdomain()&&e.yDomain(t.yaxisdomain())),n.yaxisrange&&(Array.isArray(t.$eval(n.yaxisrange))?e.yRange(t.$eval(n.yaxisrange)):"function"==typeof t.yaxisrange()&&e.yRange(t.yaxisrange())),n.yaxisrangeband&&e.yAxis.rangeBand(t.yaxisrangeband()),n.yaxisrangebands&&e.yAxis.rangeBands(t.yaxisrangebands()),n.yaxisshowmaxmin&&e.yAxis.showMaxMin("true"===n.yaxisshowmaxmin),n.yaxishighlightzero&&e.yAxis.highlightZero("true"===n.yaxishighlightzero),n.yaxisrotatelabels&&e.yAxis.rotateLabels(+n.yaxisrotatelabels),n.yaxisrotateylabel&&e.yAxis.rotateYLabel("true"===n.yaxisrotateylabel),n.yaxisstaggerlabels&&e.yAxis.staggerLabels("true"===n.yaxisstaggerlabels),n.yaxislabeldistance&&e.yAxis.axisLabelDistance(+n.yaxislabeldistance)}function r(e,t,n){n.y1axisticks&&e.y1Axis.scale().ticks(n.y1axisticks),n.y1axistickvalues&&(Array.isArray(t.$eval(n.y1axistickvalues))?e.y1Axis.tickValues(t.$eval(n.y1axistickvalues)):"function"==typeof t.y1axistickvalues()&&e.y1Axis.tickValues(t.y1axistickvalues())),n.y1axisticksubdivide&&e.y1Axis.tickSubdivide(t.y1axisticksubdivide()),n.y1axisticksize&&e.y1Axis.tickSize(t.y1axisticksize()),n.y1axistickpadding&&e.y1Axis.tickPadding(t.y1axistickpadding()),n.y1axistickformat&&e.y1Axis.tickFormat(t.y1axistickformat()),n.y1axislabel&&e.y1Axis.axisLabel(n.y1axislabel),n.y1axisscale&&e.y1Axis.yScale(t.y1axisscale()),n.y1axisdomain&&(Array.isArray(t.$eval(n.y1axisdomain))?e.y1Axis.domain(t.$eval(n.y1axisdomain)):"function"==typeof t.y1axisdomain()&&e.y1Axis.domain(t.y1axisdomain())),n.y1axisrange&&(Array.isArray(t.$eval(n.y1axisrange))?e.y1Axis.range(t.$eval(n.y1axisrange)):"function"==typeof t.y1axisrange()&&e.y1Axis.range(t.y1axisrange())),n.y1axisrangeband&&e.y1Axis.rangeBand(t.y1axisrangeband()),n.y1axisrangebands&&e.y1Axis.rangeBands(t.y1axisrangebands()),n.y1axisshowmaxmin&&e.y1Axis.showMaxMin("true"===n.y1axisshowmaxmin),n.y1axishighlightzero&&e.y1Axis.highlightZero("true"===n.y1axishighlightzero),n.y1axisrotatelabels&&e.y1Axis.rotateLabels(+t.y1axisrotatelabels),n.y1axisrotateylabel&&e.y1Axis.rotateYLabel("true"===n.y1axisrotateylabel),n.y1axisstaggerlabels&&e.y1Axis.staggerlabels("true"===n.y1axisstaggerlabels),n.y1axislabeldistance&&e.y1Axis.axisLabelDistance(+n.y1axislabeldistance)}function l(e,t,n){n.y2axisticks&&e.y2Axis.scale().ticks(n.y2axisticks),n.y2axistickvalues&&e.y2Axis.tickValues(t.$eval(n.y2axistickvalues)),n.y2axisticksubdivide&&e.y2Axis.tickSubdivide(t.y2axisticksubdivide()),n.y2axisticksize&&e.y2Axis.tickSize(t.y2axisticksize()),n.y2axistickpadding&&e.y2Axis.tickPadding(t.y2axistickpadding()),n.y2axistickformat&&e.y2Axis.tickFormat(t.y2axistickformat()),n.y2axislabel&&e.y2Axis.axisLabel(n.y2axislabel),n.y2axisscale&&e.y2Axis.yScale(t.y2axisscale()),n.y2axisdomain&&(Array.isArray(t.$eval(n.y2axisdomain))?e.y2Axis.domain(t.$eval(n.y2axisdomain)):"function"==typeof t.y2axisdomain()&&e.y2Axis.domain(t.y2axisdomain())),n.y2axisrange&&(Array.isArray(t.$eval(n.y2axisrange))?e.y2Axis.range(t.$eval(n.y2axisrange)):"function"==typeof t.y2axisrange()&&e.y2Axis.range(t.y2axisrange())),n.y2axisrangeband&&e.y2Axis.rangeBand(t.y2axisrangeband()),n.y2axisrangebands&&e.y2Axis.rangeBands(t.y2axisrangebands()),n.y2axisshowmaxmin&&e.y2Axis.showMaxMin("true"===n.y2axisshowmaxmin),n.y2axishighlightzero&&e.y2Axis.highlightZero("true"===n.y2axishighlightzero),n.y2axisrotatelabels&&e.y2Axis.rotateLabels(+t.y2axisrotatelabels),n.y2axisrotateylabel&&e.y2Axis.rotateYLabel("true"===n.y2axisrotateylabel),n.y2axisstaggerlabels&&e.y2Axis.staggerlabels("true"===n.y2axisstaggerlabels),n.y2axislabeldistance&&e.y2Axis.axisLabelDistance(+n.y2axislabeldistance)}function s(e,t){var n=e.$eval(t.margin)||{left:50,top:50,bottom:50,right:50};"object"!=typeof n&&(n={left:n,top:n,bottom:n,right:n}),e.margin=n}function c(e,s,c,u,p){i(u,e,s),o(u,e,s),a(u,e,s),r(u,e,s),l(u,e,s),t(u,e,s),n(u,e);var d;s.id?(angular.isArray(p)&&0===p.length&&d3.select("#"+s.id+" svg").remove(),d3.select("#"+s.id+" svg").empty()&&d3.select("#"+s.id).append("svg"),d3.select("#"+s.id+" svg").attr("height",e.height).attr("width",e.width).datum(p).transition().duration(void 0===s.transitionduration?250:+s.transitionduration).call(u)):(d="chartid"+Math.floor(1000000001*Math.random()),angular.element(c).attr("data-chartid",d),d3.select("[data-chartid="+d+"] svg").empty()?d3.select("[data-chartid="+d+"]").append("svg").attr("height",e.height).attr("width",e.width).datum(p).transition().duration(void 0===s.transitionduration?250:+s.transitionduration).call(u):d3.select("[data-chartid="+d+"] svg").attr("height",e.height).attr("width",e.width).datum(p).transition().duration(void 0===s.transitionduration?250:+s.transitionduration).call(u));
}angular.module("legendDirectives",[]).directive("simpleSvgLegend",function(){return{restrict:"EA",scope:{id:"@",width:"@",height:"@",margin:"@",x:"@",y:"@",labels:"@",styles:"@",classes:"@",shapes:"@",padding:"@",columns:"@"},compile:function(){return function(e,t,n){var i,o,a,r,l,s,c,u,p,d,f,h=0,g=0,m=1,v=0,b=10,y="http://www.w3.org/2000/svg",x=0,w=0;r=e.$eval(n.margin)||{left:5,top:5,bottom:5,right:5},o="undefined"===n.width?t[0].parentElement.offsetWidth-(r.left+r.right):+n.width-(r.left+r.right),a="undefined"===n.height?t[0].parentElement.offsetHeight-(r.top+r.bottom):+n.height-(r.top+r.bottom),i=n.id?n.id:"legend-"+Math.random(),n.columns&&(m=+n.columns),n.padding&&(b=+n.padding),l=b+"",s=document.createElementNS(y,"svg"),n.width&&s.setAttribute("width",o+""),n.height&&s.setAttribute("height",a+""),s.setAttribute("id",i),n.x&&(x=+n.x),n.y&&(w=+n.y),t.append(s),c=document.createElementNS(y,"g"),c.setAttribute("transform","translate("+x+","+w+")"),s.appendChild(c),n.labels&&(u=e.$eval(n.labels)),n.styles&&(p=e.$eval(n.styles)),n.classes&&(d=e.$eval(n.classes)),n.shapes&&(f=e.$eval(n.shapes));for(var k in u)if(u.hasOwnProperty(k)){var $,C,S,T,P=f[k];v%m===0&&(h=0,g+=b+1.5*b),T=document.createElementNS(y,"g"),T.setAttribute("transform","translate("+h+", "+g+")"),"rect"===P?($=document.createElementNS(y,"rect"),$.setAttribute("y",0-b/2+""),$.setAttribute("width",l),$.setAttribute("height",l)):"ellipse"===P?($=document.createElementNS(y,"ellipse"),$.setAttribute("rx",l),$.setAttribute("ry",b+b/2+"")):($=document.createElementNS(y,"circle"),$.setAttribute("r",b/2+"")),p&&p[k]&&$.setAttribute("style",p[k]),d&&d[k]&&$.setAttribute("class",d[k]),T.appendChild($),h=h+$.clientWidth+(b+b/2),C=document.createElementNS(y,"text"),C.setAttribute("transform","translate(10, 5)"),C.appendChild(document.createTextNode(u[k])),T.appendChild(C),c.appendChild(T),S=C.clientWidth,h=h+S+(b+.75*b),v++}}}}}).directive("nvd3Legend",[function(){var e,t,n,i;return{restrict:"EA",scope:{data:"=",id:"@",margin:"&",width:"@",height:"@",key:"&",color:"&",align:"@",rightalign:"@",updatestate:"@",radiobuttonmode:"@",x:"&",y:"&"},link:function(o,a,r){o.$watch("data",function(l){if(l){if(o.chart)return d3.select("#"+r.id+" svg").attr("height",n).attr("width",t).datum(l).transition().duration(250).call(o.chart);e=o.$eval(r.margin)||{top:5,right:0,bottom:5,left:0},t=void 0===r.width?a[0].parentElement.offsetWidth-(e.left+e.right):+r.width-(e.left+e.right),n=void 0===r.height?a[0].parentElement.offsetHeight-(e.top+e.bottom):+r.height-(e.top+e.bottom),(void 0===t||t<0)&&(t=400),(void 0===n||n<0)&&(n=20),i=r.id?r.id:"legend-"+Math.random(),nv.addGraph({generate:function(){var i=nv.models.legend().width(t).height(n).margin(e).align(void 0===r.align||"true"===r.align).rightAlign(void 0===r.rightalign||"true"===r.rightalign).updateState(void 0===r.updatestate||"true"===r.updatestate).radioButtonMode(void 0!==r.radiobuttonmode&&"true"===r.radiobuttonmode).color(void 0===r.color?nv.utils.defaultColor():o.color()).key(void 0===r.key?function(e){return e.key}:o.key());return d3.select("#"+r.id+" svg")[0][0]||d3.select("#"+r.id).append("svg"),d3.select("#"+r.id+" svg").attr("height",n).attr("width",t).datum(l).transition().duration(250).call(i),nv.utils.windowResize(i.update),o.chart=i,i}})}})}}}]),angular.module("nvd3ChartDirectives",[]).directive("nvd3LineChart",[function(){return{restrict:"EA",scope:{data:"=",width:"@",height:"@",id:"@",showlegend:"@",tooltips:"@",showxaxis:"@",showyaxis:"@",rightalignyaxis:"@",defaultstate:"@",nodata:"@",margin:"&",tooltipcontent:"&",color:"&",x:"&",y:"&",forcex:"@",forcey:"@",isArea:"@",interactive:"@",clipedge:"@",clipvoronoi:"@",interpolate:"@",callback:"&",useinteractiveguideline:"@",xaxisorient:"&",xaxisticks:"@",xaxistickvalues:"&xaxistickvalues",xaxisticksubdivide:"&",xaxisticksize:"&",xaxistickpadding:"&",xaxistickformat:"&",xaxislabel:"@",xaxisscale:"&",xaxisdomain:"&",xaxisrange:"&",xaxisrangeband:"&",xaxisrangebands:"&",xaxisshowmaxmin:"@",xaxishighlightzero:"@",xaxisrotatelabels:"@",xaxisrotateylabel:"@",xaxisstaggerlabels:"@",xaxislabeldistance:"@",yaxisorient:"&",yaxisticks:"&",yaxistickvalues:"&yaxistickvalues",yaxisticksubdivide:"&",yaxisticksize:"&",yaxistickpadding:"&",yaxistickformat:"&",yaxislabel:"@",yaxisscale:"&",yaxisdomain:"&",yaxisrange:"&",yaxisrangeband:"&",yaxisrangebands:"&",yaxisshowmaxmin:"@",yaxishighlightzero:"@",yaxisrotatelabels:"@",yaxisrotateylabel:"@",yaxisstaggerlabels:"@",yaxislabeldistance:"@",legendmargin:"&",legendwidth:"@",legendheight:"@",legendkey:"@",legendcolor:"&",legendalign:"@",legendrightalign:"@",legendupdatestate:"@",legendradiobuttonmode:"@",objectequality:"@",transitionduration:"@"},controller:["$scope","$element","$attrs",function(e,t,n){e.d3Call=function(i,o){c(e,n,t,o,i)}}],link:function(e,t,n){e.$watch("data",function(t){if(t){if(e.chart)return e.d3Call(t,e.chart);nv.addGraph({generate:function(){s(e,n);var i=nv.models.lineChart().width(e.width).height(e.height).margin(e.margin).x(void 0===n.x?function(e){return e[0]}:e.x()).y(void 0===n.y?function(e){return e[1]}:e.y()).forceX(void 0===n.forcex?[]:e.$eval(n.forcex)).forceY(void 0===n.forcey?[0]:e.$eval(n.forcey)).showLegend(void 0!==n.showlegend&&"true"===n.showlegend).tooltips(void 0!==n.tooltips&&"true"===n.tooltips).showXAxis(void 0!==n.showxaxis&&"true"===n.showxaxis).showYAxis(void 0!==n.showyaxis&&"true"===n.showyaxis).rightAlignYAxis(void 0!==n.rightalignyaxis&&"true"===n.rightalignyaxis).noData(void 0===n.nodata?"No Data Available.":e.nodata).interactive(void 0!==n.interactive&&"true"===n.interactive).clipEdge(void 0!==n.clipedge&&"true"===n.clipedge).clipVoronoi(void 0!==n.clipvoronoi&&"true"===n.clipvoronoi).interpolate(void 0===n.interpolate?"linear":n.interpolate).color(void 0===n.color?nv.utils.defaultColor():e.color()).isArea(void 0===n.isarea?function(e){return e.area}:function(){return"true"===n.isarea});return n.useinteractiveguideline&&i.useInteractiveGuideline(void 0!==n.useinteractiveguideline&&"true"===n.useinteractiveguideline),n.tooltipcontent&&i.tooltipContent(e.tooltipcontent()),e.d3Call(t,i),nv.utils.windowResize(i.update),e.chart=i,i},callback:void 0===n.callback?null:e.callback()})}},void 0!==n.objectequality&&"true"===n.objectequality)}}}]).directive("nvd3CumulativeLineChart",[function(){return{restrict:"EA",scope:{data:"=",width:"@",height:"@",id:"@",showlegend:"@",tooltips:"@",showxaxis:"@",showyaxis:"@",rightalignyaxis:"@",defaultstate:"@",nodata:"@",margin:"&",tooltipcontent:"&",color:"&",x:"&",y:"&",forcex:"@",forcey:"@",isArea:"@",interactive:"@",clipedge:"@",clipvoronoi:"@",usevoronoi:"@",average:"&",rescaley:"@",callback:"&",useinteractiveguideline:"@",xaxisorient:"&",xaxisticks:"&",xaxistickvalues:"&xaxistickvalues",xaxisticksubdivide:"&",xaxisticksize:"&",xaxistickpadding:"&",xaxistickformat:"&",xaxislabel:"@",xaxisscale:"&",xaxisdomain:"&",xaxisrange:"&",xaxisrangeband:"&",xaxisrangebands:"&",xaxisshowmaxmin:"@",xaxishighlightzero:"@",xaxisrotatelabels:"@",xaxisrotateylabel:"@",xaxisstaggerlabels:"@",xaxislabeldistance:"@",yaxisorient:"&",yaxisticks:"&",yaxistickvalues:"&yaxistickvalues",yaxisticksubdivide:"&",yaxisticksize:"&",yaxistickpadding:"&",yaxistickformat:"&",yaxislabel:"@",yaxisscale:"&",yaxisdomain:"&",yaxisrange:"&",yaxisrangeband:"&",yaxisrangebands:"&",yaxisshowmaxmin:"@",yaxishighlightzero:"@",yaxisrotatelabels:"@",yaxisrotateylabel:"@",yaxisstaggerlabels:"@",yaxislabeldistance:"@",legendmargin:"&",legendwidth:"@",legendheight:"@",legendkey:"@",legendcolor:"&",legendalign:"@",legendrightalign:"@",legendupdatestate:"@",legendradiobuttonmode:"@",objectequality:"@",transitionduration:"@"},controller:["$scope","$element","$attrs",function(e,t,n){e.d3Call=function(i,o){c(e,n,t,o,i)}}],link:function(e,t,n){e.$watch("data",function(t){if(t){if(e.chart)return e.d3Call(t,e.chart);nv.addGraph({generate:function(){s(e,n);var i=nv.models.cumulativeLineChart().width(e.width).height(e.height).margin(e.margin).x(void 0===n.x?function(e){return e[0]}:e.x()).y(void 0===n.y?function(e){return e[1]}:e.y()).forceX(void 0===n.forcex?[]:e.$eval(n.forcex)).forceY(void 0===n.forcey?[0]:e.$eval(n.forcey)).showLegend(void 0!==n.showlegend&&"true"===n.showlegend).tooltips(void 0!==n.tooltips&&"true"===n.tooltips).showXAxis(void 0!==n.showxaxis&&"true"===n.showxaxis).showYAxis(void 0!==n.showyaxis&&"true"===n.showyaxis).rightAlignYAxis(void 0!==n.rightalignyaxis&&"true"===n.rightalignyaxis).noData(void 0===n.nodata?"No Data Available.":e.nodata).interactive(void 0!==n.interactive&&"true"===n.interactive).clipEdge(void 0!==n.clipedge&&"true"===n.clipedge).clipVoronoi(void 0!==n.clipvoronoi&&"true"===n.clipvoronoi).useVoronoi(void 0!==n.usevoronoi&&"true"===n.usevoronoi).average(void 0===n.average?function(e){return e.average}:e.average()).color(void 0===n.color?d3.scale.category10().range():e.color()).isArea(void 0===n.isarea?function(e){return e.area}:"true"===n.isarea);return n.useinteractiveguideline&&i.useInteractiveGuideline(void 0!==n.useinteractiveguideline&&"true"===n.useinteractiveguideline),n.tooltipcontent&&i.tooltipContent(e.tooltipcontent()),e.d3Call(t,i),nv.utils.windowResize(i.update),e.chart=i,i},callback:void 0===n.callback?null:e.callback()})}},void 0!==n.objectequality&&"true"===n.objectequality)}}}]).directive("nvd3StackedAreaChart",[function(){return{restrict:"EA",scope:{data:"=",width:"@",height:"@",id:"@",showlegend:"@",tooltips:"@",showcontrols:"@",nodata:"@",margin:"&",tooltipcontent:"&",color:"&",x:"&",y:"&",forcex:"@",forcey:"@",forcesize:"@",interactive:"@",usevoronoi:"@",clipedge:"@",interpolate:"@",style:"@",order:"@",offset:"@",size:"&",xScale:"&",yScale:"&",xDomain:"&",yDomain:"&",xRange:"&",yRange:"&",sizeDomain:"&",callback:"&",showxaxis:"&",xaxisorient:"&",xaxisticks:"&",xaxistickvalues:"&xaxistickvalues",xaxisticksubdivide:"&",xaxisticksize:"&",xaxistickpadding:"&",xaxistickformat:"&",xaxislabel:"@",xaxisscale:"&",xaxisdomain:"&",xaxisrange:"&",xaxisrangeband:"&",xaxisrangebands:"&",xaxisshowmaxmin:"@",xaxishighlightzero:"@",xaxisrotatelabels:"@",xaxisrotateylabel:"@",xaxisstaggerlabels:"@",xaxisaxislabeldistance:"@",showyaxis:"&",useinteractiveguideline:"@",yaxisorient:"&",yaxisticks:"&",yaxistickvalues:"&yaxistickvalues",yaxisticksubdivide:"&",yaxisticksize:"&",yaxistickpadding:"&",yaxistickformat:"&",yaxislabel:"@",yaxisscale:"&",yaxisdomain:"&",yaxisrange:"&",yaxisrangeband:"&",yaxisrangebands:"&",yaxisshowmaxmin:"@",yaxishighlightzero:"@",yaxisrotatelabels:"@",yaxisrotateylabel:"@",yaxisstaggerlabels:"@",yaxislabeldistance:"@",legendmargin:"&",legendwidth:"@",legendheight:"@",legendkey:"@",legendcolor:"&",legendalign:"@",legendrightalign:"@",legendupdatestate:"@",legendradiobuttonmode:"@",objectequality:"@",transitionduration:"@"},controller:["$scope","$element","$attrs",function(e,t,n){e.d3Call=function(i,o){c(e,n,t,o,i)}}],link:function(e,t,n){e.$watch("data",function(t){if(t){if(e.chart)return e.d3Call(t,e.chart);nv.addGraph({generate:function(){s(e,n);var i=nv.models.stackedAreaChart().width(e.width).height(e.height).margin(e.margin).x(void 0===n.x?function(e){return e[0]}:e.x()).y(void 0===n.y?function(e){return e[1]}:e.y()).forceX(void 0===n.forcex?[]:e.$eval(n.forcex)).forceY(void 0===n.forcey?[0]:e.$eval(n.forcey)).size(void 0===n.size?function(e){return void 0===e.size?1:e.size}:e.size()).forceSize(void 0===n.forcesize?[]:e.$eval(n.forcesize)).showLegend(void 0!==n.showlegend&&"true"===n.showlegend).showControls(void 0!==n.showcontrols&&"true"===n.showcontrols).showXAxis(void 0!==n.showxaxis&&"true"===n.showxaxis).showYAxis(void 0!==n.showyaxis&&"true"===n.showyaxis).tooltips(void 0!==n.tooltips&&"true"===n.tooltips).noData(void 0===n.nodata?"No Data Available.":e.nodata).interactive(void 0!==n.interactive&&"true"===n.interactive).clipEdge(void 0!==n.clipedge&&"true"===n.clipedge).color(void 0===n.color?nv.utils.defaultColor():e.color());return n.useinteractiveguideline&&i.useInteractiveGuideline(void 0!==n.useinteractiveguideline&&"true"===n.useinteractiveguideline),n.usevoronoi&&i.useVoronoi("true"===n.usevoronoi),n.style&&i.style(n.style),n.order&&i.order(n.order),n.offset&&i.offset(n.offset),n.interpolate&&i.interpolate(n.interpolate),n.tooltipcontent&&i.tooltipContent(e.tooltipcontent()),n.xscale&&i.xScale(e.xscale()),n.yscale&&i.yScale(e.yscale()),n.xdomain&&(Array.isArray(e.$eval(n.xdomain))?i.xDomain(e.$eval(n.xdomain)):"function"==typeof e.xdomain()&&i.xDomain(e.xdomain())),n.ydomain&&(Array.isArray(e.$eval(n.ydomain))?i.yDomain(e.$eval(n.ydomain)):"function"==typeof e.ydomain()&&i.yDomain(e.ydomain())),n.sizedomain&&i.sizeDomain(e.sizedomain()),e.d3Call(t,i),nv.utils.windowResize(i.update),e.chart=i,i},callback:void 0===n.callback?null:e.callback()})}},void 0!==n.objectequality&&"true"===n.objectequality)}}}]).directive("nvd3MultiBarChart",[function(){return{restrict:"EA",scope:{data:"=",width:"@",height:"@",id:"@",showlegend:"@",tooltips:"@",tooltipcontent:"&",color:"&",showcontrols:"@",nodata:"@",reducexticks:"@",staggerlabels:"@",rotatelabels:"@",margin:"&",x:"&",y:"&",forcey:"@",delay:"@",stacked:"@",callback:"&",showxaxis:"&",xaxisorient:"&",xaxisticks:"&",xaxistickvalues:"&xaxistickvalues",xaxisticksubdivide:"&",xaxisticksize:"&",xaxistickpadding:"&",xaxistickformat:"&",xaxislabel:"@",xaxisscale:"&",xaxisdomain:"&",xaxisrange:"&",xaxisrangeband:"&",xaxisrangebands:"&",xaxisshowmaxmin:"@",xaxishighlightzero:"@",xaxisrotatelabels:"@",xaxisrotateylabel:"@",xaxisstaggerlabels:"@",xaxisaxislabeldistance:"@",showyaxis:"&",yaxisorient:"&",yaxisticks:"&",yaxistickvalues:"&yaxistickvalues",yaxisticksubdivide:"&",yaxisticksize:"&",yaxistickpadding:"&",yaxistickformat:"&",yaxislabel:"@",yaxisscale:"&",yaxisdomain:"&",yaxisrange:"&",yaxisrangeband:"&",yaxisrangebands:"&",yaxisshowmaxmin:"@",yaxishighlightzero:"@",yaxisrotatelabels:"@",yaxisrotateylabel:"@",yaxisstaggerlabels:"@",yaxislabeldistance:"@",legendmargin:"&",legendwidth:"@",legendheight:"@",legendkey:"@",legendcolor:"&",legendalign:"@",legendrightalign:"@",legendupdatestate:"@",legendradiobuttonmode:"@",objectequality:"@",transitionduration:"@"},controller:["$scope","$element","$attrs",function(e,t,n){e.d3Call=function(i,o){c(e,n,t,o,i)}}],link:function(e,t,n){e.$watch("data",function(t){if(t){if(e.chart)return e.d3Call(t,e.chart);nv.addGraph({generate:function(){s(e,n);var i=nv.models.multiBarChart().width(e.width).height(e.height).margin(e.margin).x(void 0===n.x?function(e){return e[0]}:e.x()).y(void 0===n.y?function(e){return e[1]}:e.y()).forceY(void 0===n.forcey?[0]:e.$eval(n.forcey)).showLegend(void 0!==n.showlegend&&"true"===n.showlegend).showControls(void 0!==n.showcontrols&&"true"===n.showcontrols).showXAxis(void 0!==n.showxaxis&&"true"===n.showxaxis).showYAxis(void 0!==n.showyaxis&&"true"===n.showyaxis).tooltips(void 0!==n.tooltips&&"true"===n.tooltips).reduceXTicks(void 0!==n.reducexticks&&"true"===n.reducexticks).staggerLabels(void 0!==n.staggerlabels&&"true"===n.staggerlabels).noData(void 0===n.nodata?"No Data Available.":e.nodata).rotateLabels(void 0===n.rotatelabels?0:n.rotatelabels).color(void 0===n.color?nv.utils.defaultColor():e.color()).delay(void 0===n.delay?1200:n.delay).stacked(void 0!==n.stacked&&"true"===n.stacked);return n.tooltipcontent&&i.tooltipContent(e.tooltipcontent()),e.d3Call(t,i),nv.utils.windowResize(i.update),e.chart=i,i},callback:void 0===n.callback?null:e.callback()})}},void 0!==n.objectequality&&"true"===n.objectequality)}}}]).directive("nvd3DiscreteBarChart",[function(){return{restrict:"EA",scope:{data:"=",width:"@",height:"@",id:"@",tooltips:"@",showxaxis:"@",showyaxis:"@",tooltipcontent:"&",staggerlabels:"@",color:"&",margin:"&",nodata:"@",x:"&",y:"&",forcey:"@",showvalues:"@",valueformat:"&",callback:"&",xaxisorient:"&",xaxisticks:"&",xaxistickvalues:"&xaxistickvalues",xaxisticksubdivide:"&",xaxisticksize:"&",xaxistickpadding:"&",xaxistickformat:"&",xaxislabel:"@",xaxisscale:"&",xaxisdomain:"&",xaxisrange:"&",xaxisrangeband:"&",xaxisrangebands:"&",xaxisshowmaxmin:"@",xaxishighlightzero:"@",xaxisrotatelabels:"@",xaxisrotateylabel:"@",xaxisstaggerlabels:"@",xaxisaxislabeldistance:"@",yaxisorient:"&",yaxisticks:"&",yaxistickvalues:"&yaxistickvalues",yaxisticksubdivide:"&",yaxisticksize:"&",yaxistickpadding:"&",yaxistickformat:"&",yaxislabel:"@",yaxisscale:"&",yaxisdomain:"&",yaxisrange:"&",yaxisrangeband:"&",yaxisrangebands:"&",yaxisshowmaxmin:"@",yaxishighlightzero:"@",yaxisrotatelabels:"@",yaxisrotateylabel:"@",yaxisstaggerlabels:"@",yaxislabeldistance:"@",legendmargin:"&",legendwidth:"@",legendheight:"@",legendkey:"@",legendcolor:"&",legendalign:"@",legendrightalign:"@",legendupdatestate:"@",legendradiobuttonmode:"@",objectequality:"@",transitionduration:"@"},controller:["$scope","$element","$attrs",function(e,t,n){e.d3Call=function(i,o){c(e,n,t,o,i)}}],link:function(e,t,n){e.$watch("data",function(t){if(t){if(e.chart)return e.d3Call(t,e.chart);nv.addGraph({generate:function(){s(e,n);var i=nv.models.discreteBarChart().width(e.width).height(e.height).margin(e.margin).x(void 0===n.x?function(e){return e[0]}:e.x()).y(void 0===n.y?function(e){return e[1]}:e.y()).forceY(void 0===n.forcey?[0]:e.$eval(n.forcey)).showValues(void 0!==n.showvalues&&"true"===n.showvalues).tooltips(void 0!==n.tooltips&&"true"===n.tooltips).showXAxis(void 0!==n.showxaxis&&"true"===n.showxaxis).showYAxis(void 0!==n.showyaxis&&"true"===n.showyaxis).noData(void 0===n.nodata?"No Data Available.":e.nodata).staggerLabels(void 0!==n.staggerlabels&&"true"===n.staggerlabels).color(void 0===n.color?nv.utils.defaultColor():e.color());return n.tooltipcontent&&i.tooltipContent(e.tooltipcontent()),n.valueformat&&i.valueFormat(e.valueformat()),e.d3Call(t,i),nv.utils.windowResize(i.update),e.chart=i,i},callback:void 0===n.callback?null:e.callback()})}},void 0!==n.objectequality&&"true"===n.objectequality)}}}]).directive("nvd3HistoricalBarChart",[function(){return{restrict:"EA",scope:{data:"=",width:"@",height:"@",id:"@",tooltips:"@",tooltipcontent:"&",color:"&",margin:"&",nodata:"@",x:"&",y:"&",forcey:"@",isarea:"@",interactive:"@",clipedge:"@",clipvoronoi:"@",interpolate:"@",highlightPoint:"@",clearHighlights:"@",callback:"&",useinteractiveguideline:"@",xaxisorient:"&",xaxisticks:"&",xaxistickvalues:"&xaxistickvalues",xaxisticksubdivide:"&",xaxisticksize:"&",xaxistickpadding:"&",xaxistickformat:"&",xaxislabel:"@",xaxisscale:"&",xaxisdomain:"&",xaxisrange:"&",xaxisrangeband:"&",xaxisrangebands:"&",xaxisshowmaxmin:"@",xaxishighlightzero:"@",xaxisrotatelabels:"@",xaxisrotateylabel:"@",xaxisstaggerlabels:"@",xaxisaxislabeldistance:"@",yaxisorient:"&",yaxisticks:"&",yaxistickvalues:"&yaxistickvalues",yaxisticksubdivide:"&",yaxisticksize:"&",yaxistickpadding:"&",yaxistickformat:"&",yaxislabel:"@",yaxisscale:"&",yaxisdomain:"&",yaxisrange:"&",yaxisrangeband:"&",yaxisrangebands:"&",yaxisshowmaxmin:"@",yaxishighlightzero:"@",yaxisrotatelabels:"@",yaxisrotateylabel:"@",yaxisstaggerlabels:"@",yaxislabeldistance:"@",legendmargin:"&",legendwidth:"@",legendheight:"@",legendkey:"@",legendcolor:"&",legendalign:"@",legendrightalign:"@",legendupdatestate:"@",legendradiobuttonmode:"@",objectequality:"@",transitionduration:"@"},controller:["$scope","$element","$attrs",function(e,t,n){e.d3Call=function(i,o){c(e,n,t,o,i)}}],link:function(e,t,n){e.$watch("data",function(t){if(t){if(e.chart)return e.d3Call(t,e.chart);nv.addGraph({generate:function(){s(e,n);var i=nv.models.historicalBarChart().width(e.width).height(e.height).margin(e.margin).x(void 0===n.x?function(e){return e[0]}:e.x()).y(void 0===n.y?function(e){return e[1]}:e.y()).forceY(void 0===n.forcey?[0]:e.$eval(n.forcey)).tooltips(void 0!==n.tooltips&&"true"===n.tooltips).noData(void 0===n.nodata?"No Data Available.":e.nodata).interactive(void 0!==n.interactive&&"true"===n.interactive).color(void 0===n.color?nv.utils.defaultColor():e.color());return n.useinteractiveguideline&&i.useInteractiveGuideline(void 0!==n.useinteractiveguideline&&"true"===n.useinteractiveguideline),n.tooltipcontent&&i.tooltipContent(e.tooltipcontent()),n.valueformat&&i.valueFormat(e.valueformat()),e.d3Call(t,i),nv.utils.windowResize(i.update),e.chart=i,i},callback:void 0===n.callback?null:e.callback()})}},void 0!==n.objectequality&&"true"===n.objectequality)}}}]).directive("nvd3MultiBarHorizontalChart",[function(){return{restrict:"EA",scope:{data:"=",width:"@",height:"@",id:"@",showlegend:"@",tooltips:"@",tooltipcontent:"&",color:"&",showcontrols:"@",margin:"&",nodata:"@",x:"&",y:"&",forcey:"@",stacked:"@",showvalues:"@",valueformat:"&",callback:"&",xaxisorient:"&",xaxisticks:"&",xaxistickvalues:"&xaxistickvalues",xaxisticksubdivide:"&",xaxisticksize:"&",xaxistickpadding:"&",xaxistickformat:"&",xaxislabel:"@",xaxisscale:"&",xaxisdomain:"&",xaxisrange:"&",xaxisrangeband:"&",xaxisrangebands:"&",xaxisshowmaxmin:"@",xaxishighlightzero:"@",xaxisrotatelabels:"@",xaxisrotateylabel:"@",xaxisstaggerlabels:"@",xaxisaxislabeldistance:"@",yaxisorient:"&",yaxisticks:"&",yaxistickvalues:"&yaxistickvalues",yaxisticksubdivide:"&",yaxisticksize:"&",yaxistickpadding:"&",yaxistickformat:"&",yaxislabel:"@",yaxisscale:"&",yaxisdomain:"&",yaxisrange:"&",yaxisrangeband:"&",yaxisrangebands:"&",yaxisshowmaxmin:"@",yaxishighlightzero:"@",yaxisrotatelabels:"@",yaxisrotateylabel:"@",yaxisstaggerlabels:"@",yaxislabeldistance:"@",legendmargin:"&",legendwidth:"@",legendheight:"@",legendkey:"@",legendcolor:"&",legendalign:"@",legendrightalign:"@",legendupdatestate:"@",legendradiobuttonmode:"@",objectequality:"@",transitionduration:"@"},controller:["$scope","$element","$attrs",function(e,t,n){e.d3Call=function(i,o){c(e,n,t,o,i)}}],link:function(e,t,n){e.$watch("data",function(t){if(t){if(e.chart)return e.d3Call(t,e.chart);nv.addGraph({generate:function(){s(e,n);var i=nv.models.multiBarHorizontalChart().width(e.width).height(e.height).margin(e.margin).x(void 0===n.x?function(e){return e[0]}:e.x()).y(void 0===n.y?function(e){return e[1]}:e.y()).showXAxis(void 0!==n.showxaxis&&"true"===n.showxaxis).showYAxis(void 0!==n.showyaxis&&"true"===n.showyaxis).forceY(void 0===n.forcey?[0]:e.$eval(n.forcey)).tooltips(void 0!==n.tooltips&&"true"===n.tooltips).noData(void 0===n.nodata?"No Data Available.":e.nodata).color(void 0===n.color?nv.utils.defaultColor():e.color()).showLegend(void 0!==n.showlegend&&"true"===n.showlegend).showControls(void 0!==n.showcontrols&&"true"===n.showcontrols).showValues(void 0!==n.showvalues&&"true"===n.showvalues).stacked(void 0!==n.stacked&&"true"===n.stacked);return n.tooltipcontent&&i.tooltipContent(e.tooltipcontent()),n.valueformat&&i.valueFormat(e.valueformat()),e.d3Call(t,i),nv.utils.windowResize(i.update),e.chart=i,i},callback:void 0===n.callback?null:e.callback()})}},void 0!==n.objectequality&&"true"===n.objectequality)}}}]).directive("nvd3PieChart",[function(){return{restrict:"EA",scope:{data:"=",width:"@",height:"@",id:"@",showlabels:"@",showlegend:"@",donutLabelsOutside:"@",pieLabelsOutside:"@",labelType:"@",nodata:"@",margin:"&",x:"&",y:"&",color:"&",donut:"@",donutRatio:"@",labelthreshold:"@",description:"&",tooltips:"@",tooltipcontent:"&",valueFormat:"&",callback:"&",legendmargin:"&",legendwidth:"@",legendheight:"@",legendkey:"@",legendcolor:"&",legendalign:"@",legendrightalign:"@",legendupdatestate:"@",legendradiobuttonmode:"@",objectequality:"@",transitionduration:"@"},controller:["$scope","$element","$attrs",function(e,t,n){e.d3Call=function(i,o){c(e,n,t,o,i)}}],link:function(e,t,n){e.$watch("data",function(t){if(t){if(e.chart)return e.d3Call(t,e.chart);nv.addGraph({generate:function(){s(e,n);var i=nv.models.pieChart().x(void 0===n.x?function(e){return e[0]}:e.x()).y(void 0===n.y?function(e){return e[1]}:e.y()).width(e.width).height(e.height).margin(e.margin).tooltips(void 0!==n.tooltips&&"true"===n.tooltips).noData(void 0===n.nodata?"No Data Available.":e.nodata).showLabels(void 0!==n.showlabels&&"true"===n.showlabels).labelThreshold(void 0===n.labelthreshold?.02:n.labelthreshold).labelType(void 0===n.labeltype?"key":n.labeltype).pieLabelsOutside(void 0===n.pielabelsoutside||"true"===n.pielabelsoutside).valueFormat(void 0===n.valueformat?d3.format(",.2f"):n.valueformat).showLegend(void 0!==n.showlegend&&"true"===n.showlegend).description(void 0===n.description?function(e){return e.description}:e.description()).color(void 0===n.color?nv.utils.defaultColor():e.color()).donutLabelsOutside(void 0!==n.donutlabelsoutside&&"true"===n.donutlabelsoutside).donut(void 0!==n.donut&&"true"===n.donut).donutRatio(void 0===n.donutratio?.5:n.donutratio);return n.tooltipcontent&&i.tooltipContent(e.tooltipcontent()),e.d3Call(t,i),nv.utils.windowResize(i.update),e.chart=i,i},callback:void 0===n.callback?null:e.callback()})}},void 0!==n.objectequality&&"true"===n.objectequality)}}}]).directive("nvd3ScatterChart",[function(){return{restrict:"EA",scope:{data:"=",width:"@",height:"@",id:"@",showlegend:"@",tooltips:"@",showcontrols:"@",showDistX:"@",showDistY:"@",rightAlignYAxis:"@",fisheye:"@",xPadding:"@",yPadding:"@",tooltipContent:"&",tooltipXContent:"&",tooltipYContent:"&",color:"&",margin:"&",nodata:"@",transitionDuration:"@",shape:"&",onlyCircles:"@",interactive:"@",x:"&",y:"&",size:"&",forceX:"@",forceY:"@",forceSize:"@",xrange:"&",xdomain:"&",xscale:"&",yrange:"&",ydomain:"&",yscale:"&",sizerange:"&",sizedomain:"&",zscale:"&",callback:"&",xaxisorient:"&",xaxisticks:"&",xaxistickvalues:"&xaxistickvalues",xaxisticksubdivide:"&",xaxisticksize:"&",xaxistickpadding:"&",xaxistickformat:"&",xaxislabel:"@",xaxisscale:"&",xaxisdomain:"&",xaxisrange:"&",xaxisrangeband:"&",xaxisrangebands:"&",xaxisshowmaxmin:"@",xaxishighlightzero:"@",xaxisrotatelabels:"@",xaxisrotateylabel:"@",xaxisstaggerlabels:"@",xaxisaxislabeldistance:"@",yaxisorient:"&",yaxisticks:"&",yaxistickvalues:"&yaxistickvalues",yaxisticksubdivide:"&",yaxisticksize:"&",yaxistickpadding:"&",yaxistickformat:"&",yaxislabel:"@",yaxisscale:"&",yaxisdomain:"&",yaxisrange:"&",yaxisrangeband:"&",yaxisrangebands:"&",yaxisshowmaxmin:"@",yaxishighlightzero:"@",yaxisrotatelabels:"@",yaxisrotateylabel:"@",yaxisstaggerlabels:"@",yaxislabeldistance:"@",legendmargin:"&",legendwidth:"@",legendheight:"@",legendkey:"@",legendcolor:"&",legendalign:"@",legendrightalign:"@",legendupdatestate:"@",legendradiobuttonmode:"@",objectequality:"@",transitionduration:"@"},controller:["$scope","$element","$attrs",function(e,t,n){e.d3Call=function(i,o){c(e,n,t,o,i)}}],link:function(e,t,n){e.$watch("data",function(t){if(t){if(e.chart)return e.d3Call(t,e.chart);nv.addGraph({generate:function(){s(e,n);var i=nv.models.scatterChart().width(e.width).height(e.height).margin(e.margin).x(void 0===n.x?function(e){return e.x}:e.x()).y(void 0===n.y?function(e){return e.y}:e.y()).size(void 0===n.size?function(e){return void 0===e.size?1:e.size}:e.size()).forceX(void 0===n.forcex?[]:e.$eval(n.forcex)).forceY(void 0===n.forcey?[]:e.$eval(n.forcey)).forceSize(void 0===n.forcesize?[]:e.$eval(n.forcesize)).interactive(void 0!==n.interactive&&"true"===n.interactive).tooltips(void 0!==n.tooltips&&"true"===n.tooltips).tooltipContent(void 0===n.tooltipContent?null:e.tooltipContent()).tooltipXContent(void 0===n.tooltipxcontent?function(e,t){return"<strong>"+t+"</strong>"}:e.tooltipXContent()).tooltipYContent(void 0===n.tooltipycontent?function(e,t,n){return"<strong>"+n+"</strong>"}:e.tooltipYContent()).showControls(void 0!==n.showcontrols&&"true"===n.showcontrols).showLegend(void 0!==n.showlegend&&"true"===n.showlegend).showDistX(void 0!==n.showdistx&&"true"===n.showdistx).showDistY(void 0!==n.showdisty&&"true"===n.showdisty).xPadding(void 0===n.xpadding?0:+n.xpadding).yPadding(void 0===n.ypadding?0:+n.ypadding).fisheye(void 0===n.fisheye?0:+n.fisheye).noData(void 0===n.nodata?"No Data Available.":e.nodata).color(void 0===n.color?nv.utils.defaultColor():e.color()).transitionDuration(void 0===n.transitionduration?250:+n.transitionduration);return n.shape&&(i.scatter.onlyCircles(!1),i.scatter.shape(void 0===n.shape?function(e){return e.shape||"circle"}:e.shape())),n.xdomain&&(Array.isArray(e.$eval(n.xdomain))?i.xDomain(e.$eval(n.xdomain)):"function"==typeof e.xdomain()&&i.xDomain(e.xdomain())),n.ydomain&&(Array.isArray(e.$eval(n.ydomain))?i.yDomain(e.$eval(n.ydomain)):"function"==typeof e.ydomain()&&i.yDomain(e.ydomain())),n.xscale&&(i.xDomain(e.xdomain()),i.xRange(e.xrange()),i.xScale(e.xscale())),n.yscale&&(i.yDomain(e.ydomain()),i.yRange(e.yrange()),i.yScale(e.yscale())),n.zscale&&(i.sizeDomain(e.sizedomain()),i.sizeRange(e.sizerange()),i.zScale(e.zscale())),e.d3Call(t,i),nv.utils.windowResize(i.update),e.chart=i,i},callback:void 0===n.callback?null:e.callback()})}},void 0!==n.objectequality&&"true"===n.objectequality)}}}]).directive("nvd3ScatterPlusLineChart",[function(){return{restrict:"EA",scope:{data:"=",width:"@",height:"@",id:"@",showlegend:"@",tooltips:"@",showcontrols:"@",showDistX:"@",showDistY:"@",rightAlignYAxis:"@",fisheye:"@",tooltipContent:"&",tooltipXContent:"&",tooltipYContent:"&",color:"&",margin:"&",nodata:"@",transitionDuration:"@",shape:"&",onlyCircles:"@",interactive:"@",x:"&",y:"&",size:"&",forceX:"@",forceY:"@",forceSize:"@",xrange:"&",xdomain:"&",xscale:"&",yrange:"&",ydomain:"&",yscale:"&",sizerange:"&",sizedomain:"&",zscale:"&",callback:"&",xaxisorient:"&",xaxisticks:"&",xaxistickvalues:"&xaxistickvalues",xaxisticksubdivide:"&",xaxisticksize:"&",xaxistickpadding:"&",xaxistickformat:"&",xaxislabel:"@",xaxisscale:"&",xaxisdomain:"&",xaxisrange:"&",xaxisrangeband:"&",xaxisrangebands:"&",xaxisshowmaxmin:"@",xaxishighlightzero:"@",xaxisrotatelabels:"@",xaxisrotateylabel:"@",xaxisstaggerlabels:"@",xaxisaxislabeldistance:"@",yaxisorient:"&",yaxisticks:"&",yaxistickvalues:"&yaxistickvalues",yaxisticksubdivide:"&",yaxisticksize:"&",yaxistickpadding:"&",yaxistickformat:"&",yaxislabel:"@",yaxisscale:"&",yaxisdomain:"&",yaxisrange:"&",yaxisrangeband:"&",yaxisrangebands:"&",yaxisshowmaxmin:"@",yaxishighlightzero:"@",yaxisrotatelabels:"@",yaxisrotateylabel:"@",yaxisstaggerlabels:"@",yaxislabeldistance:"@",legendmargin:"&",legendwidth:"@",legendheight:"@",legendkey:"@",legendcolor:"&",legendalign:"@",legendrightalign:"@",legendupdatestate:"@",legendradiobuttonmode:"@",objectequality:"@",transitionduration:"@"},controller:["$scope","$element","$attrs",function(e,t,n){e.d3Call=function(i,o){c(e,n,t,o,i)}}],link:function(e,t,n){e.$watch("data",function(t){if(t){if(e.chart)return e.d3Call(t,e.chart);nv.addGraph({generate:function(){s(e,n);var i=nv.models.scatterPlusLineChart().width(e.width).height(e.height).margin(e.margin).x(void 0===n.x?function(e){return e.x}:e.x()).y(void 0===n.y?function(e){return e.y}:e.y()).size(void 0===n.size?function(e){return void 0===e.size?1:e.size}:e.size()).interactive(void 0!==n.interactive&&"true"===n.interactive).tooltips(void 0!==n.tooltips&&"true"===n.tooltips).tooltipContent(void 0===n.tooltipContent?null:e.tooltipContent()).tooltipXContent(void 0===n.tooltipxcontent?function(e,t){return"<strong>"+t+"</strong>"}:e.tooltipXContent()).tooltipYContent(void 0===n.tooltipycontent?function(e,t,n){return"<strong>"+n+"</strong>"}:e.tooltipYContent()).showControls(void 0!==n.showcontrols&&"true"===n.showcontrols).showLegend(void 0!==n.showlegend&&"true"===n.showlegend).showDistX(void 0!==n.showdistx&&"true"===n.showdistx).showDistY(void 0!==n.showdisty&&"true"===n.showdisty).fisheye(void 0===n.fisheye?0:+n.fisheye).noData(void 0===n.nodata?"No Data Available.":e.nodata).color(void 0===n.color?nv.utils.defaultColor():e.color()).transitionDuration(void 0===n.transitionduration?250:+n.transitionduration);return n.shape&&(i.scatter.onlyCircles(!1),i.scatter.shape(void 0===n.shape?function(e){return e.shape||"circle"}:e.shape())),e.d3Call(t,i),nv.utils.windowResize(i.update),e.chart=i,i},callback:void 0===n.callback?null:e.callback()})}})}}}]).directive("nvd3LinePlusBarChart",[function(){return{restrict:"EA",scope:{data:"=",width:"@",height:"@",id:"@",showlegend:"@",tooltips:"@",showxaxis:"@",showyaxis:"@",forceX:"@",forceY:"@",
forceY2:"@",rightalignyaxis:"@",defaultstate:"@",nodata:"@",margin:"&",tooltipcontent:"&",color:"&",x:"&",y:"&",clipvoronoi:"@",interpolate:"@",callback:"&",xaxisorient:"&",xaxisticks:"&",xaxistickvalues:"&xaxistickvalues",xaxisticksubdivide:"&",xaxisticksize:"&",xaxistickpadding:"&",xaxistickformat:"&",xaxislabel:"@",xaxisscale:"&",xaxisdomain:"&",xaxisrange:"&",xaxisrangeband:"&",xaxisrangebands:"&",xaxisshowmaxmin:"@",xaxishighlightzero:"@",xaxisrotatelabels:"@",xaxisrotateylabel:"@",xaxisstaggerlabels:"@",xaxisaxislabeldistance:"@",y1axisorient:"&",y1axisticks:"&",y1axistickvalues:"&y1axistickvalues",y1axisticksubdivide:"&",y1axisticksize:"&",y1axistickpadding:"&",y1axistickformat:"&",y1axislabel:"@",y1axisscale:"&",y1axisdomain:"&",y1axisrange:"&",y1axisrangeband:"&",y1axisrangebands:"&",y1axisshowmaxmin:"@",y1axishighlightzero:"@",y1axisrotatelabels:"@",y1axisrotateylabel:"@",y1axisstaggerlabels:"@",y1axisaxislabeldistance:"@",y2axisorient:"&",y2axisticks:"&",y2axistickvalues:"&y2axistickvalues",y2axisticksubdivide:"&",y2axisticksize:"&",y2axistickpadding:"&",y2axistickformat:"&",y2axislabel:"@",y2axisscale:"&",y2axisdomain:"&",y2axisrange:"&",y2axisrangeband:"&",y2axisrangebands:"&",y2axisshowmaxmin:"@",y2axishighlightzero:"@",y2axisrotatelabels:"@",y2axisrotateylabel:"@",y2axisstaggerlabels:"@",y2axisaxislabeldistance:"@",legendmargin:"&",legendwidth:"@",legendheight:"@",legendkey:"@",legendcolor:"&",legendalign:"@",legendrightalign:"@",legendupdatestate:"@",legendradiobuttonmode:"@",objectequality:"@",transitionduration:"@",lineinteractive:"@",barinteractive:"@"},controller:["$scope","$element","$attrs",function(e,t,n){e.d3Call=function(i,o){c(e,n,t,o,i)}}],link:function(e,t,n){e.$watch("data",function(t){if(t){if(e.chart)return e.d3Call(t,e.chart);nv.addGraph({generate:function(){s(e,n);var i=nv.models.linePlusBarChart().width(e.width).height(e.height).margin(e.margin).x(void 0===n.x?function(e){return e[0]}:e.x()).y(void 0===n.y?function(e){return e[1]}:e.y()).showLegend(void 0!==n.showlegend&&"true"===n.showlegend).tooltips(void 0!==n.tooltips&&"true"===n.tooltips).noData(void 0===n.nodata?"No Data Available.":e.nodata).interpolate(void 0===n.interpolate?"linear":n.interpolate).color(void 0===n.color?nv.utils.defaultColor():e.color());return n.forcex&&(i.lines.forceX(e.$eval(n.forcex)),i.bars.forceX(e.$eval(n.forcex))),n.forcey&&(i.lines.forceY(e.$eval(n.forcey)),i.bars.forceY(e.$eval(n.forcey))),n.tooltipcontent&&i.tooltipContent(e.tooltipcontent()),n.lineinteractive&&"false"===n.lineinteractive&&i.lines.interactive(!1),n.barinteractive&&"false"===n.barinteractive&&i.bars.interactive(!1),e.d3Call(t,i),nv.utils.windowResize(i.update),e.chart=i,i},callback:void 0===n.callback?null:e.callback()})}},void 0!==n.objectequality&&"true"===n.objectequality)}}}]).directive("nvd3LineWithFocusChart",[function(){return{restrict:"EA",scope:{data:"=",width:"@",height:"@",height2:"@",id:"@",showlegend:"@",tooltips:"@",showxaxis:"@",showyaxis:"@",rightalignyaxis:"@",defaultstate:"@",nodata:"@",margin:"&",margin2:"&",tooltipcontent:"&",color:"&",x:"&",y:"&",forceX:"@",forceY:"@",clipedge:"@",clipvoronoi:"@",interpolate:"@",isArea:"@",size:"&",defined:"&",interactive:"@",callback:"&",xaxisorient:"&",xaxisticks:"&",xaxistickvalues:"&xaxistickvalues",xaxisticksubdivide:"&",xaxisticksize:"&",xaxistickpadding:"&",xaxistickformat:"&",xaxislabel:"@",xaxisscale:"&",xaxisdomain:"&",xaxisrange:"&",xaxisrangeband:"&",xaxisrangebands:"&",xaxisshowmaxmin:"@",xaxishighlightzero:"@",xaxisrotatelabels:"@",xaxisrotateylabel:"@",xaxisstaggerlabels:"@",xaxisaxislabeldistance:"@",x2axisorient:"&",x2axisticks:"&",x2axistickvalues:"&xaxistickvalues",x2axisticksubdivide:"&",x2axisticksize:"&",x2axistickpadding:"&",x2axistickformat:"&",x2axislabel:"@",x2axisscale:"&",x2axisdomain:"&",x2axisrange:"&",x2axisrangeband:"&",x2axisrangebands:"&",x2axisshowmaxmin:"@",x2axishighlightzero:"@",x2axisrotatelables:"@",x2axisrotateylabel:"@",x2axisstaggerlabels:"@",yaxisorient:"&",yaxisticks:"&",yaxistickvalues:"&yaxistickvalues",yaxisticksubdivide:"&",yaxisticksize:"&",yaxistickpadding:"&",yaxistickformat:"&",yaxislabel:"@",yaxisscale:"&",yaxisdomain:"&",yaxisrange:"&",yaxisrangeband:"&",yaxisrangebands:"&",yaxisshowmaxmin:"@",yaxishighlightzero:"@",yaxisrotatelabels:"@",yaxisrotateylabel:"@",yaxisstaggerlabels:"@",yaxislabeldistance:"@",y2axisorient:"&",y2axisticks:"&",y2axistickvalues:"&",y2axisticksubdivide:"&",y2axisticksize:"&",y2axistickpadding:"&",y2axistickformat:"&",y2axislabel:"@",y2axisscale:"&",y2axisdomain:"&",y2axisrange:"&",y2axisrangeband:"&",y2axisrangebands:"&",y2axisshowmaxmin:"@",y2axishighlightzero:"@",y2axisrotatelabels:"@",y2axisrotateylabel:"@",y2axisstaggerlabels:"@",legendmargin:"&",legendwidth:"@",legendheight:"@",legendkey:"@",legendcolor:"&",legendalign:"@",legendrightalign:"@",legendupdatestate:"@",legendradiobuttonmode:"@",objectequality:"@",transitionduration:"@"},controller:["$scope","$element","$attrs",function(e,t,n){e.d3Call=function(i,o){c(e,n,t,o,i)}}],link:function(e,t,n){e.$watch("data",function(t){if(t){if(e.chart)return e.d3Call(t,e.chart);nv.addGraph({generate:function(){if(s(e,n),n.margin2){var i=e.$eval(n.margin2);"object"!=typeof i&&(i={left:i,top:i,bottom:i,right:i}),e.margin2=i}else e.margin2={top:0,right:30,bottom:20,left:60};var o=nv.models.lineWithFocusChart().width(e.width).height(e.height).height2(void 0===n.height2?100:+n.height2).margin(e.margin).margin2(e.margin2).x(void 0===n.x?function(e){return e[0]}:e.x()).y(void 0===n.y?function(e){return e[1]}:e.y()).forceX(void 0===n.forcex?[]:e.$eval(n.forcex)).forceY(void 0===n.forcey?[]:e.$eval(n.forcey)).showLegend(void 0!==n.showlegend&&"true"===n.showlegend).tooltips(void 0!==n.tooltips&&"true"===n.tooltips).noData(void 0===n.nodata?"No Data Available.":e.nodata).color(void 0===n.color?nv.utils.defaultColor():e.color()).isArea(void 0===n.isarea?function(e){return e.area}:function(){return"true"===n.isarea}).size(void 0===n.size?function(e){return void 0===e.size?1:e.size}:e.size()).interactive(void 0!==n.interactive&&"true"===n.interactive).interpolate(void 0===n.interpolate?"linear":n.interpolate);return n.defined&&o.defined(e.defined()),n.tooltipcontent&&o.tooltipContent(e.tooltipcontent()),e.d3Call(t,o),nv.utils.windowResize(o.update),e.chart=o,o},callback:void 0===n.callback?null:e.callback()})}},void 0!==n.objectequality&&"true"===n.objectequality)}}}]).directive("nvd3BulletChart",[function(){return{restrict:"EA",scope:{data:"=",width:"@",height:"@",id:"@",margin:"&",tooltips:"@",tooltipcontent:"&",orient:"@",ranges:"&",markers:"&",measures:"&",tickformat:"&",nodata:"@",callback:"&",objectequality:"@",transitionduration:"@"},controller:["$scope","$element","$attrs",function(e,t,n){e.d3Call=function(i,o){c(e,n,t,o,i)}}],link:function(e,t,n){e.$watch("data",function(t){if(t){if(e.chart)return e.d3Call(t,e.chart);nv.addGraph({generate:function(){s(e,n);var i=nv.models.bulletChart().width(e.width).height(e.height).margin(e.margin).orient(void 0===n.orient?"left":n.orient).tickFormat(void 0===n.tickformat?null:e.tickformat()).tooltips(void 0!==n.tooltips&&"true"===n.tooltips).noData(void 0===n.nodata?"No Data Available.":e.nodata);return n.tooltipcontent&&i.tooltipContent(e.tooltipcontent()),e.d3Call(t,i),nv.utils.windowResize(i.update),e.chart=i,i},callback:void 0===n.callback?null:e.callback()})}},void 0!==n.objectequality&&"true"===n.objectequality)}}}]).directive("nvd3SparklineChart",[function(){return{restrict:"EA",scope:{data:"=",width:"@",height:"@",id:"@",margin:"&",x:"&",y:"&",color:"&",xscale:"&",yscale:"&",showvalue:"@",alignvalue:"@",rightalignvalue:"@",nodata:"@",callback:"&",xtickformat:"&",ytickformat:"&",objectequality:"@",transitionduration:"@"},controller:["$scope","$element","$attrs",function(e,t,n){e.d3Call=function(i,o){c(e,n,t,o,i)}}],link:function(e,t,n){e.$watch("data",function(t){if(t){if(e.chart)return e.d3Call(t,e.chart);nv.addGraph({generate:function(){s(e,n);var i=nv.models.sparklinePlus().width(e.width).height(e.height).margin(e.margin).x(void 0===n.x?function(e){return e.x}:e.x()).y(void 0===n.y?function(e){return e.y}:e.y()).xTickFormat(void 0===n.xtickformat?d3.format(",r"):e.xtickformat()).yTickFormat(void 0===n.ytickformat?d3.format(",.2f"):e.ytickformat()).color(void 0===n.color?nv.utils.getColor(["#000"]):e.color()).showValue(void 0===n.showvalue||"true"===n.showvalue).alignValue(void 0===n.alignvalue||"true"===n.alignvalue).rightAlignValue(void 0!==n.rightalignvalue&&"true"===n.rightalignvalue).noData(void 0===n.nodata?"No Data Available.":e.nodata);return n.xScale&&i.xScale(e.xScale()),n.yScale&&i.yScale(e.yScale()),e.d3Call(t,i),nv.utils.windowResize(i.update),e.chart=i,i},callback:void 0===n.callback?null:e.callback()})}},void 0!==n.objectequality&&"true"===n.objectequality)}}}]).directive("nvd3SparklineWithBandlinesChart",[function(){return{restrict:"EA",scope:{data:"=",width:"@",height:"@",id:"@",margin:"&",x:"&",y:"&",color:"&",xscale:"&",yscale:"&",showvalue:"@",alignvalue:"@",rightalignvalue:"@",nodata:"@",callback:"&",xtickformat:"&",ytickformat:"&",objectequality:"@",transitionduration:"@"},controller:["$scope","$element","$attrs",function(e,t,n){e.d3Call=function(i,o){var a,r,l,s,c;n.id?(d3.select("#"+n.id+" svg")||d3.select("#"+n.id).append("svg"),r=d3.select("#"+n.id+" svg").attr("height",e.height).attr("width",e.width).datum(i),l=d3.select("svg#"+n.id+" g.nvd3.nv-wrap.nv-sparkline"),s=[e.bandlineProperties.min,e.bandlineProperties.twentyFithPercentile,e.bandlineProperties.median,e.bandlineProperties.seventyFithPercentile,e.bandlineProperties.max],c=l.selectAll(".nv-bandline").data([s]),c.enter().append("g").attr("class","nv-bandline"),r.transition().duration(void 0===n.transitionduration?250:+n.transitionduration).call(o)):(a="chartid"+Math.floor(1000000001*Math.random()),angular.element(t).attr("data-chartid",a),r=d3.select("[data-iem-chartid="+a+"] svg").attr("height",e.height).attr("width",e.width).datum(i),l=d3.select("[data-iem-chartid="+a+"] svg g.nvd3.nv-wrap.nv-sparkline"),s=[e.bandlineProperties.min,e.bandlineProperties.twentyFithPercentile,e.bandlineProperties.median,e.bandlineProperties.seventyFithPercentile,e.bandlineProperties.max],c=l.selectAll(".nv-bandline").data([s]),c.enter().append("g").attr("class","nv-bandline"),r.transition().duration(void 0===n.transitionduration?250:+n.transitionduration).call(o))}}],link:function(e,t,o){e.$watch("data",function(t){if(t){if(e.chart)return e.d3Call(t,e.chart);nv.addGraph({generate:function(){e.bandlineProperties={};var r;s(e,o);var l=nv.models.sparklinePlus().width(e.width).height(e.height).margin(e.margin).x(void 0===o.x?function(e){return e.x}:e.x()).y(void 0===o.y?function(e){return e.y}:e.y()).xTickFormat(void 0===o.xtickformat?d3.format(",r"):e.xtickformat()).yTickFormat(void 0===o.ytickformat?d3.format(",.2f"):e.ytickformat()).color(void 0===o.color?nv.utils.getColor(["#000"]):e.color()).showValue(void 0===o.showvalue||"true"===o.showvalue).alignValue(void 0===o.alignvalue||"true"===o.alignvalue).rightAlignValue(void 0!==o.rightalignvalue&&"true"===o.rightalignvalue).noData(void 0===o.nodata?"No Data Available.":e.nodata);return e.bandlineProperties.min=d3.min(t,function(e){return e[1]}),e.bandlineProperties.max=d3.max(t,function(e){return e[1]}),r=t.map(function(e){return e[1]}).sort(function(e,t){return e[0]<t[0]?-1:e[0]===t[0]?0:1}),e.bandlineProperties.twentyFithPercentile=d3.quantile(r,.25),e.bandlineProperties.median=d3.median(r),e.bandlineProperties.seventyFithPercentile=d3.quantile(r,.75),o.xScale&&l.xScale(e.xScale()),o.yScale&&l.yScale(e.yScale()),i(l,e,o),a(l,e,o),n(l,e),e.d3Call(t,l),nv.utils.windowResize(l.update),e.chart=l,l},callback:void 0===o.callback?null:e.callback()})}},void 0!==o.objectequality&&"true"===o.objectequality)}}}])}(),angular.module("colorpicker.module",[]).factory("Helper",function(){return{closestSlider:function(e){var t=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector;return t.bind(e)("I")?e.parentNode:e},getOffset:function(e,t){for(var n=0,i=0,o=0,a=0;e&&!isNaN(e.offsetLeft)&&!isNaN(e.offsetTop);)n+=e.offsetLeft,i+=e.offsetTop,t||"BODY"!==e.tagName?(o+=e.scrollLeft,a+=e.scrollTop):(o+=document.documentElement.scrollLeft||e.scrollLeft,a+=document.documentElement.scrollTop||e.scrollTop),e=e.offsetParent;return{top:i,left:n,scrollX:o,scrollY:a}},stringParsers:[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}]}}).factory("Color",["Helper",function(e){return{value:{h:1,s:1,b:1,a:1},rgb:function(){var e=this.toRGB();return"rgb("+e.r+","+e.g+","+e.b+")"},rgba:function(){var e=this.toRGB();return"rgba("+e.r+","+e.g+","+e.b+","+e.a+")"},hex:function(){return this.toHex()},RGBtoHSB:function(e,t,n,i){e/=255,t/=255,n/=255;var o,a,r,l;return r=Math.max(e,t,n),l=r-Math.min(e,t,n),o=0===l?null:r===e?(t-n)/l:r===t?(n-e)/l+2:(e-t)/l+4,o=(o+360)%6*60/360,a=0===l?0:l/r,{h:o||1,s:a,b:r,a:i||1}},setColor:function(t){t=t.toLowerCase();for(var n in e.stringParsers)if(e.stringParsers.hasOwnProperty(n)){var i=e.stringParsers[n],o=i.re.exec(t),a=o&&i.parse(o);if(a)return this.value=this.RGBtoHSB.apply(null,a),!1}},setHue:function(e){this.value.h=1-e},setSaturation:function(e){this.value.s=e},setLightness:function(e){this.value.b=1-e},setAlpha:function(e){this.value.a=parseInt(100*(1-e),10)/100},toRGB:function(e,t,n,i){e||(e=this.value.h,t=this.value.s,n=this.value.b),e*=360;var o,a,r,l,s;return e=e%360/60,s=n*t,l=s*(1-Math.abs(e%2-1)),o=a=r=n-s,e=~~e,o+=[s,l,0,0,l,s][e],a+=[l,s,s,l,0,0][e],r+=[0,0,l,s,s,l][e],{r:Math.round(255*o),g:Math.round(255*a),b:Math.round(255*r),a:i||this.value.a}},toHex:function(e,t,n,i){var o=this.toRGB(e,t,n,i);return"#"+(1<<24|parseInt(o.r,10)<<16|parseInt(o.g,10)<<8|parseInt(o.b,10)).toString(16).substr(1)}}}]).factory("Slider",["Helper",function(e){var t={maxLeft:0,maxTop:0,callLeft:null,callTop:null,knob:{top:0,left:0}},n={};return{getSlider:function(){return t},getLeftPosition:function(e){return Math.max(0,Math.min(t.maxLeft,t.left+((e.pageX||n.left)-n.left)))},getTopPosition:function(e){return Math.max(0,Math.min(t.maxTop,t.top+((e.pageY||n.top)-n.top)))},setSlider:function(i,o){var a=e.closestSlider(i.target),r=e.getOffset(a,o);t.knob=a.children[0].style,t.left=i.pageX-r.left-window.pageXOffset+r.scrollX,t.top=i.pageY-r.top-window.pageYOffset+r.scrollY,n={left:i.pageX,top:i.pageY}},setSaturation:function(e,n){t={maxLeft:100,maxTop:100,callLeft:"setSaturation",callTop:"setLightness"},this.setSlider(e,n)},setHue:function(e,n){t={maxLeft:0,maxTop:100,callLeft:!1,callTop:"setHue"},this.setSlider(e,n)},setAlpha:function(e,n){t={maxLeft:0,maxTop:100,callLeft:!1,callTop:"setAlpha"},this.setSlider(e,n)},setKnob:function(e,n){t.knob.top=e+"px",t.knob.left=n+"px"}}}]).directive("colorpicker",["$document","$compile","Color","Slider","Helper",function(e,t,n,i,o){return{require:"?ngModel",restrict:"A",link:function(a,r,l,s){var c,u=l.colorpicker?l.colorpicker:"hex",p=angular.isDefined(l.colorpickerPosition)?l.colorpickerPosition:"bottom",d=!!angular.isDefined(l.colorpickerInline)&&l.colorpickerInline,f=!!angular.isDefined(l.colorpickerFixedPosition)&&l.colorpickerFixedPosition,h=angular.isDefined(l.colorpickerParent)?r.parent():angular.element(document.body),g=!!angular.isDefined(l.colorpickerWithInput)&&l.colorpickerWithInput,m=g?'<input type="text" name="colorpicker-input">':"",v=d?"":'<button type="button" class="close close-colorpicker">&times;</button>',b='<div class="colorpicker dropdown"><div class="dropdown-menu"><colorpicker-saturation><i></i></colorpicker-saturation><colorpicker-hue><i></i></colorpicker-hue><colorpicker-alpha><i></i></colorpicker-alpha><colorpicker-preview></colorpicker-preview>'+m+v+"</div></div>",y=angular.element(b),x=n,w=y.find("colorpicker-hue"),k=y.find("colorpicker-saturation"),$=y.find("colorpicker-preview"),C=y.find("i");if(t(y)(a),g){var S=y.find("input");S.on("mousedown",function(e){e.stopPropagation()}).on("keyup",function(e){var t=this.value;r.val(t),s&&a.$apply(s.$setViewValue(t)),e.stopPropagation(),e.preventDefault()}),r.on("keyup",function(){S.val(r.val())})}var T=function(){e.on("mousemove",A),e.on("mouseup",D)};"rgba"===u&&(y.addClass("alpha"),c=y.find("colorpicker-alpha"),c.on("click",function(e){i.setAlpha(e,f),A(e)}).on("mousedown",function(e){i.setAlpha(e,f),T()})),w.on("click",function(e){i.setHue(e,f),A(e)}).on("mousedown",function(e){i.setHue(e,f),T()}),k.on("click",function(e){i.setSaturation(e,f),A(e),angular.isDefined(l.colorpickerCloseOnSelect)&&R()}).on("mousedown",function(e){i.setSaturation(e,f),T()}),f&&y.addClass("colorpicker-fixed-position"),y.addClass("colorpicker-position-"+p),"true"===d&&y.addClass("colorpicker-inline"),h.append(y),s&&(s.$render=function(){r.val(s.$viewValue)},a.$watch(l.ngModel,function(e){E(),g&&S.val(e)})),r.on("$destroy",function(){y.remove()});var P=function(){try{$.css("backgroundColor",x[u]())}catch(e){$.css("backgroundColor",x.toHex())}k.css("backgroundColor",x.toHex(x.value.h,1,1,1)),"rgba"===u&&(c.css.backgroundColor=x.toHex())},A=function(e){var t=i.getLeftPosition(e),n=i.getTopPosition(e),o=i.getSlider();i.setKnob(n,t),o.callLeft&&x[o.callLeft].call(x,t/100),o.callTop&&x[o.callTop].call(x,n/100),P();var l=x[u]();return r.val(l),s&&a.$apply(s.$setViewValue(l)),g&&S.val(l),!1},D=function(){e.off("mousemove",A),e.off("mouseup",D)},E=function(){x.setColor(r.val()),C.eq(0).css({left:100*x.value.s+"px",top:100-100*x.value.b+"px"}),C.eq(1).css("top",100*(1-x.value.h)+"px"),C.eq(2).css("top",100*(1-x.value.a)+"px"),P()},M=function(){var e,t=o.getOffset(r[0]);return angular.isDefined(l.colorpickerParent)&&(t.left=0,t.top=0),"top"===p?e={top:t.top-147,left:t.left}:"right"===p?e={top:t.top,left:t.left+126}:"bottom"===p?e={top:t.top+r[0].offsetHeight+2,left:t.left}:"left"===p&&(e={top:t.top,left:t.left-150}),{top:e.top+"px",left:e.left+"px"}},O=function(){R()},_=function(){y.hasClass("colorpicker-visible")||(E(),y.addClass("colorpicker-visible").css(M()),d===!1&&e.on("mousedown",O),l.colorpickerIsOpen&&(a[l.colorpickerIsOpen]=!0,a.$$phase||a.$digest()))};d===!1?r.on("click",_):_(),y.on("mousedown",function(e){e.stopPropagation(),e.preventDefault()});var I=function(e){s&&a.$emit(e,{name:l.ngModel,value:s.$modelValue})},R=function(){y.hasClass("colorpicker-visible")&&(y.removeClass("colorpicker-visible"),I("colorpicker-closed"),e.off("mousedown",O),l.colorpickerIsOpen&&(a[l.colorpickerIsOpen]=!1,a.$$phase||a.$digest()))};y.find("button").on("click",function(){R()}),l.colorpickerIsOpen&&a.$watch(l.colorpickerIsOpen,function(e){e===!0?_():e===!1&&R()})}}}]),function(e,t){"use strict";var n=6,i=4,o="asc",a="desc",r="_ng_field_",l="_ng_depth_",s="_ng_hidden_",c="_ng_column_",u=/CUSTOM_FILTERS/g,p=/COL_FIELD/g,d=/DISPLAY_CELL_TEMPLATE/g,f=/EDITABLE_CELL_TEMPLATE/g,h=/CELL_EDITABLE_CONDITION/g,g=/<.+>/,m=/(\([^)]*\))?$/,v=/\./g,b=/'/g,y=/^(.*)((?:\s*\[\s*\d+\s*\]\s*)|(?:\s*\[\s*"(?:[^"\\]|\\.)*"\s*\]\s*)|(?:\s*\[\s*'(?:[^'\\]|\\.)*'\s*\]\s*))(.*)$/;e.ngGrid={},e.ngGrid.i18n={};var x=(angular.module("ngGrid.services",[]),angular.module("ngGrid.directives",[])),w=angular.module("ngGrid.filters",[]);angular.module("ngGrid",["ngGrid.services","ngGrid.directives","ngGrid.filters"]);var k=function(e,t,i,o){if(void 0===e.selectionProvider.selectedItems||o.config.noKeyboardNavigation)return!0;if("INPUT"===document.activeElement.tagName)return!0;var a,r=i.which||i.keyCode,l=!1,s=!1,c=void 0===e.selectionProvider.lastClickedRow?1:e.selectionProvider.lastClickedRow.rowIndex,u=e.columns.filter(function(e){return e.visible&&e.width>0}),p=e.columns.filter(function(e){return e.pinned});if(e.col&&(a=u.indexOf(e.col)),37!==r&&38!==r&&39!==r&&40!==r&&(o.config.noTabInterference||9!==r)&&13!==r)return!0;if(e.enableCellSelection){9===r&&i.preventDefault();var d=e.showSelectionCheckbox?1===a:0===a,f=1===a||0===a,h=a===u.length-1||a===u.length-2,g=u.indexOf(e.col)===u.length-1,m=p.indexOf(e.col)===p.length-1;if(37===r||9===r&&i.shiftKey){var v=0;d||(a-=1),f?d&&9===r&&i.shiftKey?(v=o.$canvas.width(),a=u.length-1,s=!0):v=o.$viewport.scrollLeft()-e.col.width:p.length>0&&(v=o.$viewport.scrollLeft()-u[a].width),o.$viewport.scrollLeft(v)}else(39===r||9===r&&!i.shiftKey)&&(h?g&&9===r&&!i.shiftKey?(o.$viewport.scrollLeft(0),a=e.showSelectionCheckbox?1:0,l=!0):o.$viewport.scrollLeft(o.$viewport.scrollLeft()+e.col.width):m&&o.$viewport.scrollLeft(0),g||(a+=1))}var b;b=e.configGroups.length>0?o.rowFactory.parsedData.filter(function(e){return!e.isAggRow}):o.filteredRows;var y=0;if(0!==c&&(38===r||13===r&&i.shiftKey||9===r&&i.shiftKey&&s)?y=-1:c!==b.length-1&&(40===r||13===r&&!i.shiftKey||9===r&&l)&&(y=1),y){var x=b[c+y];x.beforeSelectionChange(x,i)&&(x.continueSelection(i),e.$emit("ngGridEventDigestGridParent"),e.selectionProvider.lastClickedRow.renderedRowIndex>=e.renderedRows.length-n-2?o.$viewport.scrollTop(o.$viewport.scrollTop()+e.rowHeight):e.selectionProvider.lastClickedRow.renderedRowIndex<=n+2&&o.$viewport.scrollTop(o.$viewport.scrollTop()-e.rowHeight))}return e.enableCellSelection&&setTimeout(function(){e.domAccessProvider.focusCellElement(e,e.renderedColumns.indexOf(u[a]))},3),!1};String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var t=this.length>>>0,n=Number(arguments[1])||0;for(n=n<0?Math.ceil(n):Math.floor(n),n<0&&(n+=t);n<t;n++)if(n in this&&this[n]===e)return n;return-1}),Array.prototype.filter||(Array.prototype.filter=function(e){var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError;for(var i=[],o=arguments[1],a=0;a<n;a++)if(a in t){var r=t[a];e.call(o,r,a,t)&&i.push(r)}return i}),w.filter("checkmark",function(){return function(e){return e?"✔":"✘"}}),w.filter("ngColumns",function(){return function(e){return e.filter(function(e){return!e.isAggCol})}}),angular.module("ngGrid.services").factory("$domUtilityService",["$utilityService","$window",function(n,i){var o={},a={},r=function(){var e=t("<div></div>");e.appendTo("body"),e.height(100).width(100).css("position","absolute").css("overflow","scroll"),e.append('<div style="height: 400px; width: 400px;"></div>'),o.ScrollH=e.height()-e[0].clientHeight,o.ScrollW=e.width()-e[0].clientWidth,e.empty(),e.attr("style",""),e.append('<span style="font-family: Verdana, Helvetica, Sans-Serif; font-size: 14px;"><strong>M</strong></span>'),o.LetterW=e.children().first().width(),e.remove()};return o.eventStorage={},o.AssignGridContainers=function(e,n,i){i.$root=t(n),i.$topPanel=i.$root.find(".ngTopPanel"),i.$groupPanel=i.$root.find(".ngGroupPanel"),i.$headerContainer=i.$topPanel.find(".ngHeaderContainer"),e.$headerContainer=i.$headerContainer,i.$headerScroller=i.$topPanel.find(".ngHeaderScroller"),i.$headers=i.$headerScroller.children(),i.$viewport=i.$root.find(".ngViewport"),i.$canvas=i.$viewport.find(".ngCanvas"),i.$footerPanel=i.$root.find(".ngFooterPanel");var a=e.$watch(function(){return i.$viewport.scrollLeft()},function(e){return i.$headerContainer.scrollLeft(e)});e.$on("$destroy",function(){i.$root&&(t(i.$root.parent()).off("resize.nggrid"),i.$root=null,i.$topPanel=null,i.$headerContainer=null,i.$headers=null,i.$canvas=null,i.$footerPanel=null),a()}),o.UpdateGridLayout(e,i)},o.getRealWidth=function(e){var n=0,i={visibility:"hidden",display:"block"},o=e.parents().andSelf().not(":visible");return t.swap(o[0],i,function(){n=e.outerWidth()}),n},o.UpdateGridLayout=function(e,t){if(t.$root){var n=t.$viewport.scrollTop();t.elementDims.rootMaxW=t.$root.width(),t.$root.is(":hidden")&&(t.elementDims.rootMaxW=o.getRealWidth(t.$root)),t.elementDims.rootMaxH=t.$root.height(),t.refreshDomSizes(),e.adjustScrollTop(n,!0)}},o.numberOfGrids=0,o.setStyleText=function(e,t){var n=e.styleSheet,o=e.gridId,a=i.document;n||(n=a.getElementById(o)),n||(n=a.createElement("style"),n.type="text/css",n.id=o,(a.head||a.getElementsByTagName("head")[0]).appendChild(n)),n.styleSheet&&!n.sheet?n.styleSheet.cssText=t:n.innerHTML=t,e.styleSheet=n,e.styleText=t},o.BuildStyles=function(t,n,i){var a,r=n.config.rowHeight,l=n.gridId,s=t.columns,c=0,u=t.totalRowWidth();a="."+l+" .ngCanvas { width: "+u+"px; }."+l+" .ngRow { width: "+u+"px; }."+l+" .ngCanvas { width: "+u+"px; }",a+=e.isRtl?"."+l+" .ngHeaderScroller { width: "+u+"px}":"."+l+" .ngHeaderScroller { width: "+(u+o.ScrollH)+"px}";for(var p=0;p<s.length;p++){var d=s[p];if(d.visible!==!1){var f=0;e.isRtl||p===s.length-1&&c+d.width+20<n.elementDims.rootMaxW&&(f=n.elementDims.rootMaxW-c-d.width-20),a+="."+l+" .col"+p+" { width: "+(d.width+f)+"px; left: "+c+"px; height: "+r+"px }."+l+" .colt"+p+" { width: "+(d.width+f)+"px; }",c+=d.width}}o.setStyleText(n,a),t.adjustScrollLeft(n.$viewport.scrollLeft()),i&&o.digest(t)},o.setColLeft=function(e,t,n){if(n.styleText){var i=a[e.index];i||(i=a[e.index]=new RegExp(".col"+e.index+" { width: [0-9]+px; left: [0-9]+px"));var r=n.styleText.replace(i,".col"+e.index+" { width: "+e.width+"px; left: "+t+"px");o.setStyleText(n,r)}},o.setColLeft.immediate=1,o.RebuildGrid=function(e,t){o.UpdateGridLayout(e,t),(null==t.config.maintainColumnRatios||t.config.maintainColumnRatios)&&t.configureColumnWidths(),e.adjustScrollLeft(t.$viewport.scrollLeft()),o.BuildStyles(e,t,!0)},o.digest=function(e){e.$root.$$phase||e.$digest()},o.ScrollH=17,o.ScrollW=17,o.LetterW=10,r(),o}]),angular.module("ngGrid.services").factory("$sortService",["$parse","$utilityService",function(e,t){var n={};return n.colSortFnCache={},n.isCustomSort=!1,n.guessSortFn=function(e){var t=typeof e;switch(t){case"number":return n.sortNumber;case"boolean":return n.sortBool;case"string":return e.match(/^[-+]?[£$¤]?[\d,.]+%?$/)?n.sortNumberStr:n.sortAlpha;default:return"[object Date]"===Object.prototype.toString.call(e)?n.sortDate:n.basicSort}},n.basicSort=function(e,t){return e===t?0:e<t?-1:1},n.sortNumber=function(e,t){return e-t},n.sortNumberStr=function(e,t){var n,i,o=!1,a=!1;return n=parseFloat(e.replace(/[^0-9.-]/g,"")),isNaN(n)&&(o=!0),i=parseFloat(t.replace(/[^0-9.-]/g,"")),isNaN(i)&&(a=!0),o&&a?0:o?1:a?-1:n-i},n.sortAlpha=function(e,t){var n=e.toLowerCase(),i=t.toLowerCase();return n===i?0:n<i?-1:1},n.sortDate=function(e,t){var n=e.getTime(),i=t.getTime();return n===i?0:n<i?-1:1},n.sortBool=function(e,t){return e&&t?0:e||t?e?1:-1:0},n.sortData=function(e,i){if(i&&e){var a,r,l=e.fields.length,s=e.fields,c=i.slice(0);i.sort(function(i,u){for(var p,d,f=0,h=0;0===f&&h<l;){a=e.columns[h],r=e.directions[h],d=n.getSortFn(a,c);var g=t.evalProperty(i,s[h]),m=t.evalProperty(u,s[h]);n.isCustomSort?(p=d(g,m),f=r===o?p:0-p):null==g||null==m?null==m&&null==g?f=0:null==g?f=1:null==m&&(f=-1):(p=d(g,m),f=r===o?p:0-p),h++}return f})}},n.Sort=function(e,t){n.isSorting||(n.isSorting=!0,n.sortData(e,t),n.isSorting=!1)},n.getSortFn=function(t,i){var o,a;if(n.colSortFnCache[t.field])o=n.colSortFnCache[t.field];else if(void 0!==t.sortingAlgorithm)o=t.sortingAlgorithm,n.colSortFnCache[t.field]=t.sortingAlgorithm,n.isCustomSort=!0;else{if(a=i[0],!a)return o;o=n.guessSortFn(e("entity['"+t.field.replace(v,"']['")+"']")({entity:a})),o?n.colSortFnCache[t.field]=o:o=n.sortAlpha}return o},n}]),angular.module("ngGrid.services").factory("$utilityService",["$parse",function(n){var i=/function (.{1,})\(/,o={visualLength:function(e){var n=document.getElementById("testDataLength");n||(n=document.createElement("SPAN"),n.id="testDataLength",n.style.visibility="hidden",document.body.appendChild(n));var i=t(e);t(n).css({font:i.css("font"),"font-size":i.css("font-size"),"font-family":i.css("font-family")}),n.innerHTML=i.text();var o=n.offsetWidth;return document.body.removeChild(n),o},forIn:function(e,t){for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)},endsWith:function(e,t){return!(!e||!t||"string"!=typeof e)&&e.indexOf(t,e.length-t.length)!==-1},isNullOrUndefined:function(e){return void 0===e||null===e},getElementsByClassName:function(e){if(document.getElementsByClassName)return document.getElementsByClassName(e);for(var t=[],n=new RegExp("\\b"+e+"\\b"),i=document.getElementsByTagName("*"),o=0;o<i.length;o++){var a=i[o].className;n.test(a)&&t.push(i[o])}return t},newId:function(){var e=(new Date).getTime();return function(){return e+=1}}(),seti18n:function(t,n){var i=e.ngGrid.i18n[n];for(var o in i)t.i18n[o]=i[o]},getInstanceType:function(e){var t=i.exec(e.constructor.toString());if(t&&t.length>1){var n=t[1].replace(/^\s+|\s+$/g,"");return n}return""},init:function(){function e(t){var n=y.exec(t);if(n)return(n[1]?e(n[1]):n[1])+n[2]+(n[3]?e(n[3]):n[3]);t=t.replace(b,"\\'");var i=t.split(v),o=[i.shift()];return angular.forEach(i,function(e){o.push(e.replace(m,"']$1"))}),o.join("['")}return this.preEval=e,this.evalProperty=function(t,i){return n(e("entity."+i))({entity:t})},delete this.init,this}}.init();return o}]);var $=function(e,t,n,i){this.rowIndex=0,this.offsetTop=this.rowIndex*n,this.entity=e,this.label=e.gLabel,this.field=e.gField,this.depth=e.gDepth,this.parent=e.parent,this.children=e.children,this.aggChildren=e.aggChildren,this.aggIndex=e.aggIndex,this.collapsed=i,this.groupInitState=i,this.rowFactory=t,this.rowHeight=n,this.isAggRow=!0,this.offsetLeft=25*e.gDepth,this.aggLabelFilter=e.aggLabelFilter};$.prototype.toggleExpand=function(){this.collapsed=!this.collapsed,this.orig&&(this.orig.collapsed=this.collapsed),this.notifyChildren()},$.prototype.setExpand=function(e){this.collapsed=e,this.orig&&(this.orig.collapsed=e),this.notifyChildren()},$.prototype.notifyChildren=function(){for(var e=Math.max(this.rowFactory.aggCache.length,this.children.length),t=0;t<e;t++)if(this.aggChildren[t]&&(this.aggChildren[t].entity[s]=this.collapsed,this.collapsed&&this.aggChildren[t].setExpand(this.collapsed)),this.children[t]&&(this.children[t][s]=this.collapsed),t>this.aggIndex&&this.rowFactory.aggCache[t]){var n=this.rowFactory.aggCache[t],i=30*this.children.length;n.offsetTop=this.collapsed?n.offsetTop-i:n.offsetTop+i}this.rowFactory.renderedChange()},$.prototype.aggClass=function(){return this.collapsed?"ngAggArrowCollapsed":"ngAggArrowExpanded"},$.prototype.totalChildren=function(){if(this.aggChildren.length>0){var e=0,t=function(n){n.aggChildren.length>0?angular.forEach(n.aggChildren,function(e){t(e)}):e+=n.children.length};return t(this),e}return this.children.length},$.prototype.copy=function(){var e=new $(this.entity,this.rowFactory,this.rowHeight,this.groupInitState);return e.orig=this,e};var C=function(n,i,r,l,s,c){var p=this,d=n.colDef,f=500,h=0,m=null;p.colDef=n.colDef,p.width=d.width,p.groupIndex=0,p.isGroupedBy=!1,p.minWidth=d.minWidth?d.minWidth:50,p.maxWidth=d.maxWidth?d.maxWidth:9e3,p.enableCellEdit=void 0!==d.enableCellEdit?d.enableCellEdit:n.enableCellEdit||n.enableCellEditOnFocus,p.cellEditableCondition=d.cellEditableCondition||n.cellEditableCondition||"true",p.headerRowHeight=n.headerRowHeight,p.displayName=void 0===d.displayName?d.field:d.displayName,p.index=n.index,p.isAggCol=n.isAggCol,p.cellClass=d.cellClass,p.sortPriority=void 0,p.cellFilter=d.cellFilter?d.cellFilter:"",p.field=d.field,p.aggLabelFilter=d.aggLabelFilter||d.cellFilter,p.visible=c.isNullOrUndefined(d.visible)||d.visible,p.sortable=!1,p.resizable=!1,p.pinnable=!1,p.pinned=n.enablePinning&&d.pinned,p.originalIndex=null==n.originalIndex?p.index:n.originalIndex,p.groupable=c.isNullOrUndefined(d.groupable)||d.groupable,n.enableSort&&(p.sortable=c.isNullOrUndefined(d.sortable)||d.sortable),n.enableResize&&(p.resizable=c.isNullOrUndefined(d.resizable)||d.resizable),
n.enablePinning&&(p.pinnable=c.isNullOrUndefined(d.pinnable)||d.pinnable),p.sortDirection=void 0,p.sortingAlgorithm=d.sortFn,p.headerClass=d.headerClass,p.cursor=p.sortable?"pointer":"default",p.headerCellTemplate=d.headerCellTemplate||s.get("headerCellTemplate.html"),p.cellTemplate=d.cellTemplate||s.get("cellTemplate.html").replace(u,p.cellFilter?"|"+p.cellFilter:""),p.enableCellEdit&&(p.cellEditTemplate=d.cellEditTemplate||s.get("cellEditTemplate.html"),p.editableCellTemplate=d.editableCellTemplate||s.get("editableCellTemplate.html")),d.cellTemplate&&!g.test(d.cellTemplate)&&(p.cellTemplate=s.get(d.cellTemplate)||t.ajax({type:"GET",url:d.cellTemplate,async:!1}).responseText),p.enableCellEdit&&d.editableCellTemplate&&!g.test(d.editableCellTemplate)&&(p.editableCellTemplate=s.get(d.editableCellTemplate)||t.ajax({type:"GET",url:d.editableCellTemplate,async:!1}).responseText),d.headerCellTemplate&&!g.test(d.headerCellTemplate)&&(p.headerCellTemplate=s.get(d.headerCellTemplate)||t.ajax({type:"GET",url:d.headerCellTemplate,async:!1}).responseText),p.colIndex=function(){var e=p.pinned?"pinned ":"";return e+="col"+p.index+" colt"+p.index,p.cellClass&&(e+=" "+p.cellClass),e},p.groupedByClass=function(){return p.isGroupedBy?"ngGroupedByIcon":"ngGroupIcon"},p.toggleVisible=function(){p.visible=!p.visible},p.showSortButtonUp=function(){return p.sortable?p.sortDirection===a:p.sortable},p.showSortButtonDown=function(){return p.sortable?p.sortDirection===o:p.sortable},p.noSortVisible=function(){return!p.sortDirection},p.sort=function(e){if(!p.sortable)return!0;var t=p.sortDirection===o?a:o;return p.sortDirection=t,n.sortCallback(p,e),!1},p.gripClick=function(){h++,1===h?m=setTimeout(function(){h=0},f):(clearTimeout(m),n.resizeOnDataCallback(p),h=0)},p.gripOnMouseDown=function(e){return i.isColumnResizing=!0,e.ctrlKey&&!p.pinned?(p.toggleVisible(),l.BuildStyles(i,r),!0):(e.target.parentElement.style.cursor="col-resize",p.startMousePosition=e.clientX,p.origWidth=p.width,t(document).mousemove(p.onMouseMove),t(document).mouseup(p.gripOnMouseUp),!1)},p.onMouseMove=function(t){var n=e.isRtl?-t.clientX+p.startMousePosition:t.clientX-p.startMousePosition,o=n+p.origWidth;return p.width=o<p.minWidth?p.minWidth:o>p.maxWidth?p.maxWidth:o,i.hasUserChangedGridColumnWidths=!0,l.BuildStyles(i,r),!1},p.gripOnMouseUp=function(e){return t(document).off("mousemove",p.onMouseMove),t(document).off("mouseup",p.gripOnMouseUp),e.target.parentElement.style.cursor="default",l.digest(i),i.isColumnResizing=!1,!1},p.copy=function(){var e=new C(n,i,r,l,s,c);return e.isClone=!0,e.orig=p,e},p.setVars=function(e){p.orig=e,p.width=e.width,p.groupIndex=e.groupIndex,p.isGroupedBy=e.isGroupedBy,p.displayName=e.displayName,p.index=e.index,p.isAggCol=e.isAggCol,p.cellClass=e.cellClass,p.cellFilter=e.cellFilter,p.field=e.field,p.aggLabelFilter=e.aggLabelFilter,p.visible=e.visible,p.sortable=e.sortable,p.resizable=e.resizable,p.pinnable=e.pinnable,p.pinned=e.pinned,p.originalIndex=e.originalIndex,p.sortDirection=e.sortDirection,p.sortingAlgorithm=e.sortingAlgorithm,p.headerClass=e.headerClass,p.headerCellTemplate=e.headerCellTemplate,p.cellTemplate=e.cellTemplate,p.cellEditTemplate=e.cellEditTemplate}},S=function(e){this.outerHeight=null,this.outerWidth=null,t.extend(this,e)},T=function(e){this.previousColumn=null,this.grid=e};T.prototype.changeUserSelect=function(e,t){e.css({"-webkit-touch-callout":t,"-webkit-user-select":t,"-khtml-user-select":t,"-moz-user-select":"none"===t?"-moz-none":t,"-ms-user-select":t,"user-select":t})},T.prototype.focusCellElement=function(e,t){if(e.selectionProvider.lastClickedRow){var n=void 0!==t?t:this.previousColumn,i=e.selectionProvider.lastClickedRow.clone?e.selectionProvider.lastClickedRow.clone.elm:e.selectionProvider.lastClickedRow.elm;if(void 0!==n&&i){var o=angular.element(i[0].children).filter(function(){return 8!==this.nodeType}),a=Math.max(Math.min(e.renderedColumns.length-1,n),0);this.grid.config.showSelectionCheckbox&&angular.element(o[a]).scope()&&0===angular.element(o[a]).scope().col.index&&(a=1),o[a]&&o[a].children[1].children[0].focus(),this.previousColumn=n}}},T.prototype.selectionHandlers=function(e,t){function n(n){if(16===n.keyCode)return a.changeUserSelect(t,"none",n),!0;if(!o){o=!0;var i=k(e,t,n,a.grid);return o=!1,i}return!0}function i(e){return 16===e.keyCode&&a.changeUserSelect(t,"text",e),!0}var o=!1,a=this;t.bind("keydown",n),t.bind("keyup",i),t.on("$destroy",function(){t.off("keydown",n),t.off("keyup",i)})};var P=function(n,i,o,a){var r=this;r.colToMove=void 0,r.groupToMove=void 0,r.assignEvents=function(){n.config.jqueryUIDraggable&&!n.config.enablePinning?(n.$groupPanel.droppable({addClasses:!1,drop:function(e){r.onGroupDrop(e)}}),n.$groupPanel.on("$destroy",function(){n.$groupPanel=null})):(n.$groupPanel.on("mousedown",r.onGroupMouseDown).on("dragover",r.dragOver).on("drop",r.onGroupDrop),n.$topPanel.on("mousedown",".ngHeaderScroller",r.onHeaderMouseDown).on("dragover",".ngHeaderScroller",r.dragOver),n.$groupPanel.on("$destroy",function(){n.$groupPanel&&n.$groupPanel.off("mousedown"),n.$groupPanel=null}),n.config.enableColumnReordering&&n.$topPanel.on("drop",".ngHeaderScroller",r.onHeaderDrop),n.$topPanel.on("$destroy",function(){n.$topPanel&&n.$topPanel.off("mousedown"),n.config.enableColumnReordering&&n.$topPanel&&n.$topPanel.off("drop"),n.$topPanel=null})),i.$on("$destroy",i.$watch("renderedColumns",function(){a(r.setDraggables)}))},r.dragStart=function(e){e.dataTransfer.setData("text","")},r.dragOver=function(e){e.preventDefault()},r.setDraggables=function(){if(n.config.jqueryUIDraggable)n.$root&&n.$root.find(".ngHeaderSortColumn").draggable({helper:"clone",appendTo:"body",stack:"div",addClasses:!1,start:function(e){r.onHeaderMouseDown(e)}}).droppable({drop:function(e){r.onHeaderDrop(e)}});else if(n.$root){var e=n.$root.find(".ngHeaderSortColumn");if(angular.forEach(e,function(e){e.className&&e.className.indexOf("ngHeaderSortColumn")!==-1&&(e.setAttribute("draggable","true"),e.addEventListener&&(e.addEventListener("dragstart",r.dragStart),angular.element(e).on("$destroy",function(){angular.element(e).off("dragstart",r.dragStart),e.removeEventListener("dragstart",r.dragStart)})))}),navigator.userAgent.indexOf("MSIE")!==-1){var t=n.$root.find(".ngHeaderSortColumn");t.bind("selectstart",function(){return this.dragDrop(),!1}),angular.element(t).on("$destroy",function(){t.off("selectstart")})}}},r.onGroupMouseDown=function(e){var i=t(e.target);if("ngRemoveGroup"!==i[0].className){var o=angular.element(i).scope();o&&(n.config.jqueryUIDraggable||(i.attr("draggable","true"),this.addEventListener&&(this.addEventListener("dragstart",r.dragStart),angular.element(this).on("$destroy",function(){this.removeEventListener("dragstart",r.dragStart)})),navigator.userAgent.indexOf("MSIE")!==-1&&(i.bind("selectstart",function(){return this.dragDrop(),!1}),i.on("$destroy",function(){i.off("selectstart")}))),r.groupToMove={header:i,groupName:o.group,index:o.$index})}else r.groupToMove=void 0},r.onGroupDrop=function(e){e.stopPropagation();var o,a;r.groupToMove?(o=t(e.target).closest(".ngGroupElement"),"ngGroupPanel"===o.context.className?(i.configGroups.splice(r.groupToMove.index,1),i.configGroups.push(r.groupToMove.groupName)):(a=angular.element(o).scope(),a&&r.groupToMove.index!==a.$index&&(i.configGroups.splice(r.groupToMove.index,1),i.configGroups.splice(a.$index,0,r.groupToMove.groupName))),r.groupToMove=void 0,n.fixGroupIndexes()):r.colToMove&&(i.configGroups.indexOf(r.colToMove.col)===-1&&(o=t(e.target).closest(".ngGroupElement"),"ngGroupPanel"===o.context.className||"ngGroupPanelDescription ng-binding"===o.context.className?i.groupBy(r.colToMove.col):(a=angular.element(o).scope(),a&&i.removeGroup(a.$index))),r.colToMove=void 0),i.$$phase||i.$apply()},r.onHeaderMouseDown=function(e){var n=t(e.target).closest(".ngHeaderSortColumn"),i=angular.element(n).scope();i&&(r.colToMove={header:n,col:i.col})},r.onHeaderDrop=function(e){if(r.colToMove&&!r.colToMove.col.pinned){var a=t(e.target).closest(".ngHeaderSortColumn"),l=angular.element(a).scope();if(l){if(r.colToMove.col===l.col||l.col.pinned)return;i.columns.splice(r.colToMove.col.index,1),i.columns.splice(l.col.index,0,r.colToMove.col),n.fixColumnIndexes(),r.colToMove=void 0,o.digest(i)}}},r.assignGridEventHandlers=function(){n.config.tabIndex===-1?(n.$viewport.attr("tabIndex",o.numberOfGrids),o.numberOfGrids++):n.$viewport.attr("tabIndex",n.config.tabIndex);var a,r=function(){clearTimeout(a),a=setTimeout(function(){o.RebuildGrid(i,n)},100)};t(e).on("resize.nggrid",r);var l,s=function(){clearTimeout(l),l=setTimeout(function(){o.RebuildGrid(i,n)},100)};t(n.$root.parent()).on("resize.nggrid",s),i.$on("$destroy",function(){t(e).off("resize.nggrid",r)})},r.assignGridEventHandlers(),r.assignEvents()},A=function(e,t){e.maxRows=function(){var n=Math.max(e.totalServerItems,t.data.length);return n},e.$on("$destroy",e.$watch("totalServerItems",function(t,n){e.currentMaxPages=e.maxPages()})),e.multiSelect=t.config.enableRowSelection&&t.config.multiSelect,e.selectedItemCount=t.selectedItemCount,e.maxPages=function(){return 0===e.maxRows()?1:Math.ceil(e.maxRows()/e.pagingOptions.pageSize)},e.pageForward=function(){var t=e.pagingOptions.currentPage;e.totalServerItems>0?e.pagingOptions.currentPage=Math.min(t+1,e.maxPages()):e.pagingOptions.currentPage++},e.pageBackward=function(){var t=e.pagingOptions.currentPage;e.pagingOptions.currentPage=Math.max(t-1,1)},e.pageToFirst=function(){e.pagingOptions.currentPage=1},e.pageToLast=function(){var t=e.maxPages();e.pagingOptions.currentPage=t},e.cantPageForward=function(){var n=e.pagingOptions.currentPage,i=e.maxPages();return e.totalServerItems>0?n>=i:t.data.length<1},e.cantPageToLast=function(){return!(e.totalServerItems>0)||e.cantPageForward()},e.cantPageBackward=function(){var t=e.pagingOptions.currentPage;return t<=1}},D=function(o,a,r,l,c,u,p,d,f,h,m){var v={aggregateTemplate:void 0,afterSelectionChange:function(){},beforeSelectionChange:function(){return!0},checkboxCellTemplate:void 0,checkboxHeaderTemplate:void 0,columnDefs:void 0,data:[],dataUpdated:function(){},enableCellEdit:!1,enableCellEditOnFocus:!1,enableCellSelection:!1,enableColumnResize:!1,enableColumnReordering:!1,enableColumnHeavyVirt:!1,enablePaging:!1,enablePinning:!1,enableRowSelection:!0,enableSorting:!0,enableHighlighting:!1,excludeProperties:[],filterOptions:{filterText:"",useExternalFilter:!1},footerRowHeight:55,footerTemplate:void 0,forceSyncScrolling:!0,groups:[],groupsCollapsedByDefault:!0,headerRowHeight:30,headerRowTemplate:void 0,jqueryUIDraggable:!1,jqueryUITheme:!1,keepLastSelected:!0,maintainColumnRatios:void 0,menuTemplate:void 0,multiSelect:!0,pagingOptions:{pageSizes:[250,500,1e3],pageSize:250,currentPage:1},pinSelectionCheckbox:!1,plugins:[],primaryKey:void 0,rowHeight:30,rowTemplate:void 0,selectedItems:[],selectionCheckboxColumnWidth:25,selectWithCheckboxOnly:!1,showColumnMenu:!1,showFilter:!1,showFooter:!1,showGroupPanel:!1,showSelectionCheckbox:!1,sortInfo:{fields:[],columns:[],directions:[]},tabIndex:-1,totalServerItems:0,useExternalSorting:!1,i18n:"en",virtualizationThreshold:50,noTabInterference:!1},b=this;b.maxCanvasHt=0,b.config=t.extend(v,e.ngGrid.config,a),b.config.showSelectionCheckbox=b.config.showSelectionCheckbox&&b.config.enableColumnHeavyVirt===!1,b.config.enablePinning=b.config.enablePinning&&b.config.enableColumnHeavyVirt===!1,b.config.selectWithCheckboxOnly=b.config.selectWithCheckboxOnly&&b.config.showSelectionCheckbox!==!1,b.config.pinSelectionCheckbox=b.config.enablePinning,"string"==typeof a.columnDefs&&(b.config.columnDefs=o.$eval(a.columnDefs)),b.rowCache=[],b.rowMap=[],b.gridId="ng"+p.newId(),b.$root=null,b.$groupPanel=null,b.$topPanel=null,b.$headerContainer=null,b.$headerScroller=null,b.$headers=null,b.$viewport=null,b.$canvas=null,b.rootDim=b.config.gridDim,b.data=[],b.lateBindColumns=!1,b.filteredRows=[],b.initTemplates=function(){var e=["rowTemplate","aggregateTemplate","headerRowTemplate","checkboxCellTemplate","checkboxHeaderTemplate","menuTemplate","footerTemplate"],t=[];return angular.forEach(e,function(e){t.push(b.getTemplate(e))}),m.all(t)},b.getTemplate=function(e){var t=b.config[e],n=b.gridId+e+".html",i=m.defer();if(t&&!g.test(t))h.get(t,{cache:u}).then(function(e){u.put(n,e),i.resolve()})["catch"](function(e){i.reject("Could not load template: "+t)});else if(t)u.put(n,t),i.resolve();else{var o=e+".html";u.put(n,u.get(o)),i.resolve()}return i.promise},"object"==typeof b.config.data&&(b.data=b.config.data),b.calcMaxCanvasHeight=function(){var e;return e=b.config.groups.length>0?b.rowFactory.parsedData.filter(function(e){return!e[s]}).length*b.config.rowHeight:b.filteredRows.length*b.config.rowHeight},b.elementDims={scrollW:0,scrollH:0,rowIndexCellW:b.config.selectionCheckboxColumnWidth,rowSelectedCellW:b.config.selectionCheckboxColumnWidth,rootMaxW:0,rootMaxH:0},b.setRenderedRows=function(e){o.renderedRows.length=e.length;for(var t=0;t<e.length;t++)!o.renderedRows[t]||e[t].isAggRow||o.renderedRows[t].isAggRow?(o.renderedRows[t]=e[t].copy(),o.renderedRows[t].collapsed=e[t].collapsed,e[t].isAggRow||o.renderedRows[t].setVars(e[t])):o.renderedRows[t].setVars(e[t]),o.renderedRows[t].rowIndex=e[t].rowIndex,o.renderedRows[t].offsetTop=e[t].offsetTop,o.renderedRows[t].selected=e[t].selected,e[t].renderedRowIndex=t;b.refreshDomSizes(),o.$emit("ngGridEventRows",e)},b.minRowsToRender=function(){var e=o.viewportDimHeight()||1;return Math.floor(e/b.config.rowHeight)},b.refreshDomSizes=function(){var e=new S;e.outerWidth=b.elementDims.rootMaxW,e.outerHeight=b.elementDims.rootMaxH,b.rootDim=e,b.maxCanvasHt=b.calcMaxCanvasHeight()},b.buildColumnDefsFromData=function(){b.config.columnDefs=[];var e=b.data[0];return e?void p.forIn(e,function(e,t){b.config.excludeProperties.indexOf(t)===-1&&b.config.columnDefs.push({field:t})}):void(b.lateBoundColumns=!0)},b.buildColumns=function(){var t=b.config.columnDefs,n=[];if(t||(b.buildColumnDefsFromData(),t=b.config.columnDefs),b.config.showSelectionCheckbox&&n.push(new C({colDef:{field:"✔",width:b.elementDims.rowSelectedCellW,sortable:!1,resizable:!1,groupable:!1,headerCellTemplate:u.get(o.gridId+"checkboxHeaderTemplate.html"),cellTemplate:u.get(o.gridId+"checkboxCellTemplate.html"),pinned:b.config.pinSelectionCheckbox},index:e.isRtl?t.length:0,headerRowHeight:b.config.headerRowHeight,sortCallback:b.sortData,resizeOnDataCallback:b.resizeOnData,enableResize:b.config.enableColumnResize,enableSort:b.config.enableSorting,enablePinning:b.config.enablePinning},o,b,l,u,p)),t.length>0){var i=b.config.showSelectionCheckbox&&!e.isRtl?1:0,a=o.configGroups.length;if(o.configGroups.length=0,angular.forEach(t,function(e,t){t+=i;var r=new C({colDef:e,index:t+a,originalIndex:t,headerRowHeight:b.config.headerRowHeight,sortCallback:b.sortData,resizeOnDataCallback:b.resizeOnData,enableResize:b.config.enableColumnResize,enableSort:b.config.enableSorting,enablePinning:b.config.enablePinning,enableCellEdit:b.config.enableCellEdit||b.config.enableCellEditOnFocus,cellEditableCondition:b.config.cellEditableCondition},o,b,l,u,p),s=b.config.groups.indexOf(e.field);s!==-1&&(r.isGroupedBy=!0,o.configGroups.splice(s,0,r),r.groupIndex=o.configGroups.length),n.push(r)}),e.isRtl&&b.config.showSelectionCheckbox){var r=n.shift();n.push(r)}o.columns=n,b.config.groups.length>0&&b.rowFactory.getGrouping(b.config.groups)}},b.configureColumnWidths=function(){var t=[],n=[],i=0,a=0,r={};if(angular.forEach(o.columns,function(t,n){if(p.isNullOrUndefined(t.originalIndex))t.isAggCol&&t.visible&&(a+=25);else{var i=t.originalIndex;b.config.showSelectionCheckbox&&!e.isRtl&&(0===t.originalIndex&&t.visible&&(a+=b.config.selectionCheckboxColumnWidth),i--),r[i]=n}}),angular.forEach(b.config.columnDefs,function(e,l){var s=o.columns[r[l]];e.index=l;var c,u=!1;if(p.isNullOrUndefined(e.width)?e.width="*":(u=!!isNaN(e.width)&&p.endsWith(e.width,"%"),c=u?e.width:parseInt(e.width,10)),isNaN(c)){if(c=e.width,"auto"===c){s.width=s.minWidth,a+=s.width;var d=s;return void o.$on("$destroy",o.$on("ngGridEventData",function(){b.resizeOnData(d)}))}if(c.indexOf("*")!==-1)return s.visible!==!1&&(i+=c.length),void t.push(e);if(u)return void n.push(e);throw'unable to parse column width, use percentage ("10%","20%", etc...) or "*" to use remaining width of grid'}s.visible!==!1&&(a+=s.width=parseInt(s.width,10))}),n.length>0){b.config.maintainColumnRatios=b.config.maintainColumnRatios!==!1;var s=0,c=0;angular.forEach(n,function(e){var t=o.columns[r[e.index]],n=parseFloat(e.width)/100;s+=n,t.visible||(c+=n)});var u=s-c;angular.forEach(n,function(e){var t=o.columns[r[e.index]],n=parseFloat(e.width)/100;n/=c>0?u:s;var i=b.rootDim.outerWidth*s;t.width=i*n,a+=t.width})}if(t.length>0){b.config.maintainColumnRatios=b.config.maintainColumnRatios!==!1;var d=b.rootDim.outerWidth-a;b.maxCanvasHt>o.viewportDimHeight()&&(d-=l.ScrollW);var f=Math.floor(d/i);angular.forEach(t,function(e,n){var i=o.columns[r[e.index]];i.width=f*e.width.length,i.width<i.minWidth&&(i.width=i.minWidth),i.visible!==!1&&(a+=i.width);var s=n===t.length-1;if(s&&a<b.rootDim.outerWidth){var c=b.rootDim.outerWidth-a;b.maxCanvasHt>o.viewportDimHeight()&&(c-=l.ScrollW),i.width+=c}})}},b.init=function(){return b.initTemplates().then(function(){o.selectionProvider=new I(b,o,f,p),o.domAccessProvider=new T(b),b.rowFactory=new O(b,o,l,u,p),b.searchProvider=new _(o,b,c,p),b.styleProvider=new R(o,b),o.$on("$destroy",o.$watch("configGroups",function(e){var t=[];angular.forEach(e,function(e){t.push(e.field||e)}),b.config.groups=t,b.rowFactory.filteredRowsChanged(),o.$emit("ngGridEventGroups",e)},!0)),o.$on("$destroy",o.$watch("columns",function(e){o.isColumnResizing||l.RebuildGrid(o,b),o.$emit("ngGridEventColumns",e)},!0)),o.$on("$destroy",o.$watch(function(){return a.i18n},function(e){p.seti18n(o,e)})),b.maxCanvasHt=b.calcMaxCanvasHeight(),b.config.sortInfo.fields&&b.config.sortInfo.fields.length>0&&o.$on("$destroy",o.$watch(function(){return b.config.sortInfo},function(e){r.isSorting||(b.sortColumnsInit(),o.$emit("ngGridEventSorted",b.config.sortInfo))},!0))})},b.resizeOnData=function(e){var n=e.minWidth,i=p.getElementsByClassName("col"+e.index);angular.forEach(i,function(e,i){var o;if(0===i){var a=t(e).find(".ngHeaderText");o=p.visualLength(a)+10}else{var r=t(e).find(".ngCellText");o=p.visualLength(r)+10}o>n&&(n=o)}),e.width=e.longest=Math.min(e.maxWidth,n+7),l.BuildStyles(o,b,!0)},b.lastSortedColumns=[],b.sortData=function(e,n){if(n&&n.shiftKey&&b.config.sortInfo){var i=b.config.sortInfo.columns.indexOf(e);i===-1?(1===b.config.sortInfo.columns.length&&(b.config.sortInfo.columns[0].sortPriority=1),b.config.sortInfo.columns.push(e),e.sortPriority=b.config.sortInfo.columns.length,b.config.sortInfo.fields.push(e.field),b.config.sortInfo.directions.push(e.sortDirection),b.lastSortedColumns.push(e)):b.config.sortInfo.directions[i]=e.sortDirection,o.$emit("ngGridEventSorted",b.config.sortInfo)}else if(!b.config.useExternalSorting||b.config.useExternalSorting&&b.config.sortInfo){var a=t.isArray(e);b.config.sortInfo.columns.length=0,b.config.sortInfo.fields.length=0,b.config.sortInfo.directions.length=0;var r=function(e){b.config.sortInfo.columns.push(e),b.config.sortInfo.fields.push(e.field),b.config.sortInfo.directions.push(e.sortDirection),b.lastSortedColumns.push(e)};a?angular.forEach(e,function(e,t){e.sortPriority=t+1,r(e)}):(b.clearSortingData(e),e.sortPriority=void 0,r(e)),b.sortActual(),b.searchProvider.evalFilter(),o.$emit("ngGridEventSorted",b.config.sortInfo)}},b.sortColumnsInit=function(){b.config.sortInfo.columns?b.config.sortInfo.columns.length=0:b.config.sortInfo.columns=[];var e=[];angular.forEach(o.columns,function(t){var n=b.config.sortInfo.fields.indexOf(t.field);n!==-1&&(t.sortDirection=b.config.sortInfo.directions[n]||"asc",e[n]=t)}),1===e.length?b.sortData(e[0]):b.sortData(e)},b.sortActual=function(){if(!b.config.useExternalSorting){var e=b.data.slice(0);angular.forEach(e,function(e,t){var n=b.rowMap[t];if(void 0!==n){var i=b.rowCache[n];void 0!==i&&(e.preSortSelected=i.selected,e.preSortIndex=t)}}),r.Sort(b.config.sortInfo,e),angular.forEach(e,function(e,t){b.rowCache[t].entity=e,b.rowCache[t].selected=e.preSortSelected,b.rowMap[e.preSortIndex]=t,delete e.preSortSelected,delete e.preSortIndex})}},b.clearSortingData=function(e){e?(angular.forEach(b.lastSortedColumns,function(t){e.index!==t.index&&(t.sortDirection="",t.sortPriority=null)}),b.lastSortedColumns[0]=e,b.lastSortedColumns.length=1):(angular.forEach(b.lastSortedColumns,function(e){e.sortDirection="",e.sortPriority=null}),b.lastSortedColumns=[])},b.fixColumnIndexes=function(){for(var e=0;e<o.columns.length;e++)o.columns[e].index=e},b.fixGroupIndexes=function(){angular.forEach(o.configGroups,function(e,t){e.groupIndex=t+1})},o.elementsNeedMeasuring=!0,o.columns=[],o.renderedRows=[],o.renderedColumns=[],o.headerRow=null,o.rowHeight=b.config.rowHeight,o.jqueryUITheme=b.config.jqueryUITheme,o.showSelectionCheckbox=b.config.showSelectionCheckbox,o.enableCellSelection=b.config.enableCellSelection,o.enableCellEditOnFocus=b.config.enableCellEditOnFocus,o.footer=null,o.selectedItems=b.config.selectedItems,o.multiSelect=b.config.multiSelect,o.showFooter=b.config.showFooter,o.footerRowHeight=o.showFooter?b.config.footerRowHeight:0,o.showColumnMenu=b.config.showColumnMenu,o.forceSyncScrolling=b.config.forceSyncScrolling,o.showMenu=!1,o.configGroups=[],o.gridId=b.gridId,o.enablePaging=b.config.enablePaging,o.pagingOptions=b.config.pagingOptions,o.i18n={},p.seti18n(o,b.config.i18n),o.adjustScrollLeft=function(t){for(var n=0,i=0,a=o.columns.length,r=[],s=!b.config.enableColumnHeavyVirt,c=0,u=function(e){s?r.push(e):o.renderedColumns[c]?o.renderedColumns[c].setVars(e):o.renderedColumns[c]=e.copy(),c++},p=0;p<a;p++){var d=o.columns[p];if(d.visible!==!1){var f=d.width+n;if(d.pinned){u(d);var h=p>0?t+i:t;l.setColLeft(d,h,b),i+=d.width}else f>=t&&(n<=t+b.rootDim.outerWidth||e.isRtl)&&u(d);n+=d.width}}s&&(o.renderedColumns=r)},b.prevScrollTop=0,b.prevScrollIndex=0,o.adjustScrollTop=function(e,t){if(b.prevScrollTop!==e||t){e>0&&b.$viewport[0].scrollHeight-e<=b.$viewport.outerHeight()&&o.$emit("ngGridEventScroll");var a,r=Math.floor(e/b.config.rowHeight);if(b.filteredRows.length>b.config.virtualizationThreshold){if(b.prevScrollTop<e&&r<b.prevScrollIndex+i)return;if(b.prevScrollTop>e&&r>b.prevScrollIndex-i)return;a=new E(Math.max(0,r-n),r+b.minRowsToRender()+n)}else{var l=o.configGroups.length>0?b.rowFactory.parsedData.length:b.filteredRows.length;a=new E(0,Math.max(l,b.minRowsToRender()+n))}b.prevScrollTop=e,b.rowFactory.UpdateViewableRange(a),b.prevScrollIndex=r}},o.toggleShowMenu=function(){o.showMenu=!o.showMenu},o.toggleSelectAll=function(e,t){o.selectionProvider.toggleSelectAll(e,!1,t)},o.totalFilteredItemsLength=function(){return b.filteredRows.length},o.showGroupPanel=function(){return b.config.showGroupPanel},o.topPanelHeight=function(){return b.config.showGroupPanel===!0?b.config.headerRowHeight+32:b.config.headerRowHeight},o.viewportDimHeight=function(){return Math.max(0,b.rootDim.outerHeight-o.topPanelHeight()-o.footerRowHeight-2)},o.groupBy=function(e){if(!(b.data.length<1)&&e.groupable&&e.field){e.sortDirection||e.sort({shiftKey:o.configGroups.length>0});var t=o.configGroups.indexOf(e);t===-1?(e.isGroupedBy=!0,o.configGroups.push(e),e.groupIndex=o.configGroups.length):o.removeGroup(t),b.$viewport.scrollTop(0),l.digest(o)}},o.removeGroup=function(e){var t=o.columns.filter(function(t){return t.groupIndex===e+1})[0];t.isGroupedBy=!1,t.groupIndex=0,o.columns[e].isAggCol&&(o.columns.splice(e,1),o.configGroups.splice(e,1),b.fixGroupIndexes()),0===o.configGroups.length&&(b.fixColumnIndexes(),l.digest(o)),o.adjustScrollLeft(0)},o.togglePin=function(e){for(var t=e.index,n=0,i=0;i<o.columns.length&&o.columns[i].pinned;i++)n++;e.pinned&&(n=Math.max(e.originalIndex,n-1)),e.pinned=!e.pinned,o.columns.splice(t,1),o.columns.splice(n,0,e),b.fixColumnIndexes(),l.BuildStyles(o,b,!0),b.$viewport.scrollLeft(b.$viewport.scrollLeft()-e.width)},o.totalRowWidth=function(){for(var e=0,t=o.columns,n=0;n<t.length;n++)t[n].visible!==!1&&(e+=t[n].width);return e},o.headerScrollerDim=function(){var e=o.viewportDimHeight(),t=b.maxCanvasHt,n=t>e,i=new S;return i.autoFitHeight=!0,i.outerWidth=o.totalRowWidth(),n?i.outerWidth+=b.elementDims.scrollW:t-e<=b.elementDims.scrollH&&(i.outerWidth+=b.elementDims.scrollW),i}},E=function(e,t){this.topRow=e,this.bottomRow=t},M=function(e,t,n,i,o){this.entity=e,this.config=t,this.selectionProvider=n,this.rowIndex=i,this.utils=o,this.selected=n.getSelection(e),this.cursor=this.config.enableRowSelection&&!this.config.selectWithCheckboxOnly?"pointer":"default",this.beforeSelectionChange=t.beforeSelectionChangeCallback,this.afterSelectionChange=t.afterSelectionChangeCallback,this.offsetTop=this.rowIndex*t.rowHeight,this.rowDisplayIndex=0};M.prototype.setSelection=function(e){this.selectionProvider.setSelection(this,e),this.selectionProvider.lastClickedRow=this},M.prototype.continueSelection=function(e){this.selectionProvider.ChangeSelection(this,e)},M.prototype.ensureEntity=function(e){this.entity!==e&&(this.entity=e,this.selected=this.selectionProvider.getSelection(this.entity))},M.prototype.toggleSelected=function(e){if(!this.config.enableRowSelection&&!this.config.enableCellSelection)return!0;var t=e.target||e;return"checkbox"===t.type&&"ngSelectionCell ng-scope"!==t.parentElement.className||(this.config.selectWithCheckboxOnly&&"checkbox"!==t.type?(this.selectionProvider.lastClickedRow=this,!0):(this.beforeSelectionChange(this,e)&&this.continueSelection(e),!1))},M.prototype.alternatingRowClass=function(){var e=this.rowIndex%2===0,t={ngRow:!0,selected:this.selected,even:e,odd:!e,"ui-state-default":this.config.jqueryUITheme&&e,"ui-state-active":this.config.jqueryUITheme&&!e};return t},M.prototype.getProperty=function(e){return this.utils.evalProperty(this.entity,e)},M.prototype.copy=function(){return this.clone=new M(this.entity,this.config,this.selectionProvider,this.rowIndex,this.utils),this.clone.isClone=!0,this.clone.elm=this.elm,this.clone.orig=this,this.clone},M.prototype.setVars=function(e){e.clone=this,this.entity=e.entity,this.selected=e.selected,this.orig=e};var O=function(e,t,i,o,a){var u=this;u.aggCache={},u.parentCache=[],u.dataChanged=!0,u.parsedData=[],u.rowConfig={},u.selectionProvider=t.selectionProvider,u.rowHeight=30,u.numberOfAggregates=0,u.groupedData=void 0,u.rowHeight=e.config.rowHeight,u.rowConfig={enableRowSelection:e.config.enableRowSelection,rowClasses:e.config.rowClasses,selectedItems:t.selectedItems,selectWithCheckboxOnly:e.config.selectWithCheckboxOnly,beforeSelectionChangeCallback:e.config.beforeSelectionChange,afterSelectionChangeCallback:e.config.afterSelectionChange,jqueryUITheme:e.config.jqueryUITheme,enableCellSelection:e.config.enableCellSelection,rowHeight:e.config.rowHeight},u.renderedRange=new E(0,e.minRowsToRender()+n),u.buildEntityRow=function(e,t){return new M(e,u.rowConfig,u.selectionProvider,t,a)},u.buildAggregateRow=function(t,n){var i=u.aggCache[t.aggIndex];return i||(i=new $(t,u,u.rowConfig.rowHeight,e.config.groupsCollapsedByDefault),u.aggCache[t.aggIndex]=i),i.rowIndex=n,i.offsetTop=n*u.rowConfig.rowHeight,i},u.UpdateViewableRange=function(e){u.renderedRange=e,u.renderedChange()},u.filteredRowsChanged=function(){e.lateBoundColumns&&e.filteredRows.length>0&&(e.config.columnDefs=void 0,e.buildColumns(),e.lateBoundColumns=!1,t.$evalAsync(function(){t.adjustScrollLeft(0)})),u.dataChanged=!0,e.config.groups.length>0&&u.getGrouping(e.config.groups),u.UpdateViewableRange(u.renderedRange)},u.renderedChange=function(){if(!u.groupedData||e.config.groups.length<1)return u.renderedChangeNoGroups(),void e.refreshDomSizes();u.wasGrouped=!0,u.parentCache=[];var t=0,n=u.parsedData.filter(function(e){return e.isAggRow?!e.parent||!e.parent.collapsed:(e[s]||(e.rowIndex=t++),!e[s])});u.totalRows=n.length;for(var i=[],o=u.renderedRange.topRow;o<u.renderedRange.bottomRow;o++)n[o]&&(n[o].offsetTop=o*e.config.rowHeight,i.push(n[o]));e.setRenderedRows(i)},u.renderedChangeNoGroups=function(){for(var t=[],n=u.renderedRange.topRow;n<u.renderedRange.bottomRow;n++)e.filteredRows[n]&&(e.filteredRows[n].rowIndex=n,e.filteredRows[n].offsetTop=n*e.config.rowHeight,t.push(e.filteredRows[n]));e.setRenderedRows(t)},u.fixRowCache=function(){var t=e.data.length,n=t-e.rowCache.length;if(n<0)e.rowCache.length=e.rowMap.length=t;else for(var i=e.rowCache.length;i<t;i++)e.rowCache[i]=e.rowFactory.buildEntityRow(e.data[i],i)},u.parseGroupData=function(e){if(e.values)for(var t=0;t<e.values.length;t++)u.parentCache[u.parentCache.length-1].children.push(e.values[t]),u.parsedData.push(e.values[t]);else for(var n in e)if(n!==r&&n!==l&&n!==c&&e.hasOwnProperty(n)){var i=u.buildAggregateRow({gField:e[r],gLabel:n,gDepth:e[l],isAggRow:!0,_ng_hidden_:!1,children:[],aggChildren:[],aggIndex:u.numberOfAggregates,aggLabelFilter:e[c].aggLabelFilter},0);u.numberOfAggregates++,i.parent=u.parentCache[i.depth-1],i.parent&&(i.parent.collapsed=!1,i.parent.aggChildren.push(i)),u.parsedData.push(i),u.parentCache[i.depth]=i,u.parseGroupData(e[n])}},u.getGrouping=function(n){function p(e,t){return e.filter(function(e){return e.field===t})}u.aggCache=[],u.numberOfAggregates=0,u.groupedData={};for(var d=e.filteredRows,f=n.length,h=t.columns,g=0;g<d.length;g++){var m=d[g].entity;if(!m)return;d[g][s]=e.config.groupsCollapsedByDefault;for(var v=u.groupedData,b=0;b<n.length;b++){var y=n[b],x=p(h,y)[0],w=a.evalProperty(m,y);w=""===w||null===w?"null":w.toString(),v[w]||(v[w]={}),v[r]||(v[r]=y),v[l]||(v[l]=b),v[c]||(v[c]=x),v=v[w]}v.values||(v.values=[]),v.values.push(d[g])}if(h.length>0)for(var k=0;k<n.length;k++)!h[k].isAggCol&&k<=f&&h.splice(0,0,new C({colDef:{field:"",width:25,sortable:!1,resizable:!1,headerCellTemplate:'<div class="ngAggHeader"></div>',pinned:e.config.pinSelectionCheckbox},enablePinning:e.config.enablePinning,isAggCol:!0,headerRowHeight:e.config.headerRowHeight},t,e,i,o,a));e.fixColumnIndexes(),t.adjustScrollLeft(0),u.parsedData.length=0,u.parseGroupData(u.groupedData),u.fixRowCache()},e.config.groups.length>0&&e.filteredRows.length>0&&u.getGrouping(e.config.groups)},_=function(e,n,i,o){var a=this,r=[];a.extFilter=n.config.filterOptions.useExternalFilter,e.showFilter=n.config.showFilter,e.filterText="",a.fieldMap={};var l=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n.toLowerCase()]=e[n]);return t},s=function(e){if("object"==typeof e){var t=[];for(var n in e)t=t.concat(s(e[n]));return t}return[e]},c=function(e,t,n){var o;for(var a in t)if(t.hasOwnProperty(a)){var r=n[a.toLowerCase()],s=t[a];if("object"!=typeof s||s instanceof Date){var u=null,p=null;if(r&&r.cellFilter&&(p=r.cellFilter.split(":"),u=i(p[0])),null!==s&&void 0!==s){if("function"==typeof u){var d=u(s,p[1]?p[1].slice(1,-1):"").toString();o=e.regex.test(d)}else o=e.regex.test(s.toString());if(o)return!0}}else{var f=l(r);if(o=c(e,s,f))return!0}}return!1},u=function(e,t){var n,r=a.fieldMap[e.columnDisplay];if(!r)return!1;var l=r.cellFilter.split(":"),c=r.cellFilter?i(l[0]):null,u=t[e.column]||t[r.field.split(".")[0]]||o.evalProperty(t,r.field);if(null===u||void 0===u)return!1;if("function"==typeof c){var p=c("object"==typeof u?d(u,r.field):u,l[1]).toString();n=e.regex.test(p)}else{var f=s(d(u,r.field));for(var h in f)n|=e.regex.test(f[h])}return!!n},p=function(e){for(var t=0,n=r.length;t<n;t++){var i,o=r[t];if(i=o.column?u(o,e):c(o,e,a.fieldMap),!i)return!1}return!0};a.evalFilter=function(){0===r.length?n.filteredRows=n.rowCache:n.filteredRows=n.rowCache.filter(function(e){return p(e.entity)});for(var e=0;e<n.filteredRows.length;e++)n.filteredRows[e].rowIndex=e;n.rowFactory.filteredRowsChanged()};var d=function(e,t){if("object"!=typeof e||"string"!=typeof t)return e;var n=t.split("."),i=e;if(n.length>1){for(var o=1,a=n.length;o<a;o++)if(i=i[n[o]],!i)return e;return i}return e},f=function(e,t){try{return new RegExp(e,t)}catch(n){return new RegExp(e.replace(/(\^|\$|\(|\)|<|>|\[|\]|\{|\}|\\|\||\.|\*|\+|\?)/g,"\\$1"));
}},h=function(e){r=[];var n;if(n=t.trim(e))for(var i=n.split(";"),o=0;o<i.length;o++){var a=i[o].split(":");if(a.length>1){var l=t.trim(a[0]),s=t.trim(a[1]);l&&s&&r.push({column:l,columnDisplay:l.replace(/\s+/g,"").toLowerCase(),regex:f(s,"i")})}else{var c=t.trim(a[0]);c&&r.push({column:"",regex:f(c,"i")})}}};a.extFilter||e.$on("$destroy",e.$watch("columns",function(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.field)if(n.field.match(/\./g)){for(var i=n.field.split("."),o=a.fieldMap,r=0;r<i.length-1;r++)o[i[r]]=o[i[r]]||{},o=o[i[r]];o[i[i.length-1]]=n}else a.fieldMap[n.field.toLowerCase()]=n;n.displayName&&(a.fieldMap[n.displayName.toLowerCase().replace(/\s+/g,"")]=n)}})),e.$on("$destroy",e.$watch(function(){return n.config.filterOptions.filterText},function(t){e.filterText=t})),e.$on("$destroy",e.$watch("filterText",function(t){a.extFilter||(e.$emit("ngGridEventFilter",t),h(t),a.evalFilter())}))},I=function(e,t,n,i){var o=this;o.multi=e.config.multiSelect,o.selectedItems=e.config.selectedItems,o.selectedIndex=e.config.selectedIndex,o.lastClickedRow=void 0,o.ignoreSelectedItemChanges=!1;var a=e.config.primaryKey;a&&(a=i.preEval("entity."+e.config.primaryKey)),o.pKeyParser=n(a),o.ChangeSelection=function(n,i){var a=i.which||i.keyCode,r=40===a||38===a;if(i&&i.shiftKey&&!i.keyCode&&o.multi&&e.config.enableRowSelection){if(o.lastClickedRow){var l;l=t.configGroups.length>0?e.rowFactory.parsedData.filter(function(e){return!e.isAggRow}):e.filteredRows;var s=n.rowIndex,c=o.lastClickedRowIndex;if(s===c)return!1;s<c?(s^=c,c=s^c,s^=c,s--):c++;for(var u=[];c<=s;c++)u.push(l[c]);if(u[u.length-1].beforeSelectionChange(u,i)){for(var p=0;p<u.length;p++){var d=u[p],f=d.selected;d.selected=!f,d.clone&&(d.clone.selected=d.selected);var h=o.selectedItems.indexOf(d.entity);h===-1?o.selectedItems.push(d.entity):o.selectedItems.splice(h,1)}u[u.length-1].afterSelectionChange(u,i)}return o.lastClickedRow=n,o.lastClickedRowIndex=n.rowIndex,!0}}else o.multi?(!i.keyCode||r&&!e.config.selectWithCheckboxOnly)&&o.setSelection(n,!n.selected):o.lastClickedRow===n?o.setSelection(o.lastClickedRow,!!e.config.keepLastSelected||!n.selected):(o.lastClickedRow&&o.setSelection(o.lastClickedRow,!1),o.setSelection(n,!n.selected));return o.lastClickedRow=n,o.lastClickedRowIndex=n.rowIndex,!0},o.getSelection=function(e){return o.getSelectionIndex(e)!==-1},o.getSelectionIndex=function(t){var n=-1;if(e.config.primaryKey){var i=o.pKeyParser({entity:t});angular.forEach(o.selectedItems,function(e,t){i===o.pKeyParser({entity:e})&&(n=t)})}else n=o.selectedItems.indexOf(t);return n},o.setSelection=function(t,n){if(e.config.enableRowSelection){if(n)o.getSelectionIndex(t.entity)===-1&&(!o.multi&&o.selectedItems.length>0&&o.toggleSelectAll(!1,!0),o.selectedItems.push(t.entity));else{var i=o.getSelectionIndex(t.entity);i!==-1&&o.selectedItems.splice(i,1)}t.selected=n,t.orig&&(t.orig.selected=n),t.clone&&(t.clone.selected=n),t.afterSelectionChange(t)}},o.toggleSelectAll=function(t,n,i){var a,r,l,s=i?e.filteredRows:e.rowCache;if(n||e.config.beforeSelectionChange(s,t)){!i&&o.selectedItems.length>0&&(o.selectedItems.length=0),l=o.selectedItems.length;for(var c=0;c<s.length;c++)a=s[c].selected,s[c].selected=t,s[c].clone&&(s[c].clone.selected=t),!a&&t||a&&t&&!l?o.selectedItems.push(s[c].entity):a&&!t&&(r=o.getSelectionIndex(s[c].entity),r>-1&&o.selectedItems.splice(r,1));n||e.config.afterSelectionChange(s,t)}}},R=function(e,t){e.headerCellStyle=function(e){return{height:e.headerRowHeight+"px"}},e.rowStyle=function(t){var n={top:t.offsetTop+"px",height:e.rowHeight+"px"};return t.isAggRow&&(n.left=t.offsetLeft),n},e.canvasStyle=function(){return{height:t.maxCanvasHt+"px"}},e.headerScrollerStyle=function(){return{height:t.config.headerRowHeight+"px"}},e.topPanelStyle=function(){return{width:t.rootDim.outerWidth+"px",height:e.topPanelHeight()+"px"}},e.headerStyle=function(){return{width:t.rootDim.outerWidth+"px",height:t.config.headerRowHeight+"px"}},e.groupPanelStyle=function(){return{width:t.rootDim.outerWidth+"px",height:"32px"}},e.viewportStyle=function(){return{width:t.rootDim.outerWidth+"px",height:e.viewportDimHeight()+"px"}},e.footerStyle=function(){return{width:t.rootDim.outerWidth+"px",height:e.footerRowHeight+"px"}}};x.directive("ngCellHasFocus",["$domUtilityService",function(e){var t=function(t,n){t.isFocused=!0,e.digest(t),t.$broadcast("ngGridEventStartCellEdit"),t.$emit("ngGridEventStartCellEdit"),t.$on("$destroy",t.$on("ngGridEventEndCellEdit",function(){t.isFocused=!1,e.digest(t)}))};return function(e,n){function i(t){return e.enableCellEditOnFocus?c=!0:n.focus(),!0}function o(i){e.enableCellEditOnFocus&&(i.preventDefault(),c=!1,t(e,n))}function a(i){return s=!0,e.enableCellEditOnFocus&&!c&&t(e,n),!0}function r(){return s=!1,!0}function l(i){return e.enableCellEditOnFocus||(s&&37!==i.keyCode&&38!==i.keyCode&&39!==i.keyCode&&40!==i.keyCode&&9!==i.keyCode&&!i.shiftKey&&13!==i.keyCode&&t(e,n),s&&i.shiftKey&&i.keyCode>=65&&i.keyCode<=90&&t(e,n),27===i.keyCode&&n.focus()),!0}var s=!1,c=!1;e.editCell=function(){e.enableCellEditOnFocus||setTimeout(function(){t(e,n)},0)},n.bind("mousedown",i),n.bind("click",o),n.bind("focus",a),n.bind("blur",r),n.bind("keydown",l),n.on("$destroy",function(){n.off("mousedown",i),n.off("click",o),n.off("focus",a),n.off("blur",r),n.off("keydown",l)})}}]),x.directive("ngCellText",function(){return function(e,t){function n(e){e.preventDefault()}function i(e){e.preventDefault()}t.bind("mouseover",n),t.bind("mouseleave",i),t.on("$destroy",function(){t.off("mouseover",n),t.off("mouseleave",i)})}}),x.directive("ngCell",["$compile","$domUtilityService","$utilityService",function(e,n,i){var o={scope:!1,compile:function(){return{pre:function(n,o){var a,r=n.col.cellTemplate.replace(p,i.preEval("row.entity."+n.col.field));n.col.enableCellEdit?(a=n.col.cellEditTemplate,a=a.replace(h,n.col.cellEditableCondition),a=a.replace(d,r),a=a.replace(f,n.col.editableCellTemplate.replace(p,i.preEval("row.entity."+n.col.field)))):a=r;var l=t(a);o.append(l),e(l)(n),n.enableCellSelection&&l[0].className.indexOf("ngSelectionCell")===-1&&(l[0].setAttribute("tabindex",0),l.addClass("ngCellElement"))},post:function(e,t){e.enableCellSelection&&e.domAccessProvider.selectionHandlers(e,t),e.$on("$destroy",e.$on("ngGridEventDigestCell",function(){n.digest(e)}))}}}};return o}]),x.directive("ngEditCellIf",[function(){return{transclude:"element",priority:1e3,terminal:!0,restrict:"A",compile:function(e,t,n){return function(e,t,i){var o,a;e.$on("$destroy",e.$watch(i.ngEditCellIf,function(i){o&&(o.remove(),o=void 0),a&&(a.$destroy(),a=void 0),i&&(a=e.$new(),n(a,function(e){o=e,t.after(e)}))}))}}}}]),x.directive("ngGridFooter",["$compile","$templateCache",function(e,t){var n={scope:!1,compile:function(){return{pre:function(n,i){0===i.children().length&&i.append(e(t.get(n.gridId+"footerTemplate.html"))(n))}}}};return n}]),x.directive("ngGridMenu",["$compile","$templateCache",function(e,t){var n={scope:!1,compile:function(){return{pre:function(n,i){0===i.children().length&&i.append(e(t.get(n.gridId+"menuTemplate.html"))(n))}}}};return n}]),x.directive("ngGrid",["$compile","$filter","$templateCache","$sortService","$domUtilityService","$utilityService","$timeout","$parse","$http","$q",function(e,n,i,o,a,r,l,s,c,u){var p={scope:!0,compile:function(){return{pre:function(p,d,f){var h=t(d),g=p.$eval(f.ngGrid);g.gridDim=new S({outerHeight:t(h).height(),outerWidth:t(h).width()});var m=new D(p,g,o,a,n,i,r,l,s,c,u);return p.$on("$destroy",function(){g.gridDim=null,g.selectRow=null,g.selectItem=null,g.selectAll=null,g.selectVisible=null,g.groupBy=null,g.sortBy=null,g.gridId=null,g.ngGrid=null,g.$gridScope=null,g.$gridServices=null,p.domAccessProvider.grid=null,angular.element(m.styleSheet).remove(),m.styleSheet=null}),m.init().then(function(){if("string"==typeof g.columnDefs?p.$on("$destroy",p.$parent.$watch(g.columnDefs,function(e){return e?(m.lateBoundColumns=!1,p.columns=[],m.config.columnDefs=e,m.buildColumns(),m.eventProvider.assignEvents(),void a.RebuildGrid(p,m)):(m.refreshDomSizes(),void m.buildColumns())},!0)):m.buildColumns(),"string"==typeof g.totalServerItems?p.$on("$destroy",p.$parent.$watch(g.totalServerItems,function(e,t){angular.isDefined(e)?p.totalServerItems=e:p.totalServerItems=0})):p.totalServerItems=0,"string"==typeof g.data){var n=function(e){m.data=t.extend([],e),m.rowFactory.fixRowCache(),angular.forEach(m.data,function(e,t){var n=m.rowMap[t]||t;m.rowCache[n]&&m.rowCache[n].ensureEntity(e),m.rowMap[n]=t}),m.searchProvider.evalFilter(),m.configureColumnWidths(),m.refreshDomSizes(),m.config.sortInfo.fields.length>0&&(m.sortColumnsInit(),p.$emit("ngGridEventSorted",m.config.sortInfo)),p.$emit("ngGridEventData",m.gridId)};p.$on("$destroy",p.$parent.$watch(g.data,n)),p.$on("$destroy",p.$parent.$watch(g.data+".length",function(){n(p.$eval(g.data)),p.adjustScrollTop(m.$viewport.scrollTop(),!0)}))}return m.footerController=new A(p,m),d.addClass("ngGrid").addClass(m.gridId.toString()),g.enableHighlighting||d.addClass("unselectable"),g.jqueryUITheme&&d.addClass("ui-widget"),d.append(e(i.get("gridTemplate.html"))(p)),a.AssignGridContainers(p,d,m),m.eventProvider=new P(m,p,a,l),g.selectRow=function(e,t){m.rowCache[e]&&(m.rowCache[e].clone&&m.rowCache[e].clone.setSelection(!!t),m.rowCache[e].setSelection(!!t))},g.selectItem=function(e,t){g.selectRow(m.rowMap[e],t)},g.selectAll=function(e){p.toggleSelectAll(e)},g.selectVisible=function(e){p.toggleSelectAll(e,!0)},g.groupBy=function(e){if(e)p.groupBy(p.columns.filter(function(t){return t.field===e})[0]);else{var n=t.extend(!0,[],p.configGroups);angular.forEach(n,p.groupBy)}},g.sortBy=function(e){var t=p.columns.filter(function(t){return t.field===e})[0];t&&t.sort()},g.gridId=m.gridId,g.ngGrid=m,g.$gridScope=p,g.$gridServices={SortService:o,DomUtilityService:a,UtilityService:r},p.$on("$destroy",p.$on("ngGridEventDigestGrid",function(){a.digest(p.$parent)})),p.$on("$destroy",p.$on("ngGridEventDigestGridParent",function(){a.digest(p.$parent)})),p.$evalAsync(function(){p.adjustScrollLeft(0)}),angular.forEach(g.plugins,function(e){"function"==typeof e&&(e=new e);var t=p.$new();e.init(t,m,g.$gridServices),g.plugins[r.getInstanceType(e)]=e,p.$on("$destroy",function(){t.$destroy()})}),"function"==typeof g.init&&g.init(m,p),null})}}}};return p}]),x.directive("ngHeaderCell",["$compile",function(e){var t={scope:!1,compile:function(){return{pre:function(t,n){n.append(e(t.col.headerCellTemplate)(t))}}}};return t}]),x.directive("ngHeaderRow",["$compile","$templateCache",function(e,t){var n={scope:!1,compile:function(){return{pre:function(n,i){0===i.children().length&&i.append(e(t.get(n.gridId+"headerRowTemplate.html"))(n))}}}};return n}]),x.directive("ngInput",[function(){return{require:"ngModel",link:function(e,t,n,i){function o(n){switch(n.keyCode){case 37:case 38:case 39:case 40:n.stopPropagation();break;case 27:e.$$phase||e.$apply(function(){i.$setViewValue(l),t.blur()});break;case 13:(e.enableCellEditOnFocus&&e.totalFilteredItemsLength()-1>e.row.rowIndex&&e.row.rowIndex>0||e.col.enableCellEdit)&&t.blur()}return!0}function a(e){e.stopPropagation()}function r(e){e.stopPropagation()}var l,s=e.$watch("ngModel",function(){l=i.$modelValue,s()});t.bind("keydown",o),t.bind("click",a),t.bind("mousedown",r),t.on("$destroy",function(){t.off("keydown",o),t.off("click",a),t.off("mousedown",r)}),e.$on("$destroy",e.$on("ngGridEventStartCellEdit",function(){t.focus(),t.select()})),angular.element(t).bind("blur",function(){e.$emit("ngGridEventEndCellEdit")})}}}]),x.directive("ngRow",["$compile","$domUtilityService","$templateCache",function(e,t,n){var i={scope:!1,compile:function(){return{pre:function(i,o){if(i.row.elm=o,i.row.clone&&(i.row.clone.elm=o),i.row.isAggRow){var a=n.get(i.gridId+"aggregateTemplate.html");a=i.row.aggLabelFilter?a.replace(u,"| "+i.row.aggLabelFilter):a.replace(u,""),o.append(e(a)(i))}else o.append(e(n.get(i.gridId+"rowTemplate.html"))(i));i.$on("$destroy",i.$on("ngGridEventDigestRow",function(){t.digest(i)}))}}}};return i}]),x.directive("ngViewport",[function(){return function(e,t){function n(t){var n=t.target.scrollLeft,i=t.target.scrollTop;return e.$headerContainer&&e.$headerContainer.scrollLeft(n),e.adjustScrollLeft(n),e.adjustScrollTop(i),e.forceSyncScrolling?s():(clearTimeout(r),r=setTimeout(s,150)),a=n,l=i,o=!1,!0}function i(){return o=!0,!0}var o,a,r,l=0,s=function(){e.$root.$$phase||e.$digest()};t.bind("scroll",n),t.bind("mousewheel DOMMouseScroll",i),t.on("$destroy",function(){t.off("scroll",n),t.off("mousewheel DOMMouseScroll",i)}),e.enableCellSelection||e.domAccessProvider.selectionHandlers(e,t)}}]),e.ngGrid.i18n.da={ngAggregateLabel:"artikler",ngGroupPanelDescription:"Grupér rækker udfra en kolonne ved at trække dens overskift hertil.",ngSearchPlaceHolder:"Søg...",ngMenuText:"Vælg kolonner:",ngShowingItemsLabel:"Viste rækker:",ngTotalItemsLabel:"Rækker totalt:",ngSelectedItemsLabel:"Valgte rækker:",ngPageSizeLabel:"Side størrelse:",ngPagerFirstTitle:"Første side",ngPagerNextTitle:"Næste side",ngPagerPrevTitle:"Forrige side",ngPagerLastTitle:"Sidste side"},e.ngGrid.i18n.de={ngAggregateLabel:"eintrag",ngGroupPanelDescription:"Ziehen Sie eine Spaltenüberschrift hierhin um nach dieser Spalte zu gruppieren.",ngSearchPlaceHolder:"Suche...",ngMenuText:"Spalten auswählen:",ngShowingItemsLabel:"Zeige Einträge:",ngTotalItemsLabel:"Einträge gesamt:",ngSelectedItemsLabel:"Ausgewählte Einträge:",ngPageSizeLabel:"Einträge pro Seite:",ngPagerFirstTitle:"Erste Seite",ngPagerNextTitle:"Nächste Seite",ngPagerPrevTitle:"Vorherige Seite",ngPagerLastTitle:"Letzte Seite"},e.ngGrid.i18n.en={ngAggregateLabel:"items",ngGroupPanelDescription:"Drag a column header here and drop it to group by that column.",ngSearchPlaceHolder:"Search...",ngMenuText:"Choose Columns:",ngShowingItemsLabel:"Showing Items:",ngTotalItemsLabel:"Total Items:",ngSelectedItemsLabel:"Selected Items:",ngPageSizeLabel:"Page Size:",ngPagerFirstTitle:"First Page",ngPagerNextTitle:"Next Page",ngPagerPrevTitle:"Previous Page",ngPagerLastTitle:"Last Page"},e.ngGrid.i18n.es={ngAggregateLabel:"Artículos",ngGroupPanelDescription:"Arrastre un encabezado de columna aquí y soltarlo para agrupar por esa columna.",ngSearchPlaceHolder:"Buscar...",ngMenuText:"Elegir columnas:",ngShowingItemsLabel:"Artículos Mostrando:",ngTotalItemsLabel:"Artículos Totales:",ngSelectedItemsLabel:"Artículos Seleccionados:",ngPageSizeLabel:"Tamaño de Página:",ngPagerFirstTitle:"Primera Página",ngPagerNextTitle:"Página Siguiente",ngPagerPrevTitle:"Página Anterior",ngPagerLastTitle:"Última Página"},e.ngGrid.i18n.fa={ngAggregateLabel:"موردها",ngGroupPanelDescription:"یک عنوان ستون اینجا را بردار و به گروهی از آن ستون بیانداز.",ngSearchPlaceHolder:"جستجو...",ngMenuText:"انتخاب ستون‌ها:",ngShowingItemsLabel:"نمایش موردها:",ngTotalItemsLabel:"همهٔ موردها:",ngSelectedItemsLabel:"موردهای انتخاب‌شده:",ngPageSizeLabel:"اندازهٔ صفحه:",ngPagerFirstTitle:"صفحهٔ اول",ngPagerNextTitle:"صفحهٔ بعد",ngPagerPrevTitle:"صفحهٔ قبل",ngPagerLastTitle:"آخرین صفحه"},e.ngGrid.i18n.fr={ngAggregateLabel:"articles",ngGroupPanelDescription:"Faites glisser un en-tête de colonne ici et déposez-le vers un groupe par cette colonne.",ngSearchPlaceHolder:"Recherche...",ngMenuText:"Choisir des colonnes:",ngShowingItemsLabel:"Articles Affichage des:",ngTotalItemsLabel:"Nombre total d'articles:",ngSelectedItemsLabel:"Éléments Articles:",ngPageSizeLabel:"Taille de page:",ngPagerFirstTitle:"Première page",ngPagerNextTitle:"Page Suivante",ngPagerPrevTitle:"Page précédente",ngPagerLastTitle:"Dernière page"},e.ngGrid.i18n.nl={ngAggregateLabel:"items",ngGroupPanelDescription:"Sleep hier een kolomkop om op te groeperen.",ngSearchPlaceHolder:"Zoeken...",ngMenuText:"Kies kolommen:",ngShowingItemsLabel:"Toon items:",ngTotalItemsLabel:"Totaal items:",ngSelectedItemsLabel:"Geselecteerde items:",ngPageSizeLabel:"Pagina grootte:, ",ngPagerFirstTitle:"Eerste pagina",ngPagerNextTitle:"Volgende pagina",ngPagerPrevTitle:"Vorige pagina",ngPagerLastTitle:"Laatste pagina"},e.ngGrid.i18n["pt-br"]={ngAggregateLabel:"itens",ngGroupPanelDescription:"Arraste e solte uma coluna aqui para agrupar por essa coluna",ngSearchPlaceHolder:"Procurar...",ngMenuText:"Selecione as colunas:",ngShowingItemsLabel:"Mostrando os Itens:",ngTotalItemsLabel:"Total de Itens:",ngSelectedItemsLabel:"Items Selecionados:",ngPageSizeLabel:"Tamanho da Página:",ngPagerFirstTitle:"Primeira Página",ngPagerNextTitle:"Próxima Página",ngPagerPrevTitle:"Página Anterior",ngPagerLastTitle:"Última Página"},e.ngGrid.i18n.ru={ngAggregateLabel:"записи",ngGroupPanelDescription:"Перетащите сюда заголовок колонки для группировки по этой колонке.",ngSearchPlaceHolder:"Искать...",ngMenuText:"Выберите столбцы:",ngShowingItemsLabel:"Показаны записи:",ngTotalItemsLabel:"Всего записей:",ngSelectedItemsLabel:"Выбранные записи:",ngPageSizeLabel:"Строк на странице:",ngPagerFirstTitle:"Первая страница",ngPagerNextTitle:"Следующая страница",ngPagerPrevTitle:"Предыдущая страница",ngPagerLastTitle:"Последняя страница"},e.ngGrid.i18n["zh-cn"]={ngAggregateLabel:"条目",ngGroupPanelDescription:"拖曳表头到此处以进行分组",ngSearchPlaceHolder:"搜索...",ngMenuText:"数据分组与选择列：",ngShowingItemsLabel:"当前显示条目：",ngTotalItemsLabel:"条目总数：",ngSelectedItemsLabel:"选中条目：",ngPageSizeLabel:"每页显示数：",ngPagerFirstTitle:"回到首页",ngPagerNextTitle:"下一页",ngPagerPrevTitle:"上一页",ngPagerLastTitle:"前往尾页"},e.ngGrid.i18n["zh-tw"]={ngAggregateLabel:"筆",ngGroupPanelDescription:"拖拉表頭到此處以進行分組",ngSearchPlaceHolder:"搜尋...",ngMenuText:"選擇欄位：",ngShowingItemsLabel:"目前顯示筆數：",ngTotalItemsLabel:"總筆數：",ngSelectedItemsLabel:"選取筆數：",ngPageSizeLabel:"每頁顯示：",ngPagerFirstTitle:"第一頁",ngPagerNextTitle:"下一頁",ngPagerPrevTitle:"上一頁",ngPagerLastTitle:"最後頁"},angular.module("ngGrid").run(["$templateCache",function(t){t.put("aggregateTemplate.html",'<div ng-click="row.toggleExpand()" ng-style="rowStyle(row)" class="ngAggregate">\r\n    <span class="ngAggregateText">{{row.label CUSTOM_FILTERS}} ({{row.totalChildren()}} {{AggItemsLabel}})</span>\r\n    <div class="{{row.aggClass()}}"></div>\r\n</div>\r\n'),t.put("cellEditTemplate.html",'<div ng-cell-has-focus ng-dblclick="CELL_EDITABLE_CONDITION && editCell()">\r\n\t<div ng-edit-cell-if="!(isFocused && CELL_EDITABLE_CONDITION)">\t\r\n\t\tDISPLAY_CELL_TEMPLATE\r\n\t</div>\r\n\t<div ng-edit-cell-if="isFocused && CELL_EDITABLE_CONDITION">\r\n\t\tEDITABLE_CELL_TEMPLATE\r\n\t</div>\r\n</div>\r\n'),t.put("cellTemplate.html",'<div class="ngCellText" ng-class="col.colIndex()"><span ng-cell-text>{{COL_FIELD CUSTOM_FILTERS}}</span></div>'),t.put("checkboxCellTemplate.html",'<div class="ngSelectionCell"><input tabindex="-1" class="ngSelectionCheckbox" type="checkbox" ng-checked="row.selected" /></div>'),t.put("checkboxHeaderTemplate.html",'<input class="ngSelectionHeader" type="checkbox" ng-show="multiSelect" ng-model="allSelected" ng-change="toggleSelectAll(allSelected, true)"/>'),t.put("editableCellTemplate.html",'<input ng-class="\'colt\' + col.index" ng-input="COL_FIELD" ng-model="COL_FIELD" />'),t.put("footerTemplate.html",'<div ng-show="showFooter" class="ngFooterPanel" ng-class="{\'ui-widget-content\': jqueryUITheme, \'ui-corner-bottom\': jqueryUITheme}" ng-style="footerStyle()">\r\n    <div class="ngTotalSelectContainer" >\r\n        <div class="ngFooterTotalItems" ng-class="{\'ngNoMultiSelect\': !multiSelect}" >\r\n            <span class="ngLabel">{{i18n.ngTotalItemsLabel}} {{maxRows()}}</span><span ng-show="filterText.length > 0" class="ngLabel">({{i18n.ngShowingItemsLabel}} {{totalFilteredItemsLength()}})</span>\r\n        </div>\r\n        <div class="ngFooterSelectedItems" ng-show="multiSelect">\r\n            <span class="ngLabel">{{i18n.ngSelectedItemsLabel}} {{selectedItems.length}}</span>\r\n        </div>\r\n    </div>\r\n    <div class="ngPagerContainer" style="float: right; margin-top: 10px;" ng-show="enablePaging" ng-class="{\'ngNoMultiSelect\': !multiSelect}">\r\n        <div style="float:left; margin-right: 10px;" class="ngRowCountPicker">\r\n            <span style="float: left; margin-top: 3px;" class="ngLabel">{{i18n.ngPageSizeLabel}}</span>\r\n            <select style="float: left;height: 27px; width: 100px" ng-model="pagingOptions.pageSize" >\r\n                <option ng-repeat="size in pagingOptions.pageSizes">{{size}}</option>\r\n            </select>\r\n        </div>\r\n        <div style="float:left; margin-right: 10px; line-height:25px;" class="ngPagerControl" style="float: left; min-width: 135px;">\r\n            <button type="button" class="ngPagerButton" ng-click="pageToFirst()" ng-disabled="cantPageBackward()" title="{{i18n.ngPagerFirstTitle}}"><div class="ngPagerFirstTriangle"><div class="ngPagerFirstBar"></div></div></button>\r\n            <button type="button" class="ngPagerButton" ng-click="pageBackward()" ng-disabled="cantPageBackward()" title="{{i18n.ngPagerPrevTitle}}"><div class="ngPagerFirstTriangle ngPagerPrevTriangle"></div></button>\r\n            <input class="ngPagerCurrent" min="1" max="{{currentMaxPages}}" type="number" style="width:50px; height: 24px; margin-top: 1px; padding: 0 4px;" ng-model="pagingOptions.currentPage"/>\r\n            <span class="ngGridMaxPagesNumber" ng-show="maxPages() > 0">/ {{maxPages()}}</span>\r\n            <button type="button" class="ngPagerButton" ng-click="pageForward()" ng-disabled="cantPageForward()" title="{{i18n.ngPagerNextTitle}}"><div class="ngPagerLastTriangle ngPagerNextTriangle"></div></button>\r\n            <button type="button" class="ngPagerButton" ng-click="pageToLast()" ng-disabled="cantPageToLast()" title="{{i18n.ngPagerLastTitle}}"><div class="ngPagerLastTriangle"><div class="ngPagerLastBar"></div></div></button>\r\n        </div>\r\n    </div>\r\n</div>\r\n'),t.put("gridTemplate.html",'<div class="ngTopPanel" ng-class="{\'ui-widget-header\':jqueryUITheme, \'ui-corner-top\': jqueryUITheme}" ng-style="topPanelStyle()">\r\n    <div class="ngGroupPanel" ng-show="showGroupPanel()" ng-style="groupPanelStyle()">\r\n        <div class="ngGroupPanelDescription" ng-show="configGroups.length == 0">{{i18n.ngGroupPanelDescription}}</div>\r\n        <ul ng-show="configGroups.length > 0" class="ngGroupList">\r\n            <li class="ngGroupItem" ng-repeat="group in configGroups">\r\n                <span class="ngGroupElement">\r\n                    <span class="ngGroupName">{{group.displayName}}\r\n                        <span ng-click="removeGroup($index)" class="ngRemoveGroup">x</span>\r\n                    </span>\r\n                    <span ng-hide="$last" class="ngGroupArrow"></span>\r\n                </span>\r\n            </li>\r\n        </ul>\r\n    </div>\r\n    <div class="ngHeaderContainer" ng-style="headerStyle()">\r\n        <div ng-header-row class="ngHeaderScroller" ng-style="headerScrollerStyle()"></div>\r\n    </div>\r\n    <div ng-grid-menu></div>\r\n</div>\r\n<div class="ngViewport" unselectable="on" ng-viewport ng-class="{\'ui-widget-content\': jqueryUITheme}" ng-style="viewportStyle()">\r\n    <div class="ngCanvas" ng-style="canvasStyle()">\r\n        <div ng-style="rowStyle(row)" ng-repeat="row in renderedRows" ng-click="row.toggleSelected($event)" ng-class="row.alternatingRowClass()" ng-row></div>\r\n    </div>\r\n</div>\r\n<div ng-grid-footer></div>\r\n'),t.put("headerCellTemplate.html",'<div class="ngHeaderSortColumn {{col.headerClass}}" ng-style="{\'cursor\': col.cursor}" ng-class="{ \'ngSorted\': !col.noSortVisible() }">\r\n    <div ng-click="col.sort($event)" ng-class="\'colt\' + col.index" class="ngHeaderText">{{col.displayName}}</div>\r\n    <div class="ngSortButtonDown" ng-click="col.sort($event)" ng-show="col.showSortButtonDown()"></div>\r\n    <div class="ngSortButtonUp" ng-click="col.sort($event)" ng-show="col.showSortButtonUp()"></div>\r\n    <div class="ngSortPriority">{{col.sortPriority}}</div>\r\n    <div ng-class="{ ngPinnedIcon: col.pinned, ngUnPinnedIcon: !col.pinned }" ng-click="togglePin(col)" ng-show="col.pinnable"></div>\r\n</div>\r\n<div ng-show="col.resizable" class="ngHeaderGrip" ng-click="col.gripClick($event)" ng-mousedown="col.gripOnMouseDown($event)"></div>\r\n'),e.isRtl?t.put("headerRowTemplate.html",'<div ng-style="{ height: col.headerRowHeight }" ng-repeat="col in renderedColumns" ng-class="col.colIndex()" class="ngHeaderCell">\r\n\t<div class="ngVerticalBar" ng-style="{height: col.headerRowHeight}" ng-class="{ ngVerticalBarVisible: !(col.index == (renderedColumns.length - 2))}">&nbsp;</div>\r\n\t<div ng-header-cell></div>\r\n</div>'):t.put("headerRowTemplate.html",'<div ng-style="{ height: col.headerRowHeight }" ng-repeat="col in renderedColumns" ng-class="col.colIndex()" class="ngHeaderCell">\r\n\t<div class="ngVerticalBar" ng-style="{height: col.headerRowHeight}" ng-class="{ ngVerticalBarVisible: !$last}">&nbsp;</div>\r\n\t<div ng-header-cell></div>\r\n</div>'),t.put("menuTemplate.html",'<div ng-show="showColumnMenu || showFilter"  class="ngHeaderButton" ng-click="toggleShowMenu()">\r\n    <div class="ngHeaderButtonArrow"></div>\r\n</div>\r\n<div ng-show="showMenu" class="ngColMenu">\r\n    <div ng-show="showFilter">\r\n        <input placeholder="{{i18n.ngSearchPlaceHolder}}" type="text" ng-model="filterText"/>\r\n    </div>\r\n    <div ng-show="showColumnMenu">\r\n        <span class="ngMenuText">{{i18n.ngMenuText}}</span>\r\n        <ul class="ngColList">\r\n            <li class="ngColListItem" ng-repeat="col in columns | ngColumns">\r\n                <label><input ng-disabled="col.pinned" type="checkbox" class="ngColListCheckbox" ng-model="col.visible"/>{{col.displayName}}</label>\r\n\t\t\t\t<a title="Group By" ng-class="col.groupedByClass()" ng-show="col.groupable && col.visible" ng-click="groupBy(col)"></a>\r\n\t\t\t\t<span class="ngGroupingNumber" ng-show="col.groupIndex > 0">{{col.groupIndex}}</span>          \r\n            </li>\r\n        </ul>\r\n    </div>\r\n</div>'),t.put("rowTemplate.html",'<div ng-style="{ \'cursor\': row.cursor }" ng-repeat="col in renderedColumns" ng-class="col.colIndex()" class="ngCell {{col.cellClass}}">\r\n\t<div class="ngVerticalBar" ng-style="{height: rowHeight}" ng-class="{ ngVerticalBarVisible: !$last }">&nbsp;</div>\r\n\t<div ng-cell></div>\r\n</div>')}])}(window,jQuery),angular.module("ui.bootstrap-custom",["ui.bootstrap-custom.tpls","ui.bootstrap-custom.popover","ui.bootstrap-custom.tooltip","ui.bootstrap-custom.position","ui.bootstrap-custom.stackedMap"]),angular.module("ui.bootstrap-custom.tpls",["uib/template/popover/popover-html.html","uib/template/popover/popover-template.html","uib/template/popover/popover.html","uib/template/tooltip/tooltip-html-popup.html","uib/template/tooltip/tooltip-popup.html","uib/template/tooltip/tooltip-template-popup.html"]),angular.module("ui.bootstrap-custom.popover",["ui.bootstrap-custom.tooltip"]).directive("uibPopoverTemplatePopup",function(){return{restrict:"A",scope:{uibTitle:"@",contentExp:"&",originScope:"&"},templateUrl:"uib/template/popover/popover-template.html"}}).directive("uibPopoverTemplate",["$uibTooltip",function(e){return e("uibPopoverTemplate","popover","click",{useContentExp:!0})}]).directive("uibPopoverHtmlPopup",function(){return{restrict:"A",scope:{contentExp:"&",uibTitle:"@"},templateUrl:"uib/template/popover/popover-html.html"}}).directive("uibPopoverHtml",["$uibTooltip",function(e){return e("uibPopoverHtml","popover","click",{useContentExp:!0})}]).directive("uibPopoverPopup",function(){return{restrict:"A",scope:{uibTitle:"@",content:"@"},templateUrl:"uib/template/popover/popover.html"}}).directive("uibPopover",["$uibTooltip",function(e){return e("uibPopover","popover","click")}]),angular.module("ui.bootstrap-custom.tooltip",["ui.bootstrap-custom.position","ui.bootstrap-custom.stackedMap"]).provider("$uibTooltip",function(){function e(e){var t=/[A-Z]/g,n="-";return e.replace(t,function(e,t){return(t?n:"")+e.toLowerCase()})}var t={placement:"top",placementClassPrefix:"",animation:!0,popupDelay:0,popupCloseDelay:0,useContentExp:!1},n={mouseenter:"mouseleave",click:"click",outsideClick:"outsideClick",focus:"blur",none:""},i={};this.options=function(e){angular.extend(i,e)},this.setTriggers=function(e){angular.extend(n,e)},this.$get=["$window","$compile","$timeout","$document","$uibPosition","$interpolate","$rootScope","$parse","$$stackedMap",function(o,a,r,l,s,c,u,p,d){function f(e){if(27===e.which){var t=h.top();t&&(t.value.close(),t=null)}}var h=d.createNew();return l.on("keyup",f),u.$on("$destroy",function(){l.off("keyup",f)}),function(o,u,d,f){function g(e){var t=(e||f.trigger||d).split(" "),i=t.map(function(e){return n[e]||e});return{show:t,hide:i}}f=angular.extend({},t,i,f);var m=e(o),v=c.startSymbol(),b=c.endSymbol(),y="<div "+m+'-popup uib-title="'+v+"title"+b+'" '+(f.useContentExp?'content-exp="contentExp()" ':'content="'+v+"content"+b+'" ')+'origin-scope="origScope" class="uib-position-measure '+u+'" tooltip-animation-class="fade"uib-tooltip-classes ng-class="{ in: isOpen }" ></div>';return{compile:function(e,t){var n=a(y);return function(e,t,i,a){function c(){G.isOpen?m():d()}function d(){j&&!e.$eval(i[u+"Enable"])||(x(),$(),G.popupDelay?_||(_=r(v,G.popupDelay,!1)):v())}function m(){b(),G.popupCloseDelay?I||(I=r(y,G.popupCloseDelay,!1)):y()}function v(){return b(),x(),G.content?(w(),void G.$evalAsync(function(){G.isOpen=!0,C(!0),V()})):angular.noop}function b(){_&&(r.cancel(_),_=null),R&&(r.cancel(R),R=null)}function y(){G&&G.$evalAsync(function(){G&&(G.isOpen=!1,C(!1),G.animation?O||(O=r(k,150,!1)):k())})}function x(){I&&(r.cancel(I),I=null),O&&(r.cancel(O),O=null)}function w(){E||(M=G.$new(),E=n(M,function(e){H?l.find("body").append(e):t.after(e)}),h.add(G,{close:y}),S())}function k(){b(),x(),T(),E&&(E.remove(),E=null,L&&r.cancel(L)),h.remove(G),M&&(M.$destroy(),M=null)}function $(){G.title=i[u+"Title"],B?G.content=B(e):G.content=i[o],G.popupClass=i[u+"Class"],G.placement=angular.isDefined(i[u+"Placement"])?i[u+"Placement"]:f.placement;var t=s.parsePlacement(G.placement);N=t[1]?t[0]+"-"+t[1]:t[0];var n=parseInt(i[u+"PopupDelay"],10),a=parseInt(i[u+"PopupCloseDelay"],10);G.popupDelay=isNaN(n)?f.popupDelay:n,G.popupCloseDelay=isNaN(a)?f.popupCloseDelay:a}function C(t){z&&angular.isFunction(z.assign)&&z.assign(e,t)}function S(){U.length=0,B?(U.push(e.$watch(B,function(e){G.content=e,!e&&G.isOpen&&y()})),U.push(M.$watch(function(){q||(q=!0,M.$$postDigest(function(){q=!1,G&&G.isOpen&&V()}))}))):U.push(i.$observe(o,function(e){G.content=e,!e&&G.isOpen?y():V()})),U.push(i.$observe(u+"Title",function(e){G.title=e,G.isOpen&&V()})),U.push(i.$observe(u+"Placement",function(e){G.placement=e?e:f.placement,G.isOpen&&V()}))}function T(){U.length&&(angular.forEach(U,function(e){e()}),U.length=0)}function P(e){G&&G.isOpen&&E&&(t[0].contains(e.target)||E[0].contains(e.target)||m())}function A(e){27===e.which&&m()}function D(){var n=[],o=[],a=e.$eval(i[u+"Trigger"]);W(),angular.isObject(a)?(Object.keys(a).forEach(function(e){n.push(e),o.push(a[e])}),F={show:n,hide:o}):F=g(a),"none"!==F.show&&F.show.forEach(function(e,n){"outsideClick"===e?(t.on("click",c),l.on("click",P)):e===F.hide[n]?t.on(e,c):e&&(t.on(e,d),t.on(F.hide[n],m)),t.on("keypress",A)})}var E,M,O,_,I,R,L,N,H=!!angular.isDefined(f.appendToBody)&&f.appendToBody,F=g(void 0),j=angular.isDefined(i[u+"Enable"]),G=e.$new(!0),q=!1,z=!!angular.isDefined(i[u+"IsOpen"])&&p(i[u+"IsOpen"]),B=!!f.useContentExp&&p(i[o]),U=[],V=function(){E&&E.html()&&(R||(R=r(function(){var e=s.positionElements(t,E,G.placement,H),n=angular.isDefined(E.offsetHeight)?E.offsetHeight:E.prop("offsetHeight"),i=H?s.offset(t):s.position(t);E.css({top:e.top+"px",left:e.left+"px"});var o=e.placement.split("-");E.hasClass(o[0])||(E.removeClass(N.split("-")[0]),E.addClass(o[0])),E.hasClass(f.placementClassPrefix+e.placement)||(E.removeClass(f.placementClassPrefix+N),E.addClass(f.placementClassPrefix+e.placement)),L=r(function(){var e=angular.isDefined(E.offsetHeight)?E.offsetHeight:E.prop("offsetHeight"),t=s.adjustTop(o,i,n,e);t&&E.css(t),L=null},0,!1),E.hasClass("uib-position-measure")?(s.positionArrow(E,e.placement),
E.removeClass("uib-position-measure")):N!==e.placement&&s.positionArrow(E,e.placement),N=e.placement,R=null},0,!1)))};G.origScope=e,G.isOpen=!1,G.contentExp=function(){return G.content},i.$observe("disabled",function(e){e&&b(),e&&G.isOpen&&y()}),z&&e.$watch(z,function(e){G&&!e===G.isOpen&&c()});var W=function(){F.show.forEach(function(e){"outsideClick"===e?t.off("click",c):(t.off(e,d),t.off(e,c)),t.off("keypress",A)}),F.hide.forEach(function(e){"outsideClick"===e?l.off("click",P):t.off(e,m)})};D();var Y=e.$eval(i[u+"Animation"]);G.animation=angular.isDefined(Y)?!!Y:f.animation;var X,K=u+"AppendToBody";X=K in i&&void 0===i[K]||e.$eval(i[K]),H=angular.isDefined(X)?X:H,e.$on("$destroy",function(){W(),k(),G=null})}}}}}]}).directive("uibTooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(e,t,n,i){return{link:function(o,a,r){var l,s,c,u=o.$eval(r.tooltipTemplateTranscludeScope),p=0,d=function(){s&&(s.remove(),s=null),l&&(l.$destroy(),l=null),c&&(e.leave(c).then(function(){s=null}),s=c,c=null)};o.$watch(t.parseAsResourceUrl(r.uibTooltipTemplateTransclude),function(t){var r=++p;t?(i(t,!0).then(function(i){if(r===p){var o=u.$new(),s=i,f=n(s)(o,function(t){d(),e.enter(t,a)});l=o,c=f,l.$emit("$includeContentLoaded",t)}},function(){r===p&&(d(),o.$emit("$includeContentError",t))}),o.$emit("$includeContentRequested",t)):d()}),o.$on("$destroy",d)}}}]).directive("uibTooltipClasses",["$uibPosition",function(e){return{restrict:"A",link:function(t,n,i){if(t.placement){var o=e.parsePlacement(t.placement);n.addClass(o[0])}t.popupClass&&n.addClass(t.popupClass),t.animation&&n.addClass(i.tooltipAnimationClass)}}}]).directive("uibTooltipPopup",function(){return{restrict:"A",scope:{content:"@"},templateUrl:"uib/template/tooltip/tooltip-popup.html"}}).directive("uibTooltip",["$uibTooltip",function(e){return e("uibTooltip","tooltip","mouseenter")}]).directive("uibTooltipTemplatePopup",function(){return{restrict:"A",scope:{contentExp:"&",originScope:"&"},templateUrl:"uib/template/tooltip/tooltip-template-popup.html"}}).directive("uibTooltipTemplate",["$uibTooltip",function(e){return e("uibTooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("uibTooltipHtmlPopup",function(){return{restrict:"A",scope:{contentExp:"&"},templateUrl:"uib/template/tooltip/tooltip-html-popup.html"}}).directive("uibTooltipHtml",["$uibTooltip",function(e){return e("uibTooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]),angular.module("ui.bootstrap-custom.position",[]).factory("$uibPosition",["$document","$window",function(e,t){var n,i,o={normal:/(auto|scroll)/,hidden:/(auto|scroll|hidden)/},a={auto:/\s?auto?\s?/i,primary:/^(top|bottom|left|right)$/,secondary:/^(top|bottom|left|right|center)$/,vertical:/^(top|bottom)$/},r=/(HTML|BODY)/;return{getRawNode:function(e){return e.nodeName?e:e[0]||e},parseStyle:function(e){return e=parseFloat(e),isFinite(e)?e:0},offsetParent:function(n){function i(e){return"static"===(t.getComputedStyle(e).position||"static")}n=this.getRawNode(n);for(var o=n.offsetParent||e[0].documentElement;o&&o!==e[0].documentElement&&i(o);)o=o.offsetParent;return o||e[0].documentElement},scrollbarWidth:function(o){if(o){if(angular.isUndefined(i)){var a=e.find("body");a.addClass("uib-position-body-scrollbar-measure"),i=t.innerWidth-a[0].clientWidth,i=isFinite(i)?i:0,a.removeClass("uib-position-body-scrollbar-measure")}return i}if(angular.isUndefined(n)){var r=angular.element('<div class="uib-position-scrollbar-measure"></div>');e.find("body").append(r),n=r[0].offsetWidth-r[0].clientWidth,n=isFinite(n)?n:0,r.remove()}return n},scrollbarPadding:function(e){e=this.getRawNode(e);var n=t.getComputedStyle(e),i=this.parseStyle(n.paddingRight),o=this.parseStyle(n.paddingBottom),a=this.scrollParent(e,!1,!0),l=this.scrollbarWidth(r.test(a.tagName));return{scrollbarWidth:l,widthOverflow:a.scrollWidth>a.clientWidth,right:i+l,originalRight:i,heightOverflow:a.scrollHeight>a.clientHeight,bottom:o+l,originalBottom:o}},isScrollable:function(e,n){e=this.getRawNode(e);var i=n?o.hidden:o.normal,a=t.getComputedStyle(e);return i.test(a.overflow+a.overflowY+a.overflowX)},scrollParent:function(n,i,a){n=this.getRawNode(n);var r=i?o.hidden:o.normal,l=e[0].documentElement,s=t.getComputedStyle(n);if(a&&r.test(s.overflow+s.overflowY+s.overflowX))return n;var c="absolute"===s.position,u=n.parentElement||l;if(u===l||"fixed"===s.position)return l;for(;u.parentElement&&u!==l;){var p=t.getComputedStyle(u);if(c&&"static"!==p.position&&(c=!1),!c&&r.test(p.overflow+p.overflowY+p.overflowX))break;u=u.parentElement}return u},position:function(n,i){n=this.getRawNode(n);var o=this.offset(n);if(i){var a=t.getComputedStyle(n);o.top-=this.parseStyle(a.marginTop),o.left-=this.parseStyle(a.marginLeft)}var r=this.offsetParent(n),l={top:0,left:0};return r!==e[0].documentElement&&(l=this.offset(r),l.top+=r.clientTop-r.scrollTop,l.left+=r.clientLeft-r.scrollLeft),{width:Math.round(angular.isNumber(o.width)?o.width:n.offsetWidth),height:Math.round(angular.isNumber(o.height)?o.height:n.offsetHeight),top:Math.round(o.top-l.top),left:Math.round(o.left-l.left)}},offset:function(n){n=this.getRawNode(n);var i=n.getBoundingClientRect();return{width:Math.round(angular.isNumber(i.width)?i.width:n.offsetWidth),height:Math.round(angular.isNumber(i.height)?i.height:n.offsetHeight),top:Math.round(i.top+(t.pageYOffset||e[0].documentElement.scrollTop)),left:Math.round(i.left+(t.pageXOffset||e[0].documentElement.scrollLeft))}},viewportOffset:function(n,i,o){n=this.getRawNode(n),o=o!==!1;var a=n.getBoundingClientRect(),r={top:0,left:0,bottom:0,right:0},l=i?e[0].documentElement:this.scrollParent(n),s=l.getBoundingClientRect();if(r.top=s.top+l.clientTop,r.left=s.left+l.clientLeft,l===e[0].documentElement&&(r.top+=t.pageYOffset,r.left+=t.pageXOffset),r.bottom=r.top+l.clientHeight,r.right=r.left+l.clientWidth,o){var c=t.getComputedStyle(l);r.top+=this.parseStyle(c.paddingTop),r.bottom-=this.parseStyle(c.paddingBottom),r.left+=this.parseStyle(c.paddingLeft),r.right-=this.parseStyle(c.paddingRight)}return{top:Math.round(a.top-r.top),bottom:Math.round(r.bottom-a.bottom),left:Math.round(a.left-r.left),right:Math.round(r.right-a.right)}},parsePlacement:function(e){var t=a.auto.test(e);return t&&(e=e.replace(a.auto,"")),e=e.split("-"),e[0]=e[0]||"top",a.primary.test(e[0])||(e[0]="top"),e[1]=e[1]||"center",a.secondary.test(e[1])||(e[1]="center"),t?e[2]=!0:e[2]=!1,e},positionElements:function(e,n,i,o){e=this.getRawNode(e),n=this.getRawNode(n);var r=angular.isDefined(n.offsetWidth)?n.offsetWidth:n.prop("offsetWidth"),l=angular.isDefined(n.offsetHeight)?n.offsetHeight:n.prop("offsetHeight");i=this.parsePlacement(i);var s=o?this.offset(e):this.position(e),c={top:0,left:0,placement:""};if(i[2]){var u=this.viewportOffset(e,o),p=t.getComputedStyle(n),d={width:r+Math.round(Math.abs(this.parseStyle(p.marginLeft)+this.parseStyle(p.marginRight))),height:l+Math.round(Math.abs(this.parseStyle(p.marginTop)+this.parseStyle(p.marginBottom)))};if(i[0]="top"===i[0]&&d.height>u.top&&d.height<=u.bottom?"bottom":"bottom"===i[0]&&d.height>u.bottom&&d.height<=u.top?"top":"left"===i[0]&&d.width>u.left&&d.width<=u.right?"right":"right"===i[0]&&d.width>u.right&&d.width<=u.left?"left":i[0],i[1]="top"===i[1]&&d.height-s.height>u.bottom&&d.height-s.height<=u.top?"bottom":"bottom"===i[1]&&d.height-s.height>u.top&&d.height-s.height<=u.bottom?"top":"left"===i[1]&&d.width-s.width>u.right&&d.width-s.width<=u.left?"right":"right"===i[1]&&d.width-s.width>u.left&&d.width-s.width<=u.right?"left":i[1],"center"===i[1])if(a.vertical.test(i[0])){var f=s.width/2-r/2;u.left+f<0&&d.width-s.width<=u.right?i[1]="left":u.right+f<0&&d.width-s.width<=u.left&&(i[1]="right")}else{var h=s.height/2-d.height/2;u.top+h<0&&d.height-s.height<=u.bottom?i[1]="top":u.bottom+h<0&&d.height-s.height<=u.top&&(i[1]="bottom")}}switch(i[0]){case"top":c.top=s.top-l;break;case"bottom":c.top=s.top+s.height;break;case"left":c.left=s.left-r;break;case"right":c.left=s.left+s.width}switch(i[1]){case"top":c.top=s.top;break;case"bottom":c.top=s.top+s.height-l;break;case"left":c.left=s.left;break;case"right":c.left=s.left+s.width-r;break;case"center":a.vertical.test(i[0])?c.left=s.left+s.width/2-r/2:c.top=s.top+s.height/2-l/2}return c.top=Math.round(c.top),c.left=Math.round(c.left),c.placement="center"===i[1]?i[0]:i[0]+"-"+i[1],c},adjustTop:function(e,t,n,i){if(e.indexOf("top")!==-1&&n!==i)return{top:t.top-i+"px"}},positionArrow:function(e,n){e=this.getRawNode(e);var i=e.querySelector(".tooltip-inner, .popover-inner");if(i){var o=angular.element(i).hasClass("tooltip-inner"),r=o?e.querySelector(".tooltip-arrow"):e.querySelector(".arrow");if(r){var l={top:"",bottom:"",left:"",right:""};if(n=this.parsePlacement(n),"center"===n[1])return void angular.element(r).css(l);var s="border-"+n[0]+"-width",c=t.getComputedStyle(r)[s],u="border-";u+=a.vertical.test(n[0])?n[0]+"-"+n[1]:n[1]+"-"+n[0],u+="-radius";var p=t.getComputedStyle(o?i:e)[u];switch(n[0]){case"top":l.bottom=o?"0":"-"+c;break;case"bottom":l.top=o?"0":"-"+c;break;case"left":l.right=o?"0":"-"+c;break;case"right":l.left=o?"0":"-"+c}l[n[1]]=p,angular.element(r).css(l)}}}}}]),angular.module("ui.bootstrap-custom.stackedMap",[]).factory("$$stackedMap",function(){return{createNew:function(){var e=[];return{add:function(t,n){e.push({key:t,value:n})},get:function(t){for(var n=0;n<e.length;n++)if(t===e[n].key)return e[n]},keys:function(){for(var t=[],n=0;n<e.length;n++)t.push(e[n].key);return t},top:function(){return e[e.length-1]},remove:function(t){for(var n=-1,i=0;i<e.length;i++)if(t===e[i].key){n=i;break}return e.splice(n,1)[0]},removeTop:function(){return e.pop()},length:function(){return e.length}}}}}),angular.module("uib/template/popover/popover-html.html",[]).run(["$templateCache",function(e){e.put("uib/template/popover/popover-html.html",'<div class="arrow"></div>\n\n<div class="popover-inner">\n    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n    <div class="popover-content" ng-bind-html="contentExp()"></div>\n</div>\n')}]),angular.module("uib/template/popover/popover-template.html",[]).run(["$templateCache",function(e){e.put("uib/template/popover/popover-template.html",'<div class="arrow"></div>\n\n<div class="popover-inner">\n    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n    <div class="popover-content"\n      uib-tooltip-template-transclude="contentExp()"\n      tooltip-template-transclude-scope="originScope()"></div>\n</div>\n')}]),angular.module("uib/template/popover/popover.html",[]).run(["$templateCache",function(e){e.put("uib/template/popover/popover.html",'<div class="arrow"></div>\n\n<div class="popover-inner">\n    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n    <div class="popover-content" ng-bind="content"></div>\n</div>\n')}]),angular.module("uib/template/tooltip/tooltip-html-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/tooltip/tooltip-html-popup.html",'<div class="tooltip-arrow"></div>\n<div class="tooltip-inner" ng-bind-html="contentExp()"></div>\n')}]),angular.module("uib/template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/tooltip/tooltip-popup.html",'<div class="tooltip-arrow"></div>\n<div class="tooltip-inner" ng-bind="content"></div>\n')}]),angular.module("uib/template/tooltip/tooltip-template-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/tooltip/tooltip-template-popup.html",'<div class="tooltip-arrow"></div>\n<div class="tooltip-inner"\n  uib-tooltip-template-transclude="contentExp()"\n  tooltip-template-transclude-scope="originScope()"></div>\n')}]),angular.module("ui.bootstrap-custom.tooltip").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTooltipCss&&angular.element(document).find("head").prepend('<style type="text/css">[uib-tooltip-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-bottom > .tooltip-arrow,[uib-popover-popup].popover.top-left > .arrow,[uib-popover-popup].popover.top-right > .arrow,[uib-popover-popup].popover.bottom-left > .arrow,[uib-popover-popup].popover.bottom-right > .arrow,[uib-popover-popup].popover.left-top > .arrow,[uib-popover-popup].popover.left-bottom > .arrow,[uib-popover-popup].popover.right-top > .arrow,[uib-popover-popup].popover.right-bottom > .arrow,[uib-popover-html-popup].popover.top-left > .arrow,[uib-popover-html-popup].popover.top-right > .arrow,[uib-popover-html-popup].popover.bottom-left > .arrow,[uib-popover-html-popup].popover.bottom-right > .arrow,[uib-popover-html-popup].popover.left-top > .arrow,[uib-popover-html-popup].popover.left-bottom > .arrow,[uib-popover-html-popup].popover.right-top > .arrow,[uib-popover-html-popup].popover.right-bottom > .arrow,[uib-popover-template-popup].popover.top-left > .arrow,[uib-popover-template-popup].popover.top-right > .arrow,[uib-popover-template-popup].popover.bottom-left > .arrow,[uib-popover-template-popup].popover.bottom-right > .arrow,[uib-popover-template-popup].popover.left-top > .arrow,[uib-popover-template-popup].popover.left-bottom > .arrow,[uib-popover-template-popup].popover.right-top > .arrow,[uib-popover-template-popup].popover.right-bottom > .arrow{top:auto;bottom:auto;left:auto;right:auto;margin:0;}[uib-popover-popup].popover,[uib-popover-html-popup].popover,[uib-popover-template-popup].popover{display:block !important;}</style>'),angular.$$uibTooltipCss=!0}),angular.module("ui.bootstrap-custom.position").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibPositionCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-position-measure{display:block !important;visibility:hidden !important;position:absolute !important;top:-9999px !important;left:-9999px !important;}.uib-position-scrollbar-measure{position:absolute !important;top:-9999px !important;width:50px !important;height:50px !important;overflow:scroll !important;}.uib-position-body-scrollbar-measure{overflow:scroll !important;}</style>'),angular.$$uibPositionCss=!0}),angular.module("ui.bootstrap-custom",["ui.bootstrap-custom.tpls","ui.bootstrap-custom.popover","ui.bootstrap-custom.tooltip","ui.bootstrap-custom.position","ui.bootstrap-custom.stackedMap"]),angular.module("ui.bootstrap-custom.tpls",["uib/template/popover/popover-html.html","uib/template/popover/popover-template.html","uib/template/popover/popover.html","uib/template/tooltip/tooltip-html-popup.html","uib/template/tooltip/tooltip-popup.html","uib/template/tooltip/tooltip-template-popup.html"]),angular.module("ui.bootstrap-custom.popover",["ui.bootstrap-custom.tooltip"]).directive("uibPopoverTemplatePopup",function(){return{restrict:"A",scope:{uibTitle:"@",contentExp:"&",originScope:"&"},templateUrl:"uib/template/popover/popover-template.html"}}).directive("uibPopoverTemplate",["$uibTooltip",function(e){return e("uibPopoverTemplate","popover","click",{useContentExp:!0})}]).directive("uibPopoverHtmlPopup",function(){return{restrict:"A",scope:{contentExp:"&",uibTitle:"@"},templateUrl:"uib/template/popover/popover-html.html"}}).directive("uibPopoverHtml",["$uibTooltip",function(e){return e("uibPopoverHtml","popover","click",{useContentExp:!0})}]).directive("uibPopoverPopup",function(){return{restrict:"A",scope:{uibTitle:"@",content:"@"},templateUrl:"uib/template/popover/popover.html"}}).directive("uibPopover",["$uibTooltip",function(e){return e("uibPopover","popover","click")}]),angular.module("ui.bootstrap-custom.tooltip",["ui.bootstrap-custom.position","ui.bootstrap-custom.stackedMap"]).provider("$uibTooltip",function(){function e(e){var t=/[A-Z]/g,n="-";return e.replace(t,function(e,t){return(t?n:"")+e.toLowerCase()})}var t={placement:"top",placementClassPrefix:"",animation:!0,popupDelay:0,popupCloseDelay:0,useContentExp:!1},n={mouseenter:"mouseleave",click:"click",outsideClick:"outsideClick",focus:"blur",none:""},i={};this.options=function(e){angular.extend(i,e)},this.setTriggers=function(e){angular.extend(n,e)},this.$get=["$window","$compile","$timeout","$document","$uibPosition","$interpolate","$rootScope","$parse","$$stackedMap",function(o,a,r,l,s,c,u,p,d){function f(e){if(27===e.which){var t=h.top();t&&(t.value.close(),t=null)}}var h=d.createNew();return l.on("keyup",f),u.$on("$destroy",function(){l.off("keyup",f)}),function(o,u,d,f){function g(e){var t=(e||f.trigger||d).split(" "),i=t.map(function(e){return n[e]||e});return{show:t,hide:i}}f=angular.extend({},t,i,f);var m=e(o),v=c.startSymbol(),b=c.endSymbol(),y="<div "+m+'-popup uib-title="'+v+"title"+b+'" '+(f.useContentExp?'content-exp="contentExp()" ':'content="'+v+"content"+b+'" ')+'origin-scope="origScope" class="uib-position-measure '+u+'" tooltip-animation-class="fade"uib-tooltip-classes ng-class="{ in: isOpen }" ></div>';return{compile:function(){var e=a(y);return function(t,n,i){function a(){j.isOpen?d():c()}function c(){(!F||t.$eval(i[u+"Enable"]))&&(y(),k(),j.popupDelay?O||(O=r(m,j.popupDelay,!1)):m())}function d(){v(),j.popupCloseDelay?_||(_=r(b,j.popupCloseDelay,!1)):b()}function m(){return v(),y(),j.content?(x(),void j.$evalAsync(function(){j.isOpen=!0,$(!0),U()})):angular.noop}function v(){O&&(r.cancel(O),O=null),I&&(r.cancel(I),I=null)}function b(){j&&j.$evalAsync(function(){j&&(j.isOpen=!1,$(!1),j.animation?M||(M=r(w,150,!1)):w())})}function y(){_&&(r.cancel(_),_=null),M&&(r.cancel(M),M=null)}function x(){D||(E=j.$new(),D=e(E,function(e){N?l.find("body").append(e):n.after(e)}),h.add(j,{close:b}),C())}function w(){v(),y(),S(),D&&(D.remove(),D=null,R&&r.cancel(R)),h.remove(j),E&&(E.$destroy(),E=null)}function k(){j.title=i[u+"Title"],j.content=z?z(t):i[o],j.popupClass=i[u+"Class"],j.placement=angular.isDefined(i[u+"Placement"])?i[u+"Placement"]:f.placement;var e=s.parsePlacement(j.placement);L=e[1]?e[0]+"-"+e[1]:e[0];var n=parseInt(i[u+"PopupDelay"],10),a=parseInt(i[u+"PopupCloseDelay"],10);j.popupDelay=isNaN(n)?f.popupDelay:n,j.popupCloseDelay=isNaN(a)?f.popupCloseDelay:a}function $(e){q&&angular.isFunction(q.assign)&&q.assign(t,e)}function C(){B.length=0,z?(B.push(t.$watch(z,function(e){j.content=e,!e&&j.isOpen&&b()})),B.push(E.$watch(function(){G||(G=!0,E.$$postDigest(function(){G=!1,j&&j.isOpen&&U()}))}))):B.push(i.$observe(o,function(e){j.content=e,!e&&j.isOpen?b():U()})),B.push(i.$observe(u+"Title",function(e){j.title=e,j.isOpen&&U()})),B.push(i.$observe(u+"Placement",function(e){j.placement=e?e:f.placement,j.isOpen&&U()}))}function S(){B.length&&(angular.forEach(B,function(e){e()}),B.length=0)}function T(e){j&&j.isOpen&&D&&(n[0].contains(e.target)||D[0].contains(e.target)||d())}function P(e){27===e.which&&d()}function A(){var e=[],o=[],r=t.$eval(i[u+"Trigger"]);V(),angular.isObject(r)?(Object.keys(r).forEach(function(t){e.push(t),o.push(r[t])}),H={show:e,hide:o}):H=g(r),"none"!==H.show&&H.show.forEach(function(e,t){"outsideClick"===e?(n.on("click",a),l.on("click",T)):e===H.hide[t]?n.on(e,a):e&&(n.on(e,c),n.on(H.hide[t],d)),n.on("keypress",P)})}var D,E,M,O,_,I,R,L,N=!!angular.isDefined(f.appendToBody)&&f.appendToBody,H=g(void 0),F=angular.isDefined(i[u+"Enable"]),j=t.$new(!0),G=!1,q=!!angular.isDefined(i[u+"IsOpen"])&&p(i[u+"IsOpen"]),z=!!f.useContentExp&&p(i[o]),B=[],U=function(){D&&D.html()&&(I||(I=r(function(){var e=s.positionElements(n,D,j.placement,N),t=angular.isDefined(D.offsetHeight)?D.offsetHeight:D.prop("offsetHeight"),i=N?s.offset(n):s.position(n);D.css({top:e.top+"px",left:e.left+"px"});var o=e.placement.split("-");D.hasClass(o[0])||(D.removeClass(L.split("-")[0]),D.addClass(o[0])),D.hasClass(f.placementClassPrefix+e.placement)||(D.removeClass(f.placementClassPrefix+L),D.addClass(f.placementClassPrefix+e.placement)),R=r(function(){var e=angular.isDefined(D.offsetHeight)?D.offsetHeight:D.prop("offsetHeight"),n=s.adjustTop(o,i,t,e);n&&D.css(n),R=null},0,!1),D.hasClass("uib-position-measure")?(s.positionArrow(D,e.placement),D.removeClass("uib-position-measure")):L!==e.placement&&s.positionArrow(D,e.placement),L=e.placement,I=null},0,!1)))};j.origScope=t,j.isOpen=!1,j.contentExp=function(){return j.content},i.$observe("disabled",function(e){e&&v(),e&&j.isOpen&&b()}),q&&t.$watch(q,function(e){j&&!e===j.isOpen&&a()});var V=function(){H.show.forEach(function(e){"outsideClick"===e?n.off("click",a):(n.off(e,c),n.off(e,a)),n.off("keypress",P)}),H.hide.forEach(function(e){"outsideClick"===e?l.off("click",T):n.off(e,d)})};A();var W=t.$eval(i[u+"Animation"]);j.animation=angular.isDefined(W)?!!W:f.animation;var Y,X=u+"AppendToBody";Y=X in i&&void 0===i[X]||t.$eval(i[X]),N=angular.isDefined(Y)?Y:N,t.$on("$destroy",function(){V(),w(),j=null})}}}}}]}).directive("uibTooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(e,t,n,i){return{link:function(o,a,r){var l,s,c,u=o.$eval(r.tooltipTemplateTranscludeScope),p=0,d=function(){s&&(s.remove(),s=null),l&&(l.$destroy(),l=null),c&&(e.leave(c).then(function(){s=null}),s=c,c=null)};o.$watch(t.parseAsResourceUrl(r.uibTooltipTemplateTransclude),function(t){var r=++p;t?(i(t,!0).then(function(i){if(r===p){var o=u.$new(),s=i,f=n(s)(o,function(t){d(),e.enter(t,a)});l=o,c=f,l.$emit("$includeContentLoaded",t)}},function(){r===p&&(d(),o.$emit("$includeContentError",t))}),o.$emit("$includeContentRequested",t)):d()}),o.$on("$destroy",d)}}}]).directive("uibTooltipClasses",["$uibPosition",function(e){return{restrict:"A",link:function(t,n,i){if(t.placement){var o=e.parsePlacement(t.placement);n.addClass(o[0])}t.popupClass&&n.addClass(t.popupClass),t.animation&&n.addClass(i.tooltipAnimationClass)}}}]).directive("uibTooltipPopup",function(){return{restrict:"A",scope:{content:"@"},templateUrl:"uib/template/tooltip/tooltip-popup.html"}}).directive("uibTooltip",["$uibTooltip",function(e){return e("uibTooltip","tooltip","mouseenter")}]).directive("uibTooltipTemplatePopup",function(){return{restrict:"A",scope:{contentExp:"&",originScope:"&"},templateUrl:"uib/template/tooltip/tooltip-template-popup.html"}}).directive("uibTooltipTemplate",["$uibTooltip",function(e){return e("uibTooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("uibTooltipHtmlPopup",function(){return{restrict:"A",scope:{contentExp:"&"},templateUrl:"uib/template/tooltip/tooltip-html-popup.html"}}).directive("uibTooltipHtml",["$uibTooltip",function(e){return e("uibTooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]),angular.module("ui.bootstrap-custom.position",[]).factory("$uibPosition",["$document","$window",function(e,t){var n,i,o={normal:/(auto|scroll)/,hidden:/(auto|scroll|hidden)/},a={auto:/\s?auto?\s?/i,primary:/^(top|bottom|left|right)$/,secondary:/^(top|bottom|left|right|center)$/,vertical:/^(top|bottom)$/},r=/(HTML|BODY)/;return{getRawNode:function(e){return e.nodeName?e:e[0]||e},parseStyle:function(e){return e=parseFloat(e),isFinite(e)?e:0},offsetParent:function(n){function i(e){return"static"===(t.getComputedStyle(e).position||"static")}n=this.getRawNode(n);for(var o=n.offsetParent||e[0].documentElement;o&&o!==e[0].documentElement&&i(o);)o=o.offsetParent;return o||e[0].documentElement},scrollbarWidth:function(o){if(o){if(angular.isUndefined(i)){var a=e.find("body");a.addClass("uib-position-body-scrollbar-measure"),i=t.innerWidth-a[0].clientWidth,i=isFinite(i)?i:0,a.removeClass("uib-position-body-scrollbar-measure")}return i}if(angular.isUndefined(n)){var r=angular.element('<div class="uib-position-scrollbar-measure"></div>');e.find("body").append(r),n=r[0].offsetWidth-r[0].clientWidth,n=isFinite(n)?n:0,r.remove()}return n},scrollbarPadding:function(e){e=this.getRawNode(e);var n=t.getComputedStyle(e),i=this.parseStyle(n.paddingRight),o=this.parseStyle(n.paddingBottom),a=this.scrollParent(e,!1,!0),l=this.scrollbarWidth(r.test(a.tagName));return{scrollbarWidth:l,widthOverflow:a.scrollWidth>a.clientWidth,right:i+l,originalRight:i,heightOverflow:a.scrollHeight>a.clientHeight,bottom:o+l,originalBottom:o}},isScrollable:function(e,n){e=this.getRawNode(e);var i=n?o.hidden:o.normal,a=t.getComputedStyle(e);return i.test(a.overflow+a.overflowY+a.overflowX)},scrollParent:function(n,i,a){n=this.getRawNode(n);var r=i?o.hidden:o.normal,l=e[0].documentElement,s=t.getComputedStyle(n);if(a&&r.test(s.overflow+s.overflowY+s.overflowX))return n;var c="absolute"===s.position,u=n.parentElement||l;if(u===l||"fixed"===s.position)return l;for(;u.parentElement&&u!==l;){var p=t.getComputedStyle(u);if(c&&"static"!==p.position&&(c=!1),!c&&r.test(p.overflow+p.overflowY+p.overflowX))break;u=u.parentElement}return u},position:function(n,i){n=this.getRawNode(n);var o=this.offset(n);if(i){var a=t.getComputedStyle(n);o.top-=this.parseStyle(a.marginTop),o.left-=this.parseStyle(a.marginLeft)}var r=this.offsetParent(n),l={top:0,left:0};return r!==e[0].documentElement&&(l=this.offset(r),l.top+=r.clientTop-r.scrollTop,l.left+=r.clientLeft-r.scrollLeft),{width:Math.round(angular.isNumber(o.width)?o.width:n.offsetWidth),height:Math.round(angular.isNumber(o.height)?o.height:n.offsetHeight),top:Math.round(o.top-l.top),left:Math.round(o.left-l.left)}},offset:function(n){n=this.getRawNode(n);var i=n.getBoundingClientRect();return{width:Math.round(angular.isNumber(i.width)?i.width:n.offsetWidth),height:Math.round(angular.isNumber(i.height)?i.height:n.offsetHeight),top:Math.round(i.top+(t.pageYOffset||e[0].documentElement.scrollTop)),left:Math.round(i.left+(t.pageXOffset||e[0].documentElement.scrollLeft))}},viewportOffset:function(n,i,o){n=this.getRawNode(n),o=o!==!1;var a=n.getBoundingClientRect(),r={top:0,left:0,bottom:0,right:0},l=i?e[0].documentElement:this.scrollParent(n),s=l.getBoundingClientRect();if(r.top=s.top+l.clientTop,r.left=s.left+l.clientLeft,l===e[0].documentElement&&(r.top+=t.pageYOffset,r.left+=t.pageXOffset),r.bottom=r.top+l.clientHeight,r.right=r.left+l.clientWidth,o){var c=t.getComputedStyle(l);r.top+=this.parseStyle(c.paddingTop),r.bottom-=this.parseStyle(c.paddingBottom),r.left+=this.parseStyle(c.paddingLeft),r.right-=this.parseStyle(c.paddingRight)}return{top:Math.round(a.top-r.top),bottom:Math.round(r.bottom-a.bottom),left:Math.round(a.left-r.left),right:Math.round(r.right-a.right)}},parsePlacement:function(e){var t=a.auto.test(e);return t&&(e=e.replace(a.auto,"")),e=e.split("-"),e[0]=e[0]||"top",a.primary.test(e[0])||(e[0]="top"),e[1]=e[1]||"center",a.secondary.test(e[1])||(e[1]="center"),e[2]=!!t,e},positionElements:function(e,n,i,o){e=this.getRawNode(e),n=this.getRawNode(n);var r=angular.isDefined(n.offsetWidth)?n.offsetWidth:n.prop("offsetWidth"),l=angular.isDefined(n.offsetHeight)?n.offsetHeight:n.prop("offsetHeight");i=this.parsePlacement(i);var s=o?this.offset(e):this.position(e),c={top:0,left:0,placement:""};if(i[2]){var u=this.viewportOffset(e,o),p=t.getComputedStyle(n),d={width:r+Math.round(Math.abs(this.parseStyle(p.marginLeft)+this.parseStyle(p.marginRight))),height:l+Math.round(Math.abs(this.parseStyle(p.marginTop)+this.parseStyle(p.marginBottom)))};if(i[0]="top"===i[0]&&d.height>u.top&&d.height<=u.bottom?"bottom":"bottom"===i[0]&&d.height>u.bottom&&d.height<=u.top?"top":"left"===i[0]&&d.width>u.left&&d.width<=u.right?"right":"right"===i[0]&&d.width>u.right&&d.width<=u.left?"left":i[0],i[1]="top"===i[1]&&d.height-s.height>u.bottom&&d.height-s.height<=u.top?"bottom":"bottom"===i[1]&&d.height-s.height>u.top&&d.height-s.height<=u.bottom?"top":"left"===i[1]&&d.width-s.width>u.right&&d.width-s.width<=u.left?"right":"right"===i[1]&&d.width-s.width>u.left&&d.width-s.width<=u.right?"left":i[1],"center"===i[1])if(a.vertical.test(i[0])){var f=s.width/2-r/2;u.left+f<0&&d.width-s.width<=u.right?i[1]="left":u.right+f<0&&d.width-s.width<=u.left&&(i[1]="right")}else{var h=s.height/2-d.height/2;u.top+h<0&&d.height-s.height<=u.bottom?i[1]="top":u.bottom+h<0&&d.height-s.height<=u.top&&(i[1]="bottom")}}switch(i[0]){case"top":c.top=s.top-l;break;case"bottom":c.top=s.top+s.height;break;case"left":c.left=s.left-r;break;case"right":c.left=s.left+s.width}switch(i[1]){case"top":c.top=s.top;break;case"bottom":c.top=s.top+s.height-l;break;case"left":c.left=s.left;break;case"right":c.left=s.left+s.width-r;break;case"center":a.vertical.test(i[0])?c.left=s.left+s.width/2-r/2:c.top=s.top+s.height/2-l/2}return c.top=Math.round(c.top),c.left=Math.round(c.left),c.placement="center"===i[1]?i[0]:i[0]+"-"+i[1],c},adjustTop:function(e,t,n,i){return-1!==e.indexOf("top")&&n!==i?{top:t.top-i+"px"}:void 0},positionArrow:function(e,n){e=this.getRawNode(e);var i=e.querySelector(".tooltip-inner, .popover-inner");if(i){var o=angular.element(i).hasClass("tooltip-inner"),r=e.querySelector(o?".tooltip-arrow":".arrow");if(r){var l={top:"",bottom:"",left:"",right:""};if(n=this.parsePlacement(n),"center"===n[1])return void angular.element(r).css(l);var s="border-"+n[0]+"-width",c=t.getComputedStyle(r)[s],u="border-";u+=a.vertical.test(n[0])?n[0]+"-"+n[1]:n[1]+"-"+n[0],u+="-radius";var p=t.getComputedStyle(o?i:e)[u];switch(n[0]){case"top":l.bottom=o?"0":"-"+c;break;case"bottom":l.top=o?"0":"-"+c;break;case"left":l.right=o?"0":"-"+c;break;case"right":l.left=o?"0":"-"+c}l[n[1]]=p,angular.element(r).css(l)}}}}}]),angular.module("ui.bootstrap-custom.stackedMap",[]).factory("$$stackedMap",function(){return{createNew:function(){var e=[];return{add:function(t,n){e.push({key:t,value:n})},get:function(t){for(var n=0;n<e.length;n++)if(t===e[n].key)return e[n]},keys:function(){for(var t=[],n=0;n<e.length;n++)t.push(e[n].key);return t},top:function(){return e[e.length-1]},remove:function(t){for(var n=-1,i=0;i<e.length;i++)if(t===e[i].key){n=i;break}return e.splice(n,1)[0]},removeTop:function(){return e.pop()},length:function(){return e.length}}}}}),angular.module("uib/template/popover/popover-html.html",[]).run(["$templateCache",function(e){e.put("uib/template/popover/popover-html.html",'<div class="arrow"></div>\n\n<div class="popover-inner">\n    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n    <div class="popover-content" ng-bind-html="contentExp()"></div>\n</div>\n')}]),angular.module("uib/template/popover/popover-template.html",[]).run(["$templateCache",function(e){e.put("uib/template/popover/popover-template.html",'<div class="arrow"></div>\n\n<div class="popover-inner">\n    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n    <div class="popover-content"\n      uib-tooltip-template-transclude="contentExp()"\n      tooltip-template-transclude-scope="originScope()"></div>\n</div>\n')}]),angular.module("uib/template/popover/popover.html",[]).run(["$templateCache",function(e){e.put("uib/template/popover/popover.html",'<div class="arrow"></div>\n\n<div class="popover-inner">\n    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n    <div class="popover-content" ng-bind="content"></div>\n</div>\n');
}]),angular.module("uib/template/tooltip/tooltip-html-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/tooltip/tooltip-html-popup.html",'<div class="tooltip-arrow"></div>\n<div class="tooltip-inner" ng-bind-html="contentExp()"></div>\n')}]),angular.module("uib/template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/tooltip/tooltip-popup.html",'<div class="tooltip-arrow"></div>\n<div class="tooltip-inner" ng-bind="content"></div>\n')}]),angular.module("uib/template/tooltip/tooltip-template-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/tooltip/tooltip-template-popup.html",'<div class="tooltip-arrow"></div>\n<div class="tooltip-inner"\n  uib-tooltip-template-transclude="contentExp()"\n  tooltip-template-transclude-scope="originScope()"></div>\n')}]),angular.module("ui.bootstrap-custom.tooltip").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTooltipCss&&angular.element(document).find("head").prepend('<style type="text/css">[uib-tooltip-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-bottom > .tooltip-arrow,[uib-popover-popup].popover.top-left > .arrow,[uib-popover-popup].popover.top-right > .arrow,[uib-popover-popup].popover.bottom-left > .arrow,[uib-popover-popup].popover.bottom-right > .arrow,[uib-popover-popup].popover.left-top > .arrow,[uib-popover-popup].popover.left-bottom > .arrow,[uib-popover-popup].popover.right-top > .arrow,[uib-popover-popup].popover.right-bottom > .arrow,[uib-popover-html-popup].popover.top-left > .arrow,[uib-popover-html-popup].popover.top-right > .arrow,[uib-popover-html-popup].popover.bottom-left > .arrow,[uib-popover-html-popup].popover.bottom-right > .arrow,[uib-popover-html-popup].popover.left-top > .arrow,[uib-popover-html-popup].popover.left-bottom > .arrow,[uib-popover-html-popup].popover.right-top > .arrow,[uib-popover-html-popup].popover.right-bottom > .arrow,[uib-popover-template-popup].popover.top-left > .arrow,[uib-popover-template-popup].popover.top-right > .arrow,[uib-popover-template-popup].popover.bottom-left > .arrow,[uib-popover-template-popup].popover.bottom-right > .arrow,[uib-popover-template-popup].popover.left-top > .arrow,[uib-popover-template-popup].popover.left-bottom > .arrow,[uib-popover-template-popup].popover.right-top > .arrow,[uib-popover-template-popup].popover.right-bottom > .arrow{top:auto;bottom:auto;left:auto;right:auto;margin:0;}[uib-popover-popup].popover,[uib-popover-html-popup].popover,[uib-popover-template-popup].popover{display:block !important;}</style>'),angular.$$uibTooltipCss=!0}),angular.module("ui.bootstrap-custom.position").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibPositionCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-position-measure{display:block !important;visibility:hidden !important;position:absolute !important;top:-9999px !important;left:-9999px !important;}.uib-position-scrollbar-measure{position:absolute !important;top:-9999px !important;width:50px !important;height:50px !important;overflow:scroll !important;}.uib-position-body-scrollbar-measure{overflow:scroll !important;}</style>'),angular.$$uibPositionCss=!0}),angular.module("ui.bootstrap.dropdown",[]).constant("dropdownConfig",{openClass:"open"}).service("dropdownService",["$document",function(e){var t=null;this.open=function(o){t||(e.bind("click",n),e.bind("keydown",i)),t&&t!==o&&(t.isOpen=!1),t=o},this.close=function(o){t===o&&(t=null,e.unbind("click",n),e.unbind("keydown",i))};var n=function(e){var n=t.getToggleElement();e&&n&&n[0].contains(e.target)||t.$apply(function(){t.isOpen=!1})},i=function(e){if(40===e.which){try{$(e.target).parent().next().find("[role=menuitem],[role=menuitemcheckbox]")[0].focus()}catch(i){}e.preventDefault(),e.stopPropagation()}else if(38===e.which){try{$(e.target).parent().prev().find("[role=menuitem],[role=menuitemcheckbox]")[0].focus()}catch(i){}e.preventDefault(),e.stopPropagation()}else if(27===e.which)t.focusToggleElement(),n();else if(13===e.which){var o=e.target;"menuitem"!==o.getAttribute("role")&&"menuitemcheckbox"!==o.getAttribute("role")||setTimeout(function(){try{angular.element(o).trigger("click")}catch(e){}},0)}}}]).controller("DropdownController",["$scope","$attrs","$parse","dropdownConfig","dropdownService","$animate",function(e,t,n,i,o,a){function r(){return u.$element.find(".dropdown-menu [role=menuitem],[role=menuitemcheckbox], .dropdown-menu input").first()}function l(){r().focus()}var s,c,u=this,p=e.$new(),d=i.openClass,f=angular.noop,h=t.onToggle?n(t.onToggle):angular.noop;this.init=function(i){u.$element=i,t.isOpen&&(s=n(t.isOpen),f=s.assign,e.$watch(s,function(e){p.isOpen=!!e}))},this.toggle=function(e){return p.isOpen=arguments.length?!!e:!p.isOpen},this.isOpen=function(){return p.isOpen},p.getToggleElement=function(){return u.toggleElement},p.focusToggleElement=function(){u.toggleElement&&u.toggleElement[0].focus()},p.$watch("isOpen",function(t,n){a[t?"addClass":"removeClass"](u.$element,d),t?(p.focusToggleElement(),o.open(p),_.isEmpty(r())?c=p.$watch(function(){return u.$element.find(".dropdown-menu").children().length},function(){_.isEmpty(r())||setTimeout(function(){l(),c()},0)}):setTimeout(l,0)):(o.close(p),c&&c()),f(e,t),angular.isDefined(t)&&t!==n&&h(e,{open:!!t})}),e.$on("$locationChangeSuccess",function(){p.isOpen=!1}),e.$on("$destroy",function(){c&&c(),p.$destroy()})}]).directive("dropdown",function(){return{restrict:"CA",controller:"DropdownController",link:function(e,t,n,i){i.init(t)}}}).directive("dropdownToggle",function(){return{restrict:"CA",require:"?^dropdown",link:function(e,t,n,i){if(i){i.toggleElement=t;var o=function(o){13!==o.which&&"keydown"===o.type||(o.preventDefault(),t.hasClass("disabled")||n.disabled||e.$apply(function(){i.toggle()}))};t.bind("click",o),t.bind("keydown",o),t.attr({"aria-haspopup":!0,"aria-expanded":!1}),e.$watch(i.isOpen,function(e){t.attr("aria-expanded",!!e)}),e.$on("$destroy",function(){t.unbind("click",o),t.unbind("keydown",o)})}}}}),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).factory("typeaheadParser",["$parse",function(e){var t=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(n){var i=n.match(t);if(!i)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+n+'".');return{itemName:i[3],source:e(i[4]),viewMapper:e(i[2]||i[1]),modelMapper:e(i[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$position","typeaheadParser",function(e,t,n,i,o,a,r){var l=[9,13,27,38,40];return{require:"ngModel",link:function(s,c,u,p){var d,f=s.$eval(u.typeaheadMinLength)||0,h=s.$eval(u.typeaheadWaitMs)||0,g=s.$eval(u.typeaheadEditable)!==!1,m=t(u.typeaheadLoading).assign||angular.noop,v=t(u.typeaheadOnSelect),b=u.typeaheadInputFormatter?t(u.typeaheadInputFormatter):void 0,y=!!u.typeaheadAppendToBody&&s.$eval(u.typeaheadAppendToBody),x=s.$eval(u.typeaheadFocusFirst)!==!1,w=t(u.ngModel).assign,k=r.parse(u.typeahead),$=s.$new();s.$on("$destroy",function(){$.$destroy()});var C="typeahead-"+$.$id+"-"+Math.floor(1e4*Math.random());c.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":C});var S=angular.element("<div typeahead-popup></div>");S.attr({id:C,matches:"matches",active:"activeIdx",select:"select(activeIdx)",query:"query",position:"position"}),angular.isDefined(u.typeaheadTemplateUrl)&&S.attr("template-url",u.typeaheadTemplateUrl);var T=function(){$.matches=[],$.activeIdx=-1,c.attr("aria-expanded",!1)},P=function(e){return C+"-option-"+e};$.$watch("activeIdx",function(e){e<0?c.removeAttr("aria-activedescendant"):c.attr("aria-activedescendant",P(e))});var A=function(e){var t={$viewValue:e};m(s,!0),n.when(k.source(s,t)).then(function(n){var i=e===p.$viewValue;if(i&&d)if(n&&n.length>0){$.activeIdx=x?0:-1,$.matches.length=0;for(var o=0;o<n.length;o++)t[k.itemName]=n[o],$.matches.push({id:P(o),label:k.viewMapper($,t),model:n[o]});$.query=e,$.position=y?a.offset(c):a.position(c),$.position.top=$.position.top+c.prop("offsetHeight"),c.attr("aria-expanded",!0)}else T();i&&m(s,!1)},function(){T(),m(s,!1)})};T(),$.query=void 0;var D,E=function(e){D=i(function(){A(e)},h)},M=function(){D&&i.cancel(D)};p.$parsers.unshift(function(e){return" "===e?(e="",p.$setViewValue(e),e):(d=!0,0===f||e&&e.length>=f?h>0?(M(),E(e)):A(e):(m(s,!1),M(),T()),g?e:e?void p.$setValidity("editable",!1):(p.$setValidity("editable",!0),e))}),p.$formatters.push(function(e){var t,n,i={};return g||p.$setValidity("editable",!0),b?(i.$model=e,b(s,i)):(i[k.itemName]=e,t=k.viewMapper(s,i),i[k.itemName]=void 0,n=k.viewMapper(s,i),t!==n?t:e)}),$.select=function(e){var t,n,o={};o[k.itemName]=n=$.matches[e].model,t=k.modelMapper(s,o),w(s,t),p.$setValidity("editable",!0),p.$setValidity("parse",!0),v(s,{$item:n,$model:t,$label:k.viewMapper(s,o)}),T(),i(function(){c[0].focus()},0,!1)},c.bind("keydown",function(e){if(0!==$.matches.length&&l.indexOf(e.which)!==-1){if($.activeIdx===-1&&(13===e.which||9===e.which))return T(),void $.$digest();e.preventDefault(),40===e.which?($.activeIdx=($.activeIdx+1)%$.matches.length,$.$digest()):38===e.which?($.activeIdx=($.activeIdx>0?$.activeIdx:$.matches.length)-1,$.$digest()):13===e.which||9===e.which?$.$apply(function(){$.select($.activeIdx)}):27===e.which&&(e.stopPropagation(),T(),$.$digest())}}),c.bind("blur",function(){d=!1}),c.bind("focus",function(){p.$viewValue||0!==f||p.$setViewValue(" ")});var O=function(e){c[0]!==e.target&&(T(),$.$digest())};o.bind("click",O),s.$on("$destroy",function(){o.unbind("click",O),y&&_.remove(),S.remove()});var _=e(S)($);y?o.find("body").append(_):c.after(_)}}}]).directive("typeaheadPopup",function(){return{restrict:"EA",scope:{matches:"=",query:"=",active:"=",position:"=",select:"&"},replace:!0,templateUrl:"template/typeahead/typeahead-popup.html",link:function(e,t,n){e.templateUrl=n.templateUrl,e.isOpen=function(){return e.matches.length>0},e.isActive=function(t){return e.active===t},e.selectActive=function(t){e.active=t},e.selectMatch=function(t){e.select({activeIdx:t})}}}}).directive("typeaheadMatch",["$templateRequest","$compile","$parse",function(e,t,n){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(i,o,a){var r=n(a.templateUrl)(i.$parent)||"template/typeahead/typeahead-match.html";e(r).then(function(e){t(e.trim())(i,function(e){o.replaceWith(e)})})}}}]).filter("typeaheadHighlight",function(){function e(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(t,n){return n?(""+t).replace(new RegExp(e(n),"gi"),"<strong>$&</strong>"):t}}),angular.module("template/tabs/tab.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tab.html",'<li role="presentation" ng-class="{active: active, disabled: disabled}">\n  <a role="tab" href=\'javascript:\' ng-click="select()" aria-selected="{{active}}" tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen()" ng-style="{top: position.top+\'px\', left: position.left+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" role="option" id="{{match.id}}">\n        <div typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.bindHtml","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdown","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.transition","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["template/accordion/accordion-group.html","template/accordion/accordion.html","template/alert/alert.html","template/carousel/carousel.html","template/carousel/slide.html","template/datepicker/datepicker.html","template/datepicker/day.html","template/datepicker/month.html","template/datepicker/popup.html","template/datepicker/year.html","template/modal/backdrop.html","template/modal/window.html","template/pagination/pager.html","template/pagination/pagination.html","template/tooltip/tooltip-html-popup.html","template/tooltip/tooltip-html-unsafe-popup.html","template/tooltip/tooltip-popup.html","template/tooltip/tooltip-template-popup.html","template/popover/popover-template.html","template/popover/popover.html","template/progressbar/bar.html","template/progressbar/progress.html","template/progressbar/progressbar.html","template/rating/rating.html","template/tabs/tab.html","template/tabs/tabset.html","template/timepicker/timepicker.html","template/typeahead/typeahead-match.html","template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.collapse",[]).directive("collapse",["$animate",function(e){return{link:function(t,n,i){function o(){n.removeClass("collapse").addClass("collapsing"),e.addClass(n,"in",{to:{height:n[0].scrollHeight+"px"}}).then(a)}function a(){n.removeClass("collapsing"),n.css({height:"auto"})}function r(){n.css({height:n[0].scrollHeight+"px"}).removeClass("collapse").addClass("collapsing"),e.removeClass(n,"in",{to:{height:"0"}}).then(l)}function l(){n.css({height:"0"}),n.removeClass("collapsing"),n.addClass("collapse")}t.$watch(i.collapse,function(e){e?r():o()})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function(e,t,n){this.groups=[],this.closeOthers=function(i){var o=angular.isDefined(t.closeOthers)?e.$eval(t.closeOthers):n.closeOthers;o&&angular.forEach(this.groups,function(e){e!==i&&(e.isOpen=!1)})},this.addGroup=function(e){var t=this;this.groups.push(e),e.$on("$destroy",function(n){t.removeGroup(e)})},this.removeGroup=function(e){var t=this.groups.indexOf(e);t!==-1&&this.groups.splice(t,1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",transclude:!0,replace:!1,templateUrl:"template/accordion/accordion.html"}}).directive("accordionGroup",function(){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/accordion/accordion-group.html",scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(e){this.heading=e}},link:function(e,t,n,i){i.addGroup(e),e.$watch("isOpen",function(t){t&&i.closeOthers(e)}),e.toggleOpen=function(){e.isDisabled||(e.isOpen=!e.isOpen)}}}}).directive("accordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",link:function(e,t,n,i,o){i.setHeading(o(e,angular.noop))}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(e,t,n,i){e.$watch(function(){return i[n.accordionTransclude]},function(e){e&&(t.html(""),t.append(e))})}}}),angular.module("ui.bootstrap.alert",[]).controller("AlertController",["$scope","$attrs",function(e,t){e.closeable="close"in t,this.close=e.close}]).directive("alert",function(){return{restrict:"EA",controller:"AlertController",templateUrl:"template/alert/alert.html",transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}).directive("dismissOnTimeout",["$timeout",function(e){return{require:"alert",link:function(t,n,i,o){e(function(){o.close()},parseInt(i.dismissOnTimeout,10))}}}]),angular.module("ui.bootstrap.bindHtml",[]).directive("bindHtmlUnsafe",function(){return function(e,t,n){t.addClass("ng-binding").data("$binding",n.bindHtmlUnsafe),e.$watch(n.bindHtmlUnsafe,function(e){t.html(e||"")})}}),angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).controller("ButtonsController",["buttonConfig",function(e){this.activeClass=e.activeClass||"active",this.toggleEvent=e.toggleEvent||"click"}]).directive("btnRadio",function(){return{require:["btnRadio","ngModel"],controller:"ButtonsController",link:function(e,t,n,i){var o=i[0],a=i[1];a.$render=function(){t.toggleClass(o.activeClass,angular.equals(a.$modelValue,e.$eval(n.btnRadio)))},t.bind(o.toggleEvent,function(){var i=t.hasClass(o.activeClass);i&&!angular.isDefined(n.uncheckable)||e.$apply(function(){a.$setViewValue(i?null:e.$eval(n.btnRadio)),a.$render()})})}}}).directive("btnCheckbox",function(){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",link:function(e,t,n,i){function o(){return r(n.btnCheckboxTrue,!0)}function a(){return r(n.btnCheckboxFalse,!1)}function r(t,n){var i=e.$eval(t);return angular.isDefined(i)?i:n}var l=i[0],s=i[1];s.$render=function(){t.toggleClass(l.activeClass,angular.equals(s.$modelValue,o()))},t.bind(l.toggleEvent,function(){e.$apply(function(){s.$setViewValue(t.hasClass(l.activeClass)?a():o()),s.$render()})})}}}),angular.module("ui.bootstrap.carousel",[]).controller("CarouselController",["$scope","$interval","$animate",function(e,t,n){function i(e){if(angular.isUndefined(u[e].index))return u[e];var t;u.length;for(t=0;t<u.length;++t)if(u[t].index==e)return u[t]}function o(){a();var n=+e.interval;!isNaN(n)&&n>0&&(l=t(r,n))}function a(){l&&(t.cancel(l),l=null)}function r(){var t=+e.interval;s&&!isNaN(t)&&t>0?e.next():e.pause()}var l,s,c=this,u=c.slides=e.slides=[],p=-1;c.currentSlide=null;var d=!1;c.select=e.select=function(t,i){function a(){d||(angular.extend(t,{direction:i,active:!0}),angular.extend(c.currentSlide||{},{direction:i,active:!1}),n.enabled()&&!e.noTransition&&t.$element&&(e.$currentTransition=!0,t.$element.one("$animate:close",function(){e.$currentTransition=null})),c.currentSlide=t,p=r,o())}var r=c.indexOfSlide(t);void 0===i&&(i=r>c.getCurrentIndex()?"next":"prev"),t&&t!==c.currentSlide&&a()},e.$on("$destroy",function(){d=!0}),c.getCurrentIndex=function(){return c.currentSlide&&angular.isDefined(c.currentSlide.index)?+c.currentSlide.index:p},c.indexOfSlide=function(e){return angular.isDefined(e.index)?+e.index:u.indexOf(e)},e.next=function(){var t=(c.getCurrentIndex()+1)%u.length;if(!e.$currentTransition)return c.select(i(t),"next")},e.prev=function(){var t=c.getCurrentIndex()-1<0?u.length-1:c.getCurrentIndex()-1;if(!e.$currentTransition)return c.select(i(t),"prev")},e.isActive=function(e){return c.currentSlide===e},e.$watch("interval",o),e.$on("$destroy",a),e.play=function(){s||(s=!0,o())},e.pause=function(){e.noPause||(s=!1,a())},c.addSlide=function(t,n){t.$element=n,u.push(t),1===u.length||t.active?(c.select(u[u.length-1]),1==u.length&&e.play()):t.active=!1},c.removeSlide=function(e){angular.isDefined(e.index)&&u.sort(function(e,t){return+e.index>+t.index});var t=u.indexOf(e);u.splice(t,1),u.length>0&&e.active?t>=u.length?c.select(u[t-1]):c.select(u[t]):p>t&&p--}}]).directive("carousel",[function(){return{restrict:"EA",transclude:!0,replace:!0,controller:"CarouselController",require:"carousel",templateUrl:"template/carousel/carousel.html",scope:{interval:"=",noTransition:"=",noPause:"="}}}]).directive("slide",function(){return{require:"^carousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/carousel/slide.html",scope:{active:"=?",index:"=?"},link:function(e,t,n,i){i.addSlide(e,t),e.$on("$destroy",function(){i.removeSlide(e)}),e.$watch("active",function(t){t&&i.select(e)})}}}).animation(".item",["$animate",function(e){return{beforeAddClass:function(t,n,i){if("active"==n&&t.parent()&&!t.parent().scope().noTransition){var o=!1,a=t.isolateScope().direction,r="next"==a?"left":"right";return t.addClass(a),e.addClass(t,r).then(function(){o||t.removeClass(r+" "+a),i()}),function(){o=!0}}i()},beforeRemoveClass:function(t,n,i){if("active"==n&&t.parent()&&!t.parent().scope().noTransition){var o=!1,a=t.isolateScope().direction,r="next"==a?"left":"right";return e.addClass(t,r).then(function(){o||t.removeClass(r),i()}),function(){o=!0}}i()}}}]),angular.module("ui.bootstrap.dateparser",[]).service("dateParser",["$log","$locale","orderByFilter",function(e,t,n){function i(e){var t=[],i=e.split(""),o=e.indexOf("'");if(o>-1){var a=!1;e=e.split("");for(var r=o;r<e.length;r++)a?("'"===e[r]&&(r+1<e.length&&"'"===e[r+1]?(e[r+1]="$",i[r+1]=""):(i[r]="",a=!1)),e[r]="$"):"'"===e[r]&&(e[r]="$",i[r]="",a=!0);e=e.join("")}return angular.forEach(d,function(n){var o=e.indexOf(n.key);if(o>-1){e=e.split(""),i[o]="("+n.regex+")",e[o]="$";for(var a=o+1,r=o+n.key.length;a<r;a++)i[a]="",e[a]="$";e=e.join(""),t.push({index:o,apply:n.apply,matcher:n.regex})}}),{regex:new RegExp("^"+i.join("")+"$"),map:n(t,"index")}}function o(e,t,n){return!(n<1)&&(1===t&&n>28?29===n&&(e%4===0&&e%100!==0||e%400===0):3!==t&&5!==t&&8!==t&&10!==t||n<31)}function a(e){return parseInt(e,10)}function r(e,t){return e&&t?u(e,t):e}function l(e,t){return e&&t?u(e,t,!0):e}function s(e,t){var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function c(e,t){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+t),e}function u(e,t,n){n=n?-1:1;var i=s(t,e.getTimezoneOffset());return c(e,n*(i-e.getTimezoneOffset()))}var p,d,f=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;this.init=function(){p=t.id,this.parsers={},d=[{key:"yyyy",regex:"\\d{4}",apply:function(e){this.year=+e}},{key:"yy",regex:"\\d{2}",apply:function(e){this.year=+e+2e3}},{key:"y",regex:"\\d{1,4}",apply:function(e){this.year=+e}},{key:"M!",regex:"0?[1-9]|1[0-2]",apply:function(e){this.month=e-1}},{key:"MMMM",regex:t.DATETIME_FORMATS.MONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.MONTH.indexOf(e)}},{key:"MMM",regex:t.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.SHORTMONTH.indexOf(e)}},{key:"MM",regex:"0[1-9]|1[0-2]",apply:function(e){this.month=e-1}},{key:"M",regex:"[1-9]|1[0-2]",apply:function(e){this.month=e-1}},{key:"d!",regex:"[0-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},{key:"dd",regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},{key:"d",regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},{key:"EEEE",regex:t.DATETIME_FORMATS.DAY.join("|")},{key:"EEE",regex:t.DATETIME_FORMATS.SHORTDAY.join("|")},{key:"HH",regex:"(?:0|1)[0-9]|2[0-3]",apply:function(e){this.hours=+e}},{key:"hh",regex:"0[0-9]|1[0-2]",apply:function(e){this.hours=+e}},{key:"H",regex:"1?[0-9]|2[0-3]",apply:function(e){this.hours=+e}},{key:"h",regex:"[0-9]|1[0-2]",apply:function(e){this.hours=+e}},{key:"mm",regex:"[0-5][0-9]",apply:function(e){this.minutes=+e}},{key:"m",regex:"[0-9]|[1-5][0-9]",apply:function(e){this.minutes=+e}},{key:"sss",regex:"[0-9][0-9][0-9]",apply:function(e){this.milliseconds=+e}},{key:"ss",regex:"[0-5][0-9]",apply:function(e){this.seconds=+e}},{key:"s",regex:"[0-9]|[1-5][0-9]",apply:function(e){this.seconds=+e}},{key:"a",regex:t.DATETIME_FORMATS.AMPMS.join("|"),apply:function(e){12===this.hours&&(this.hours=0),"PM"===e&&(this.hours+=12)}},{key:"Z",regex:"[+-]\\d{4}",apply:function(e){var t=e.match(/([+-])(\d{2})(\d{2})/),n=t[1],i=t[2],o=t[3];this.hours+=a(n+i),this.minutes+=a(n+o)}},{key:"ww",regex:"[0-4][0-9]|5[0-3]"},{key:"w",regex:"[0-9]|[1-4][0-9]|5[0-3]"},{key:"GGGG",regex:t.DATETIME_FORMATS.ERANAMES.join("|").replace(/\s/g,"\\s")},{key:"GGG",regex:t.DATETIME_FORMATS.ERAS.join("|")},{key:"GG",regex:t.DATETIME_FORMATS.ERAS.join("|")},{key:"G",regex:t.DATETIME_FORMATS.ERAS.join("|")}]},this.init(),this.parse=function(n,a,r){if(!angular.isString(n)||!a)return n;a=t.DATETIME_FORMATS[a]||a,a=a.replace(f,"\\$&"),t.id!==p&&this.init(),this.parsers[a]||(this.parsers[a]=i(a));var l=this.parsers[a],s=l.regex,c=l.map,u=n.match(s),d=!1;if(u&&u.length){var h,g;angular.isDate(r)&&!isNaN(r.getTime())?h={year:r.getFullYear(),month:r.getMonth(),date:r.getDate(),hours:r.getHours(),minutes:r.getMinutes(),seconds:r.getSeconds(),milliseconds:r.getMilliseconds()}:(r&&e.warn("dateparser:","baseDate is not a valid date"),h={year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0});for(var m=1,v=u.length;m<v;m++){var b=c[m-1];"Z"===b.matcher&&(d=!0),b.apply&&b.apply.call(h,u[m])}var y=d?Date.prototype.setUTCFullYear:Date.prototype.setFullYear,x=d?Date.prototype.setUTCHours:Date.prototype.setHours;return o(h.year,h.month,h.date)&&(!angular.isDate(r)||isNaN(r.getTime())||d?(g=new Date(0),y.call(g,h.year,h.month,h.date),x.call(g,h.hours||0,h.minutes||0,h.seconds||0,h.milliseconds||0)):(g=new Date(r),y.call(g,h.year,h.month,h.date),x.call(g,h.hours,h.minutes,h.seconds,h.milliseconds))),g}},this.toTimezone=r,this.fromTimezone=l,this.timezoneToOffset=s,this.addDateMinutes=c,this.convertTimezoneToLocal=u}]),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(e,t){function n(e,n){return e.currentStyle?e.currentStyle[n]:t.getComputedStyle?t.getComputedStyle(e)[n]:e.style[n]}function i(e){return"static"===(n(e,"position")||"static")}var o=function(t){for(var n=e[0],o=t.offsetParent||n;o&&o!==n&&i(o);)o=o.offsetParent;return o||n};return{position:function(t){var n=this.offset(t),i={top:0,left:0},a=o(t[0]);a!=e[0]&&(i=this.offset(angular.element(a)),i.top+=a.clientTop-a.scrollTop,i.left+=a.clientLeft-a.scrollLeft);var r=t[0].getBoundingClientRect();return{width:r.width||t.prop("offsetWidth"),height:r.height||t.prop("offsetHeight"),top:n.top-i.top,left:n.left-i.left}},offset:function(n){var i=n[0].getBoundingClientRect();return{width:i.width||n.prop("offsetWidth"),height:i.height||n.prop("offsetHeight"),top:i.top+(t.pageYOffset||e[0].documentElement.scrollTop),left:i.left+(t.pageXOffset||e[0].documentElement.scrollLeft)}},positionElements:function(e,t,n,i){var o,a,r,l,s=n.split("-"),c=s[0],u=s[1]||"center";o=i?this.offset(e):this.position(e),a=t.prop("offsetWidth"),r=t.prop("offsetHeight");var p={center:function(){return o.left+o.width/2-a/2},left:function(){return o.left},right:function(){return o.left+o.width}},d={center:function(){return o.top+o.height/2-r/2},top:function(){return o.top},bottom:function(){return o.top+o.height}};switch(c){case"right":l={top:d[u](),left:p[c]()};break;case"left":l={top:d[u](),left:o.left-a};break;case"bottom":l={top:d[c](),left:p[u]()};break;default:l={top:o.top-r,left:p[u]()}}return l}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.position"]).constant("datepickerConfig",{formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null,shortcutPropagation:!1}).controller("DatepickerController",["$scope","$attrs","$parse","$interpolate","$timeout","$log","dateFilter","datepickerConfig",function(e,t,n,i,o,a,r,l){var s=this,c={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","minMode","maxMode","showWeeks","startingDay","yearRange","shortcutPropagation"],function(n,o){s[n]=angular.isDefined(t[n])?o<8?i(t[n])(e.$parent):e.$parent.$eval(t[n]):l[n]}),angular.forEach(["minDate","maxDate"],function(i){t[i]?e.$parent.$watch(n(t[i]),function(e){s[i]=e?new Date(e):null,s.refreshView()}):s[i]=l[i]?new Date(l[i]):null}),e.datepickerMode=e.datepickerMode||l.datepickerMode,e.maxMode=s.maxMode,e.uniqueId="datepicker-"+e.$id+"-"+Math.floor(1e4*Math.random()),angular.isDefined(t.initDate)?(this.activeDate=e.$parent.$eval(t.initDate)||new Date,e.$parent.$watch(t.initDate,function(e){e&&(c.$isEmpty(c.$modelValue)||c.$invalid)&&(s.activeDate=e,s.refreshView())})):this.activeDate=new Date,e.isActive=function(t){return 0===s.compare(t.date,s.activeDate)&&(e.activeDateId=t.uid,!0)},this.init=function(e){c=e,c.$render=function(){s.render()}},this.render=function(){if(c.$viewValue){var e=new Date(c.$viewValue),t=!isNaN(e);t?this.activeDate=e:"Invalid Date"==c.$viewValue?(this.activeDate=new Date,t=!0):a.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.'),c.$setValidity("date",t)}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var e=c.$viewValue?new Date(c.$viewValue):null;c.$setValidity("date-disabled",!e||this.element&&!this.isDisabled(e))}},this.createDateObject=function(e,t){var n=c.$viewValue?new Date(c.$viewValue):null;return{date:e,label:r(e,t),selected:n&&0===this.compare(e,n),disabled:this.isDisabled(e),current:0===this.compare(e,new Date),customClass:this.customClass(e)}},this.isDisabled=function(n){return this.minDate&&this.compare(n,this.minDate)<0||this.maxDate&&this.compare(n,this.maxDate)>0||t.dateDisabled&&e.dateDisabled({date:n,mode:e.datepickerMode})},this.customClass=function(t){return e.customClass({date:t,mode:e.datepickerMode})},this.split=function(e,t){for(var n=[];e.length>0;)n.push(e.splice(0,t));return n},e.select=function(t){if(e.datepickerMode===s.minMode){var n=c.$viewValue?new Date(c.$viewValue):new Date(0,0,0,0,0,0,0);n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),c.$setViewValue(n),c.$render()}else s.activeDate=t,e.datepickerMode=s.modes[s.modes.indexOf(e.datepickerMode)-1]},e.move=function(e){var t=s.activeDate.getFullYear()+e*(s.step.years||0),n=s.activeDate.getMonth()+e*(s.step.months||0);s.activeDate.setFullYear(t,n,1),s.refreshView()},e.toggleMode=function(t){t=t||1,e.datepickerMode===s.maxMode&&1===t||e.datepickerMode===s.minMode&&t===-1||(e.datepickerMode=s.modes[s.modes.indexOf(e.datepickerMode)+t])},e.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var u=function(){o(function(){s.element[0].focus()},0,!1)};e.$on("datepicker.focus",u),e.keydown=function(t){var n=e.keys[t.which];if(n&&!t.shiftKey&&!t.altKey)if(t.preventDefault(),s.shortcutPropagation||t.stopPropagation(),"enter"===n||"space"===n){if(s.isDisabled(s.activeDate))return;e.select(s.activeDate),u()}else!t.ctrlKey||"up"!==n&&"down"!==n?(s.handleKeyDown(n,t),s.refreshView()):(e.toggleMode("up"===n?1:-1),u())}}]).directive("datepicker",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/datepicker.html",scope:{datepickerMode:"=?",dateDisabled:"&",customClass:"&",
shortcutPropagation:"&?"},require:["datepicker","?^ngModel"],controller:"DatepickerController",link:function(e,t,n,i){var o=i[0],a=i[1];a&&o.init(a)}}}).directive("daypicker",["dateFilter",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/day.html",require:"^datepicker",link:function(t,n,i,o){function a(e,t){return 1!==t||e%4!==0||e%100===0&&e%400!==0?s[t]:29}function r(e,t){var n=new Array(t),i=new Date(e),o=0;for(i.setHours(12);o<t;)n[o++]=new Date(i),i.setDate(i.getDate()+1);return n}function l(e){var t=new Date(e);t.setDate(t.getDate()+4-(t.getDay()||7));var n=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((n-t)/864e5)/7)+1}t.showWeeks=o.showWeeks,o.step={months:1},o.element=n;var s=[31,28,31,30,31,30,31,31,30,31,30,31];o._refreshView=function(){var n=o.activeDate.getFullYear(),i=o.activeDate.getMonth(),a=new Date(n,i,1),s=o.startingDay-a.getDay(),c=s>0?7-s:-s,u=new Date(a);c>0&&u.setDate(-c+1);for(var p=r(u,42),d=0;d<42;d++)p[d]=angular.extend(o.createDateObject(p[d],o.formatDay),{secondary:p[d].getMonth()!==i,uid:t.uniqueId+"-"+d});t.labels=new Array(7);for(var f=0;f<7;f++)t.labels[f]={abbr:e(p[f].date,o.formatDayHeader),full:e(p[f].date,"EEEE")};if(t.title=e(o.activeDate,o.formatDayTitle),t.rows=o.split(p,7),t.showWeeks){t.weekNumbers=[];for(var h=(11-o.startingDay)%7,g=t.rows.length,m=0;m<g;m++)t.weekNumbers.push(l(t.rows[m][h].date))}},o.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())},o.handleKeyDown=function(e,t){var n=o.activeDate.getDate();if("left"===e)n-=1;else if("up"===e)n-=7;else if("right"===e)n+=1;else if("down"===e)n+=7;else if("pageup"===e||"pagedown"===e){var i=o.activeDate.getMonth()+("pageup"===e?-1:1);o.activeDate.setMonth(i,1),n=Math.min(a(o.activeDate.getFullYear(),o.activeDate.getMonth()),n)}else"home"===e?n=1:"end"===e&&(n=a(o.activeDate.getFullYear(),o.activeDate.getMonth()));o.activeDate.setDate(n)},o.refreshView()}}}]).directive("monthpicker",["dateFilter",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/month.html",require:"^datepicker",link:function(t,n,i,o){o.step={years:1},o.element=n,o._refreshView=function(){for(var n=new Array(12),i=o.activeDate.getFullYear(),a=0;a<12;a++)n[a]=angular.extend(o.createDateObject(new Date(i,a,1),o.formatMonth),{uid:t.uniqueId+"-"+a});t.title=e(o.activeDate,o.formatMonthTitle),t.rows=o.split(n,3)},o.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth())-new Date(t.getFullYear(),t.getMonth())},o.handleKeyDown=function(e,t){var n=o.activeDate.getMonth();if("left"===e)n-=1;else if("up"===e)n-=3;else if("right"===e)n+=1;else if("down"===e)n+=3;else if("pageup"===e||"pagedown"===e){var i=o.activeDate.getFullYear()+("pageup"===e?-1:1);o.activeDate.setFullYear(i)}else"home"===e?n=0:"end"===e&&(n=11);o.activeDate.setMonth(n)},o.refreshView()}}}]).directive("yearpicker",["dateFilter",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/year.html",require:"^datepicker",link:function(e,t,n,i){function o(e){return parseInt((e-1)/a,10)*a+1}var a=i.yearRange;i.step={years:a},i.element=t,i._refreshView=function(){for(var t=new Array(a),n=0,r=o(i.activeDate.getFullYear());n<a;n++)t[n]=angular.extend(i.createDateObject(new Date(r+n,0,1),i.formatYear),{uid:e.uniqueId+"-"+n});e.title=[t[0].label,t[a-1].label].join(" - "),e.rows=i.split(t,5)},i.compare=function(e,t){return e.getFullYear()-t.getFullYear()},i.handleKeyDown=function(e,t){var n=i.activeDate.getFullYear();"left"===e?n-=1:"up"===e?n-=5:"right"===e?n+=1:"down"===e?n+=5:"pageup"===e||"pagedown"===e?n+=("pageup"===e?-1:1)*i.step.years:"home"===e?n=o(i.activeDate.getFullYear()):"end"===e&&(n=o(i.activeDate.getFullYear())+a-1),i.activeDate.setFullYear(n)},i.refreshView()}}}]).constant("datepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0}).directive("datepickerPopup",["$compile","$parse","$document","$position","dateFilter","dateParser","datepickerPopupConfig",function(e,t,n,i,o,a,r){return{restrict:"EA",require:"ngModel",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&",customClass:"&"},link:function(l,s,c,u){function p(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}function d(e){angular.isNumber(e)&&(e=new Date(e));{if(!e)return null;if(angular.isDate(e)&&!isNaN(e))return e;if(angular.isString(e)){var t=a.parse(e,h)||new Date(e);return isNaN(t)?void 0:t}}}function f(e,t){var n=e||t;if(angular.isNumber(n)&&(n=new Date(n)),n){if(angular.isDate(n)&&!isNaN(n))return!0;if(angular.isString(n)){var i=a.parse(n,h)||new Date(n);return!isNaN(i)}return!1}return!0}var h,g=angular.isDefined(c.closeOnDateSelection)?l.$parent.$eval(c.closeOnDateSelection):r.closeOnDateSelection,m=angular.isDefined(c.datepickerAppendToBody)?l.$parent.$eval(c.datepickerAppendToBody):r.appendToBody;l.showButtonBar=angular.isDefined(c.showButtonBar)?l.$parent.$eval(c.showButtonBar):r.showButtonBar,l.getText=function(e){return l[e+"Text"]||r[e+"Text"]};var v=!1;if(r.html5Types[c.type]?(h=r.html5Types[c.type],v=!0):(h=c.datepickerPopup||r.datepickerPopup,c.$observe("datepickerPopup",function(e,t){var n=e||r.datepickerPopup;if(n!==h&&(h=n,u.$modelValue=null,!h))throw new Error("datepickerPopup must have a date format specified.")})),!h)throw new Error("datepickerPopup must have a date format specified.");if(v&&c.datepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");var b=angular.element("<div datepicker-popup-wrap><div datepicker></div></div>");b.attr({"ng-model":"date","ng-change":"dateSelection()"});var y=angular.element(b.children()[0]);if(v&&"month"==c.type&&(y.attr("datepicker-mode",'"month"'),y.attr("min-mode","month")),c.datepickerOptions){var x=l.$parent.$eval(c.datepickerOptions);x&&x.initDate&&(l.initDate=x.initDate,y.attr("init-date","initDate"),delete x.initDate),angular.forEach(x,function(e,t){y.attr(p(t),e)})}l.watchData={},angular.forEach(["minDate","maxDate","datepickerMode","initDate","shortcutPropagation"],function(e){if(c[e]){var n=t(c[e]);if(l.$parent.$watch(n,function(t){l.watchData[e]=t}),y.attr(p(e),"watchData."+e),"datepickerMode"===e){var i=n.assign;l.$watch("watchData."+e,function(e,t){e!==t&&i(l.$parent,e)})}}}),c.dateDisabled&&y.attr("date-disabled","dateDisabled({ date: date, mode: mode })"),c.showWeeks&&y.attr("show-weeks",c.showWeeks),c.customClass&&y.attr("custom-class","customClass({ date: date, mode: mode })"),v?u.$formatters.push(function(e){return l.date=e,e}):(u.$$parserName="date",u.$validators.date=f,u.$parsers.unshift(d),u.$formatters.push(function(e){return l.date=e,u.$isEmpty(e)?e:o(e,h)})),l.dateSelection=function(e){angular.isDefined(e)&&(l.date=e);var t=l.date?o(l.date,h):"";s.val(t),u.$setViewValue(t),g&&(l.isOpen=!1,s[0].focus())},u.$viewChangeListeners.push(function(){u.$viewValue&&0!==u.$viewValue.length?l.date=a.parse(u.$viewValue,h)||new Date(u.$viewValue):l.date=null});var w=function(e){l.isOpen&&e.target!==s[0]&&l.$apply(function(){l.isOpen=!1})},k=function(e,t){l.keydown(e)};s.bind("keydown",k),l.keydown=function(e){27===e.which?(e.preventDefault(),l.isOpen&&e.stopPropagation(),l.close()):40!==e.which||l.isOpen||(l.isOpen=!0)},l.$watch("isOpen",function(e){e?(l.$broadcast("datepicker.focus"),l.position=m?i.offset(s):i.position(s),l.position.top=l.position.top+s.prop("offsetHeight"),n.bind("click",w)):n.unbind("click",w)}),l.select=function(e){if("today"===e){var t=new Date;angular.isDate(l.date)?(e=new Date(l.date),e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate())):e=new Date(t.setHours(0,0,0,0))}l.dateSelection(e)},l.close=function(){l.isOpen=!1,s[0].focus()};var $=e(b)(l);b.remove(),m?n.find("body").append($):s.after($),l.$on("$destroy",function(){$.remove(),s.unbind("keydown",k),n.unbind("click",w)})}}}]).directive("datepickerPopupWrap",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:"template/datepicker/popup.html",link:function(e,t,n){t.bind("click",function(e){e.preventDefault(),e.stopPropagation()})}}}),angular.module("ui.bootstrap.modal",[]).factory("$$stackedMap",function(){return{createNew:function(){var e=[];return{add:function(t,n){e.push({key:t,value:n})},get:function(t){for(var n=0;n<e.length;n++)if(t==e[n].key)return e[n]},keys:function(){for(var t=[],n=0;n<e.length;n++)t.push(e[n].key);return t},top:function(){return e[e.length-1]},remove:function(t){for(var n=-1,i=0;i<e.length;i++)if(t==e[i].key){n=i;break}return e.splice(n,1)[0]},removeTop:function(){return e.splice(e.length-1,1)[0]},length:function(){return e.length}}}}}).directive("modalBackdrop",["$timeout",function(e){function t(t,n,i){t.animate=!1,e(function(){t.animate=!0})}return{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",compile:function(e,n){return e.addClass(n.backdropClass),t}}}]).directive("modalWindow",["$modalStack","$q","events",function(e,t,n){return{restrict:"EA",scope:{index:"@",animate:"="},replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"template/modal/window.html"},link:function(i,o,a){o.addClass(a.windowClass||""),i.size=a.size,i.close=function(t){var o=e.getTop();o&&o.value.backdrop&&"static"!=o.value.backdrop&&"custom"!=o.value.backdrop&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),e.dismiss(o.key,"backdrop click")),o&&o.value.backdrop&&"custom"===o.value.backdrop&&t.target===t.currentTarget&&i.$emit(n.MODAL_BACKDROP_CLICK)},i.$isRendered=!0;var r=t.defer();a.$observe("modalRender",function(e){"true"==e&&r.resolve()}),r.promise.then(function(){i.animate=!0;var t=o[0].querySelectorAll("[autofocus]");t.length?t[0].focus():o[0].focus();var n=e.getTop();n&&e.modalRendered(n.key)})}}}]).directive("modalAnimationClass",[function(){return{compile:function(e,t){t.modalAnimation&&e.addClass(t.modalAnimationClass)}}}]).directive("modalTransclude",function(){return{link:function(e,t,n,i,o){o(e.$parent,function(e){t.empty(),t.append(e)})}}}).factory("$modalStack",["$animate","$timeout","$document","$compile","$rootScope","$$stackedMap","events",function(e,t,n,i,o,a,r){function l(){for(var e=-1,t=g.keys(),n=0;n<t.length;n++)g.get(t[n]).value.backdrop&&(e=n);return e}function s(e){var t=n.find("body").eq(0),i=g.get(e).value;g.remove(e),u(i.modalDomEl,i.modalScope,function(){t.toggleClass(h,g.length()>0),c()})}function c(){if(d&&l()==-1){var e=f;u(d,f,function(){e=null}),d=void 0,f=void 0}}function u(n,i,a){function r(){r.done||(r.done=!0,n.remove(),i.$destroy(),a&&a())}i.animate=!1,n.attr("modal-animation")&&e.enabled()?n.one("$animate:close",function(){o.$evalAsync(r)}):t(r)}function p(e,t,n){return!e.value.modalScope.$broadcast("modal.closing",t,n).defaultPrevented}var d,f,h="modal-open",g=a.createNew(),m={};return o.$watch(l,function(e){f&&(f.index=e)}),n.bind("keydown",function(e){var t;27===e.which&&(t=g.top(),t&&t.value.keyboard&&("custom"!=t.value.keyboard?(e.preventDefault(),o.$apply(function(){m.dismiss(t.key,"escape key press")})):o.$broadcast(r.MODAL_BACKDROP_CLICK)))}),m.open=function(e,t){var a=n[0].activeElement;g.add(e,{deferred:t.deferred,renderDeferred:t.renderDeferred,modalScope:t.scope,backdrop:t.backdrop,keyboard:t.keyboard});var r=n.find("body").eq(0),s=l();if(s>=0&&!d){f=o.$new(!0),f.index=s;var c=angular.element('<div modal-backdrop="modal-backdrop"></div>');c.attr("backdrop-class",t.backdropClass),t.animation&&c.attr("modal-animation","true"),d=i(c)(f),r.append(d)}var u=angular.element('<div modal-window="modal-window"></div>');u.attr({"template-url":t.windowTemplateUrl,"window-class":t.windowClass,size:t.size,index:g.length()-1,animate:"animate"}).html(t.content),t.animation&&u.attr("modal-animation","true");var p=i(u)(t.scope);g.top().value.modalDomEl=p,g.top().value.modalOpener=a,r.append(p),r.addClass(h)},m.close=function(e,t){var n=g.get(e);return n&&p(n,t,!0)?(n.value.deferred.resolve(t),s(e),n.value.modalOpener.focus(),!0):!n},m.dismiss=function(e,t){var n=g.get(e);return n&&p(n,t,!1)?(n.value.deferred.reject(t),s(e),n.value.modalOpener.focus(),!0):!n},m.dismissAll=function(e){for(var t=this.getTop();t&&this.dismiss(t.key,e);)t=this.getTop()},m.getTop=function(){return g.top()},m.modalRendered=function(e){var t=g.get(e);t&&t.value.renderDeferred.resolve()},m}]).provider("$modal",function(){var e={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$templateRequest","$controller","$modalStack",function(t,n,i,o,a,r){function l(e){return e.template?i.when(e.template):o(angular.isFunction(e.templateUrl)?e.templateUrl():e.templateUrl)}function s(e){var n=[];return angular.forEach(e,function(e){(angular.isFunction(e)||angular.isArray(e))&&n.push(i.when(t.invoke(e)))}),n}var c={};return c.open=function(t){var o=i.defer(),c=i.defer(),u=i.defer(),p={result:o.promise,opened:c.promise,rendered:u.promise,close:function(e){return r.close(p,e)},dismiss:function(e){return r.dismiss(p,e)}};if(t=angular.extend({},e.options,t),t.resolve=t.resolve||{},!t.template&&!t.templateUrl)throw new Error("One of template or templateUrl options is required.");var d=i.all([l(t)].concat(s(t.resolve)));return d.then(function(e){var i=(t.scope||n).$new();i.$close=p.close,i.$dismiss=p.dismiss;var l,s={},c=1;t.controller&&(s.$scope=i,s.$modalInstance=p,angular.forEach(t.resolve,function(t,n){s[n]=e[c++]}),l=a(t.controller,s),t.controllerAs&&(i[t.controllerAs]=l)),r.open(p,{scope:i,deferred:o,renderDeferred:u,content:e[0],animation:t.animation,backdrop:t.backdrop,keyboard:t.keyboard,backdropClass:t.backdropClass,windowClass:t.windowClass,windowTemplateUrl:t.windowTemplateUrl,size:t.size})},function(e){o.reject(e)}),d.then(function(){c.resolve(!0)},function(e){c.reject(e)}),p},c}]};return e}),angular.module("ui.bootstrap.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse",function(e,t,n){var i=this,o={$setViewValue:angular.noop},a=t.numPages?n(t.numPages).assign:angular.noop;this.init=function(r,l){o=r,this.config=l,o.$render=function(){i.render()},t.itemsPerPage?e.$parent.$watch(n(t.itemsPerPage),function(t){i.itemsPerPage=parseInt(t,10),e.totalPages=i.calculateTotalPages()}):this.itemsPerPage=l.itemsPerPage,e.$watch("totalItems",function(){e.totalPages=i.calculateTotalPages()}),e.$watch("totalPages",function(t){a(e.$parent,t),e.page>t?e.selectPage(t):o.$render()})},this.calculateTotalPages=function(){var t=this.itemsPerPage<1?1:Math.ceil(e.totalItems/this.itemsPerPage);return Math.max(t||0,1)},this.render=function(){e.page=parseInt(o.$viewValue,10)||1},e.selectPage=function(t,n){e.page!==t&&t>0&&t<=e.totalPages&&(n&&n.target&&n.target.blur(),o.$setViewValue(t),o.$render())},e.getText=function(t){return e[t+"Text"]||i.config[t+"Text"]},e.noPrevious=function(){return 1===e.page},e.noNext=function(){return e.page===e.totalPages}}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("pagination",["$parse","paginationConfig",function(e,t){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@"},require:["pagination","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pagination.html",replace:!0,link:function(n,i,o,a){function r(e,t,n){return{number:e,text:t,active:n}}function l(e,t){var n=[],i=1,o=t,a=angular.isDefined(u)&&u<t;a&&(p?(i=Math.max(e-Math.floor(u/2),1),o=i+u-1,o>t&&(o=t,i=o-u+1)):(i=(Math.ceil(e/u)-1)*u+1,o=Math.min(i+u-1,t)));for(var l=i;l<=o;l++){var s=r(l,l,l===e);n.push(s)}if(a&&!p){if(i>1){var c=r(i-1,"...",!1);n.unshift(c)}if(o<t){var d=r(o+1,"...",!1);n.push(d)}}return n}var s=a[0],c=a[1];if(c){var u=angular.isDefined(o.maxSize)?n.$parent.$eval(o.maxSize):t.maxSize,p=angular.isDefined(o.rotate)?n.$parent.$eval(o.rotate):t.rotate;n.boundaryLinks=angular.isDefined(o.boundaryLinks)?n.$parent.$eval(o.boundaryLinks):t.boundaryLinks,n.directionLinks=angular.isDefined(o.directionLinks)?n.$parent.$eval(o.directionLinks):t.directionLinks,s.init(c,t),o.maxSize&&n.$parent.$watch(e(o.maxSize),function(e){u=parseInt(e,10),s.render()});var d=s.render;s.render=function(){d(),n.page>0&&n.page<=n.totalPages&&(n.pages=l(n.page,n.totalPages))}}}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("pager",["pagerConfig",function(e){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@"},require:["pager","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pager.html",replace:!0,link:function(t,n,i,o){var a=o[0],r=o[1];r&&(t.align=angular.isDefined(i.align)?t.$parent.$eval(i.align):e.align,a.init(r,e))}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){function e(e){var t=/[A-Z]/g,n="-";return e.replace(t,function(e,t){return(t?n:"")+e.toLowerCase()})}var t={placement:"top",animation:!0,popupDelay:0,useContentExp:!1},n={mouseenter:"mouseleave",click:"click",focus:"blur"},i={};this.options=function(e){angular.extend(i,e)},this.setTriggers=function(e){angular.extend(n,e)},this.$get=["$window","$compile","$timeout","$document","$position","$interpolate",function(o,a,r,l,s,c){return function(o,u,p,d){function f(e){var t=e||d.trigger||p,i=n[t]||t;return{show:t,hide:i}}d=angular.extend({},t,i,d);var h=e(o),g=c.startSymbol(),m=c.endSymbol(),v="<div "+h+'-popup title="'+g+"title"+m+'" '+(d.useContentExp?'content-exp="contentExp()" ':'content="'+g+"content"+m+'" ')+'placement="'+g+"placement"+m+'" popup-class="'+g+"popupClass"+m+'" animation="animation" is-open="isOpen"origin-scope="origScope" ></div>';return{restrict:"EA",compile:function(e,t){var n=a(v);return function(e,t,i,a){function c(){M.isOpen?h():p()}function p(){E&&!e.$eval(i[u+"Enable"])||(y(),M.popupDelay?P||(P=r(g,M.popupDelay,!1),P.then(function(e){e()})):g()())}function h(){e.$apply(function(){m()})}function g(){return P=null,T&&(r.cancel(T),T=null),(d.useContentExp?M.contentExp():M.content)?(v(),C.css({top:0,left:0,display:"block"}),M.$digest(),O(),M.isOpen=!0,M.$apply(),O):angular.noop}function m(){M.isOpen=!1,r.cancel(P),P=null,M.animation?T||(T=r(b,500)):b()}function v(){C&&b(),S=M.$new(),C=n(S,function(e){A?l.find("body").append(e):t.after(e)}),S.$watch(function(){r(O,0,!1)}),d.useContentExp&&S.$watch("contentExp()",function(e){!e&&M.isOpen&&m()})}function b(){T=null,C&&(C.remove(),C=null),S&&(S.$destroy(),S=null)}function y(){x(),w(),k()}function x(){M.popupClass=i[u+"Class"]}function w(){var e=i[u+"Placement"];M.placement=angular.isDefined(e)?e:d.placement}function k(){var e=i[u+"PopupDelay"],t=parseInt(e,10);M.popupDelay=isNaN(t)?d.popupDelay:t}function $(){var e=i[u+"Trigger"];_(),D=f(e),D.show===D.hide?t.bind(D.show,c):(t.bind(D.show,p),t.bind(D.hide,h))}var C,S,T,P,A=!!angular.isDefined(d.appendToBody)&&d.appendToBody,D=f(void 0),E=angular.isDefined(i[u+"Enable"]),M=e.$new(!0),O=function(){if(C){var e=s.positionElements(t,C,M.placement,A);e.top+="px",e.left+="px",C.css(e)}};M.origScope=e,M.isOpen=!1,M.contentExp=function(){return e.$eval(i[o])},d.useContentExp||i.$observe(o,function(e){M.content=e,!e&&M.isOpen&&m()}),i.$observe("disabled",function(e){e&&M.isOpen&&m()}),i.$observe(u+"Title",function(e){M.title=e});var _=function(){t.unbind(D.show,p),t.unbind(D.hide,h)};$();var I=e.$eval(i[u+"Animation"]);M.animation=angular.isDefined(I)?!!I:d.animation;var R=e.$eval(i[u+"AppendToBody"]);A=angular.isDefined(R)?R:A,A&&e.$on("$locationChangeSuccess",function(){M.isOpen&&m()}),e.$on("$destroy",function(){r.cancel(T),r.cancel(P),_(),b(),M=null})}}}}}]}).directive("tooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(e,t,n,i){return{link:function(o,a,r){var l,s,c,u=o.$eval(r.tooltipTemplateTranscludeScope),p=0,d=function(){s&&(s.remove(),s=null),l&&(l.$destroy(),l=null),c&&(e.leave(c).then(function(){s=null}),s=c,c=null)};o.$watch(t.parseAsResourceUrl(r.tooltipTemplateTransclude),function(t){var r=++p;t?(i(t,!0).then(function(i){if(r===p){var o=u.$new(),s=i,f=n(s)(o,function(t){d(),e.enter(t,a)});l=o,c=f,l.$emit("$includeContentLoaded",t)}},function(){r===p&&(d(),o.$emit("$includeContentError",t))}),o.$emit("$includeContentRequested",t)):d()}),o.$on("$destroy",d)}}}]).directive("tooltipClasses",function(){return{restrict:"A",link:function(e,t,n){e.placement&&t.addClass(e.placement),e.popupClass&&t.addClass(e.popupClass),e.animation()&&t.addClass(n.tooltipAnimationClass)}}}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(e){return e("tooltip","tooltip","mouseenter")}]).directive("tooltipTemplatePopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/tooltip/tooltip-template-popup.html"}}).directive("tooltipTemplate",["$tooltip",function(e){return e("tooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("tooltipHtmlPopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-popup.html"}}).directive("tooltipHtml",["$tooltip",function(e){return e("tooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).value("tooltipHtmlUnsafeSuppressDeprecated",!1).directive("tooltipHtmlUnsafe",["$tooltip","tooltipHtmlUnsafeSuppressDeprecated","$log",function(e,t,n){return t||n.warn("tooltip-html-unsafe is now deprecated. Use tooltip-html or tooltip-template instead."),e("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverTemplatePopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/popover/popover-template.html"}}).directive("popoverTemplate",["$tooltip",function(e){return e("popoverTemplate","popover","click",{useContentExp:!0})}]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$tooltip",function(e){return e("popover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("progressConfig",{animate:!0,max:100}).controller("ProgressController",["$scope","$attrs","progressConfig",function(e,t,n){var i=this,o=angular.isDefined(t.animate)?e.$parent.$eval(t.animate):n.animate;this.bars=[],e.max=angular.isDefined(e.max)?e.max:n.max,this.addBar=function(t,n){o||n.css({transition:"none"}),this.bars.push(t),t.$watch("value",function(n){t.percent=+(100*n/e.max).toFixed(2)}),t.$on("$destroy",function(){n=null,i.removeBar(t)})},this.removeBar=function(e){this.bars.splice(this.bars.indexOf(e),1)}}]).directive("progress",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{},templateUrl:"template/progressbar/progress.html"}}).directive("bar",function(){return{restrict:"EA",replace:!0,transclude:!0,require:"^progress",scope:{value:"=",max:"=?",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(e,t,n,i){i.addBar(e,t)}}}).directive("progressbar",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",max:"=?",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(e,t,n,i){i.addBar(e,angular.element(t.children()[0]))}}}),angular.module("ui.bootstrap.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null}).controller("RatingController",["$scope","$attrs","ratingConfig",function(e,t,n){var i={$setViewValue:angular.noop};this.init=function(o){i=o,i.$render=this.render,i.$formatters.push(function(e){return angular.isNumber(e)&&e<<0!==e&&(e=Math.round(e)),e}),this.stateOn=angular.isDefined(t.stateOn)?e.$parent.$eval(t.stateOn):n.stateOn,this.stateOff=angular.isDefined(t.stateOff)?e.$parent.$eval(t.stateOff):n.stateOff;var a=angular.isDefined(t.ratingStates)?e.$parent.$eval(t.ratingStates):new Array(angular.isDefined(t.max)?e.$parent.$eval(t.max):n.max);e.range=this.buildTemplateObjects(a)},this.buildTemplateObjects=function(e){for(var t=0,n=e.length;t<n;t++)e[t]=angular.extend({index:t},{stateOn:this.stateOn,stateOff:this.stateOff},e[t]);return e},e.rate=function(t){!e.readonly&&t>=0&&t<=e.range.length&&(i.$setViewValue(t),i.$render())},e.enter=function(t){e.readonly||(e.value=t),e.onHover({value:t})},e.reset=function(){e.value=i.$viewValue,e.onLeave()},e.onKeydown=function(t){/(37|38|39|40)/.test(t.which)&&(t.preventDefault(),t.stopPropagation(),e.rate(e.value+(38===t.which||39===t.which?1:-1)))},this.render=function(){e.value=i.$viewValue}}]).directive("rating",function(){return{restrict:"EA",require:["rating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(e,t,n,i){var o=i[0],a=i[1];o.init(a)}}}),angular.module("ui.bootstrap.tabs",[]).controller("TabsetController",["$scope",function(e){var t=this,n=t.tabs=e.tabs=[];t.select=function(e){angular.forEach(n,function(t){t.active&&t!==e&&(t.active=!1,t.onDeselect())}),e.active=!0,e.onSelect()},t.addTab=function(e){n.push(e),1===n.length&&e.active!==!1?e.active=!0:e.active?t.select(e):e.active=!1},t.removeTab=function(e){var o=n.indexOf(e);if(e.active&&n.length>1&&!i){var a=o==n.length-1?o-1:o+1;t.select(n[a])}n.splice(o,1)};var i;e.$on("$destroy",function(){i=!0})}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(e,t,n){e.vertical=!!angular.isDefined(n.vertical)&&e.$parent.$eval(n.vertical),e.justified=!!angular.isDefined(n.justified)&&e.$parent.$eval(n.justified)}}}).directive("tab",["$parse","$log",function(e,t){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},compile:function(n,i,o){return function(n,i,a,r){n.$watch("active",function(e){e&&r.select(n)}),n.disabled=!1,a.disable&&n.$parent.$watch(e(a.disable),function(e){n.disabled=!!e}),a.disabled&&(t.warn('Use of "disabled" attribute has been deprecated, please use "disable"'),n.$parent.$watch(e(a.disabled),function(e){n.disabled=!!e})),n.select=function(){n.disabled||(n.active=!0)},r.addTab(n),n.$on("$destroy",function(){r.removeTab(n)}),n.$transcludeFn=o}}}}]).directive("tabHeadingTransclude",[function(){return{restrict:"A",require:"^tab",link:function(e,t,n,i){e.$watch("headingElement",function(e){e&&(t.html(""),t.append(e))})}}}]).directive("tabContentTransclude",function(){function e(e){return e.tagName&&(e.hasAttribute("tab-heading")||e.hasAttribute("data-tab-heading")||"tab-heading"===e.tagName.toLowerCase()||"data-tab-heading"===e.tagName.toLowerCase())}return{restrict:"A",require:"^tabset",link:function(t,n,i){var o=t.$eval(i.tabContentTransclude);o.$transcludeFn(o.$parent,function(t){angular.forEach(t,function(t){e(t)?o.headingElement=t:n.append(t)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0}).controller("TimepickerController",["$scope","$attrs","$parse","$log","$locale","timepickerConfig",function(e,t,n,i,o,a){function r(){var t=parseInt(e.hours,10);t=isNaN(t)?m:t;var n=e.showMeridian?t>0&&t<13:t>=0&&t<24;if(n||m)return n||(t=m),e.showMeridian&&(12===t&&(t=0),e.meridian===g[1]&&(t+=12)),t}function l(){var t=parseInt(e.minutes,10);return t=isNaN(t)?v:t,t>=0&&t<60?t:void 0}function s(e){var t=3;return angular.isDefined(e)&&e.toString().length<2?Array(t-e.toString().length).join("0")+e:e.toString()}function c(e){u(),h.$setViewValue(new Date(f)),p(e)}function u(){h.$setValidity("time",!0),e.invalidHours=!1,e.invalidMinutes=!1}function p(t){var n=f.getHours(),i=f.getMinutes();e.showMeridian&&(n=0===n||12===n?12:n%12),e.hours="h"===t?n:s(n),"m"!==t&&(e.minutes=s(i)),e.meridian=f.getHours()<12?g[0]:g[1]}function d(e){var t=new Date(f.getTime()+6e4*e);f.setHours(t.getHours(),t.getMinutes()),c()}var f=new Date,h={$setViewValue:angular.noop},g=angular.isDefined(t.meridians)?e.$parent.$eval(t.meridians):a.meridians||o.DATETIME_FORMATS.AMPMS,m=parseInt(t.defaultHours,10),v=parseInt(t.defaultMinutes,10);m=isNaN(m)?void 0:m,v=isNaN(v)?void 0:v,this.init=function(n,i){h=n,h.$render=this.render,h.$formatters.unshift(function(e){return e?new Date(e):null});var o=i.eq(0),r=i.eq(1),l=angular.isDefined(t.mousewheel)?e.$parent.$eval(t.mousewheel):a.mousewheel;l&&this.setupMousewheelEvents(o,r);var s=angular.isDefined(t.arrowkeys)?e.$parent.$eval(t.arrowkeys):a.arrowkeys;s&&this.setupArrowkeyEvents(o,r),e.readonlyInput=angular.isDefined(t.readonlyInput)?e.$parent.$eval(t.readonlyInput):a.readonlyInput,this.setupInputEvents(o,r)};var b=a.hourStep;t.hourStep&&e.$parent.$watch(n(t.hourStep),function(e){b=parseInt(e,10)});var y=a.minuteStep;t.minuteStep&&e.$parent.$watch(n(t.minuteStep),function(e){y=parseInt(e,10)}),e.showMeridian=a.showMeridian,t.showMeridian&&e.$parent.$watch(n(t.showMeridian),function(t){if(e.showMeridian=!!t,h.$error.time){var n=r(),i=l();angular.isDefined(n)&&angular.isDefined(i)&&(f.setHours(n),c())}else p()}),this.setupMousewheelEvents=function(t,n){var i=function(e){e.originalEvent&&(e=e.originalEvent);var t=e.wheelDelta?e.wheelDelta:-e.deltaY;return e.detail||t>0};t.bind("mousewheel wheel",function(t){e.$apply(i(t)?e.incrementHours():e.decrementHours()),t.preventDefault()}),n.bind("mousewheel wheel",function(t){e.$apply(i(t)?e.incrementMinutes():e.decrementMinutes()),t.preventDefault()})},this.setupArrowkeyEvents=function(t,n){t.bind("keydown",function(t){38===t.which?(t.preventDefault(),e.incrementHours(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementHours(),e.$apply())}),n.bind("keydown",function(t){38===t.which?(t.preventDefault(),e.incrementMinutes(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementMinutes(),e.$apply())})},this.setupInputEvents=function(t,n){if(e.readonlyInput)return e.updateHours=angular.noop,void(e.updateMinutes=angular.noop);var i=function(t,n){h.$setViewValue(null),h.$setValidity("time",!1),angular.isDefined(t)&&(e.invalidHours=t),angular.isDefined(n)&&(e.invalidMinutes=n)};e.updateHours=function(){var e=r();angular.isDefined(e)?(f.setHours(e),c("h")):i(!0)},t.bind("blur",function(t){!e.invalidHours&&e.hours<10&&e.$apply(function(){e.hours=s(e.hours)})}),e.updateMinutes=function(){var e=l();angular.isDefined(e)?(f.setMinutes(e),c("m")):i(void 0,!0)},n.bind("blur",function(t){!e.invalidMinutes&&e.minutes<10&&e.$apply(function(){e.minutes=s(e.minutes)})})},this.render=function(){var e=h.$viewValue;isNaN(e)?(h.$setValidity("time",!1),i.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(e&&(f=e),u(),p())},e.incrementHours=function(){d(60*b)},e.decrementHours=function(){d(60*-b)},e.incrementMinutes=function(){d(y)},e.decrementMinutes=function(){d(-y)},e.toggleMeridian=function(){d(720*(f.getHours()<12?1:-1));
}}]).directive("timepicker",function(){return{restrict:"EA",require:["timepicker","?^ngModel"],controller:"TimepickerController",replace:!0,scope:{},templateUrl:"template/timepicker/timepicker.html",link:function(e,t,n,i){var o=i[0],a=i[1];a&&o.init(a,t.find("input"))}}}),angular.module("ui.bootstrap.transition",[]).value("$transitionSuppressDeprecated",!1).factory("$transition",["$q","$timeout","$rootScope","$log","$transitionSuppressDeprecated",function(e,t,n,i,o){function a(e){for(var t in e)if(void 0!==l.style[t])return e[t]}o||i.warn("$transition is now deprecated. Use $animate from ngAnimate instead.");var r=function(i,o,a){a=a||{};var l=e.defer(),s=r[a.animation?"animationEndEventName":"transitionEndEventName"],c=function(e){n.$apply(function(){i.unbind(s,c),l.resolve(i)})};return s&&i.bind(s,c),t(function(){angular.isString(o)?i.addClass(o):angular.isFunction(o)?o(i):angular.isObject(o)&&i.css(o),s||l.resolve(i)}),l.promise.cancel=function(){s&&i.unbind(s,c),l.reject("Transition cancelled")},l.promise},l=document.createElement("trans"),s={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},c={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};return r.transitionEndEventName=a(s),r.animationEndEventName=a(c),r}]),angular.module("template/accordion/accordion-group.html",[]).run(["$templateCache",function(e){e.put("template/accordion/accordion-group.html",'<div class="panel panel-default">\n  <div class="panel-heading">\n    <h4 class="panel-title">\n      <a href="javascript:void(0)" tabindex="0" class="accordion-toggle" ng-click="toggleOpen()" accordion-transclude="heading"><span ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n    </h4>\n  </div>\n  <div class="panel-collapse collapse" collapse="!isOpen">\n\t  <div class="panel-body" ng-transclude></div>\n  </div>\n</div>\n')}]),angular.module("template/accordion/accordion.html",[]).run(["$templateCache",function(e){e.put("template/accordion/accordion.html",'<div class="panel-group" ng-transclude></div>')}]),angular.module("template/alert/alert.html",[]).run(["$templateCache",function(e){e.put("template/alert/alert.html",'<div class="alert" ng-class="[\'alert-\' + (type || \'warning\'), closeable ? \'alert-dismissable\' : null]" role="alert">\n    <button ng-show="closeable" type="button" class="close" ng-click="close()">\n        <span aria-hidden="true">&times;</span>\n        <span class="sr-only">Close</span>\n    </button>\n    <div ng-transclude></div>\n</div>\n')}]),angular.module("template/carousel/carousel.html",[]).run(["$templateCache",function(e){e.put("template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n    <ol class="carousel-indicators" ng-show="slides.length > 1">\n        <li ng-repeat="slide in slides | orderBy:\'index\' track by $index" ng-class="{active: isActive(slide)}" ng-click="select(slide)"></li>\n    </ol>\n    <div class="carousel-inner" ng-transclude></div>\n    <a class="left carousel-control" ng-click="prev()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-left"></span></a>\n    <a class="right carousel-control" ng-click="next()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-right"></span></a>\n</div>\n')}]),angular.module("template/carousel/slide.html",[]).run(["$templateCache",function(e){e.put("template/carousel/slide.html",'<div ng-class="{\n    \'active\': active\n  }" class="item text-center" ng-transclude></div>\n')}]),angular.module("template/datepicker/datepicker.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/datepicker.html",'<div ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <daypicker ng-switch-when="day" tabindex="0"></daypicker>\n  <monthpicker ng-switch-when="month" tabindex="0"></monthpicker>\n  <yearpicker ng-switch-when="year" tabindex="0"></yearpicker>\n</div>')}]),angular.module("template/datepicker/day.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/day.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{5 + showWeeks}}"><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-show="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in labels track by $index" class="text-center"><small aria-label="{{label.full}}">{{label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-show="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}" ng-class="dt.customClass">\n        <button type="button" style="width:100%;" class="btn btn-default btn-sm" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/month.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/month.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/popup.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/popup.html",'<ul class="dropdown-menu" ng-style="{display: (isOpen && \'block\') || \'none\', top: position.top+\'px\', left: position.left+\'px\'}" ng-keydown="keydown($event)">\n\t<li ng-transclude></li>\n\t<li ng-if="showButtonBar" style="padding:10px 9px 2px">\n\t\t<span class="btn-group pull-left">\n\t\t\t<button type="button" class="btn btn-sm btn-info" ng-click="select(\'today\')">{{ getText(\'current\') }}</button>\n\t\t\t<button type="button" class="btn btn-sm btn-danger" ng-click="select(null)">{{ getText(\'clear\') }}</button>\n\t\t</span>\n\t\t<button type="button" class="btn btn-sm btn-success pull-right" ng-click="close()">{{ getText(\'close\') }}</button>\n\t</li>\n</ul>\n')}]),angular.module("template/datepicker/year.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/year.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="3"><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function(e){e.put("template/modal/backdrop.html",'<div class="modal-backdrop"\n     modal-animation-class="fade"\n     ng-class="{in: animate}"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')}]),angular.module("template/modal/window.html",[]).run(["$templateCache",function(e){e.put("template/modal/window.html",'<div modal-render="{{$isRendered}}" tabindex="-1" role="dialog" class="modal"\n    modal-animation-class="fade"\n\tng-class="{in: animate}" ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}" ng-click="close($event)">\n    <div class="modal-dialog" ng-class="size ? \'modal-\' + size : \'\'"><div class="modal-content" modal-transclude></div></div>\n</div>\n')}]),angular.module("template/pagination/pager.html",[]).run(["$templateCache",function(e){e.put("template/pagination/pager.html",'<ul class="pager">\n  <li ng-class="{disabled: noPrevious(), previous: align}"><a href ng-click="selectPage(page - 1, $event)">{{getText(\'previous\')}}</a></li>\n  <li ng-class="{disabled: noNext(), next: align}"><a href ng-click="selectPage(page + 1, $event)">{{getText(\'next\')}}</a></li>\n</ul>')}]),angular.module("template/pagination/pagination.html",[]).run(["$templateCache",function(e){e.put("template/pagination/pagination.html",'<ul class="pagination">\n  <li ng-if="boundaryLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(1, $event)">{{getText(\'first\')}}</a></li>\n  <li ng-if="directionLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(page - 1, $event)">{{getText(\'previous\')}}</a></li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active}"><a href ng-click="selectPage(page.number, $event)">{{page.text}}</a></li>\n  <li ng-if="directionLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(page + 1, $event)">{{getText(\'next\')}}</a></li>\n  <li ng-if="boundaryLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(totalPages, $event)">{{getText(\'last\')}}</a></li>\n</ul>')}]),angular.module("template/tooltip/tooltip-html-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-html-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind-html="contentExp()"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-html-unsafe-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-html-unsafe-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" bind-html-unsafe="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-template-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-template-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner"\n    tooltip-template-transclude="contentExp()"\n    tooltip-template-transclude-scope="originScope()"></div>\n</div>\n')}]),angular.module("template/popover/popover-template.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover-template.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content"\n        tooltip-template-transclude="contentExp()"\n        tooltip-template-transclude-scope="originScope()"></div>\n  </div>\n</div>\n')}]),angular.module("template/popover/popover-window.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover-window.html",'<div class="popover {{placement}}" ng-class="{ in: isOpen, fade: animation }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-show="title"></h3>\n      <div class="popover-content" tooltip-template-transclude></div>\n  </div>\n</div>\n')}]),angular.module("template/popover/popover.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')}]),angular.module("template/progressbar/bar.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>\n')}]),angular.module("template/progressbar/progress.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/progress.html",'<div class="progress" ng-transclude></div>')}]),angular.module("template/progressbar/progressbar.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>\n</div>\n')}]),angular.module("template/rating/rating.html",[]).run(["$templateCache",function(e){e.put("template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}">\n    <i ng-repeat="r in range track by $index" ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')">\n        <span class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    </i>\n</span>')}]),angular.module("template/tabs/tab.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tab.html",'<li role="presentation" ng-class="{active: active, disabled: disabled}">\n  <a role="tab" href ng-click="select()"  aria-selected="{{active}}" tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("template/tabs/tabset.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tabset.html",'<div>\n  <ul role="tablist" class="nav nav-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane" \n         ng-repeat="tab in tabs" \n         ng-class="{active: tab.active}"\n         tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("template/timepicker/timepicker.html",[]).run(["$templateCache",function(e){e.put("template/timepicker/timepicker.html",'<table>\n\t<tbody>\n\t\t<tr class="text-center">\n\t\t\t<td><a ng-click="incrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n\t\t\t<td>&nbsp;</td>\n\t\t\t<td><a ng-click="incrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n\t\t\t<td ng-show="showMeridian"></td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td class="form-group" ng-class="{\'has-error\': invalidHours}">\n\t\t\t\t<input style="width:50px;" type="text" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2">\n\t\t\t</td>\n\t\t\t<td>:</td>\n\t\t\t<td class="form-group" ng-class="{\'has-error\': invalidMinutes}">\n\t\t\t\t<input style="width:50px;" type="text" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2">\n\t\t\t</td>\n\t\t\t<td ng-show="showMeridian"><button type="button" class="btn btn-default text-center" ng-click="toggleMeridian()">{{meridian}}</button></td>\n\t\t</tr>\n\t\t<tr class="text-center">\n\t\t\t<td><a ng-click="decrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n\t\t\t<td>&nbsp;</td>\n\t\t\t<td><a ng-click="decrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n\t\t\t<td ng-show="showMeridian"></td>\n\t\t</tr>\n\t</tbody>\n</table>\n')}]),angular.module("template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-match.html",'<a tabindex="-1" bind-html-unsafe="match.label | typeaheadHighlight:query"></a>')}]),!angular.$$csp()&&angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>'),angular.module("ui.event",[]).directive("uiEvent",["$parse",function(e){return function(t,n,i){var o=t.$eval(i.uiEvent);angular.forEach(o,function(i,o){var a=e(i);n.bind(o,function(e){var n=Array.prototype.slice.call(arguments);n=n.splice(1),a(t,{$event:e,$params:n}),t.$$phase||t.$apply()})})}}]),"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(e,t,n){"use strict";function i(e,t){return U(new(U(function(){},{prototype:e})),t)}function o(e){return B(arguments,function(t){t!==e&&B(t,function(t,n){e.hasOwnProperty(n)||(e[n]=t)})}),e}function a(e,t){var n=[];for(var i in e.path){if(e.path[i]!==t.path[i])break;n.push(e.path[i])}return n}function r(e){if(Object.keys)return Object.keys(e);var t=[];return B(e,function(e,n){t.push(n)}),t}function l(e,t){if(Array.prototype.indexOf)return e.indexOf(t,Number(arguments[2])||0);var n=e.length>>>0,i=Number(arguments[2])||0;for(i=i<0?Math.ceil(i):Math.floor(i),i<0&&(i+=n);i<n;i++)if(i in e&&e[i]===t)return i;return-1}function s(e,t,n,i){var o,s=a(n,i),c={},u=[];for(var p in s)if(s[p]&&s[p].params&&(o=r(s[p].params),o.length))for(var d in o)l(u,o[d])>=0||(u.push(o[d]),c[o[d]]=e[o[d]]);return U({},c,t)}function c(e,t,n){if(!n){n=[];for(var i in e)n.push(i)}for(var o=0;o<n.length;o++){var a=n[o];if(e[a]!=t[a])return!1}return!0}function u(e,t){var n={};return B(e,function(e){n[e]=t[e]}),n}function p(e){var t={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));return B(n,function(n){n in e&&(t[n]=e[n])}),t}function d(e){var t={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var i in e)l(n,i)==-1&&(t[i]=e[i]);return t}function f(e,t){var n=z(e),i=n?[]:{};return B(e,function(e,o){t(e,o)&&(i[n?i.length:o]=e)}),i}function h(e,t){var n=z(e)?[]:{};return B(e,function(e,i){n[i]=t(e,i)}),n}function g(e){return e.then(n,function(){})&&e}function m(e,t){var i=1,a=2,s={},c=[],u=s,p=U(e.when(s),{$$promises:s,$$values:s});this.study=function(s){function f(e,n){if(y[n]!==a){if(b.push(n),y[n]===i)throw b.splice(0,l(b,n)),new Error("Cyclic dependency: "+b.join(" -> "));if(y[n]=i,G(e))v.push(n,[function(){return t.get(e)}],c);else{var o=t.annotate(e);B(o,function(e){e!==n&&s.hasOwnProperty(e)&&f(s[e],e)}),v.push(n,e,o)}b.pop(),y[n]=a}}function h(e){return q(e)&&e.then&&e.$$promises}if(!q(s))throw new Error("'invocables' must be an object");var m=r(s||{}),v=[],b=[],y={};return B(s,f),s=b=y=null,function(i,a,r){function l(){--w||(k||o(x,a.$$values),b.$$values=x,b.$$promises=b.$$promises||!0,delete b.$$inheritedValues,f.resolve(x))}function s(e){b.$$failure=e,f.reject(e)}function c(n,o,a){function c(e){p.reject(e),s(e)}function u(){if(!F(b.$$failure))try{p.resolve(t.invoke(o,r,x)),p.promise.then(function(e){x[n]=e,l()},c)}catch(e){c(e)}}var p=e.defer(),d=0;B(a,function(e){y.hasOwnProperty(e)&&!i.hasOwnProperty(e)&&(d++,y[e].then(function(t){x[e]=t,--d||u()},c))}),d||u(),y[n]=g(p.promise)}if(h(i)&&r===n&&(r=a,a=i,i=null),i){if(!q(i))throw new Error("'locals' must be an object")}else i=u;if(a){if(!h(a))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else a=p;var f=e.defer(),b=g(f.promise),y=b.$$promises={},x=U({},i),w=1+v.length/3,k=!1;if(g(b),F(a.$$failure))return s(a.$$failure),b;a.$$inheritedValues&&o(x,d(a.$$inheritedValues,m)),U(y,a.$$promises),a.$$values?(k=o(x,d(a.$$values,m)),b.$$inheritedValues=d(a.$$values,m),l()):(a.$$inheritedValues&&(b.$$inheritedValues=d(a.$$inheritedValues,m)),a.then(l,s));for(var $=0,C=v.length;$<C;$+=3)i.hasOwnProperty(v[$])?l():c(v[$],v[$+1],v[$+2]);return b}},this.resolve=function(e,t,n,i){return this.study(e)(t,n,i)}}function v(){var e=t.version.minor<3;this.shouldUnsafelyUseHttp=function(t){e=!!t},this.$get=["$http","$templateCache","$injector",function(t,n,i){return new b(t,n,i,e)}]}function b(e,t,n,i){this.fromConfig=function(e,t,n){return F(e.template)?this.fromString(e.template,t):F(e.templateUrl)?this.fromUrl(e.templateUrl,t):F(e.templateProvider)?this.fromProvider(e.templateProvider,t,n):null},this.fromString=function(e,t){return j(e)?e(t):e},this.fromUrl=function(o,a){return j(o)&&(o=o(a)),null==o?null:i?e.get(o,{cache:t,headers:{Accept:"text/html"}}).then(function(e){return e.data}):n.get("$templateRequest")(o)},this.fromProvider=function(e,t,i){return n.invoke(e,null,i||{params:t})}}function y(e,t,o){function a(t,n,i,o){if(m.push(t),h[t])return h[t];if(!/^\w+([-.]+\w+)*(?:\[\])?$/.test(t))throw new Error("Invalid parameter name '"+t+"' in pattern '"+e+"'");if(g[t])throw new Error("Duplicate parameter name '"+t+"' in pattern '"+e+"'");return g[t]=new Y.Param(t,n,i,o),g[t]}function r(e,t,n,i){var o=["",""],a=e.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!t)return a;switch(n){case!1:o=["(",")"+(i?"?":"")];break;case!0:a=a.replace(/\/$/,""),o=["(?:/(",")|/)?"];break;default:o=["("+n+"|",")?"]}return a+o[0]+t+o[1]}function l(o,a){var r,l,s,c,u;return r=o[2]||o[3],u=t.params[r],s=e.substring(d,o.index),l=a?o[4]:o[4]||("*"==o[1]?".*":null),l&&(c=Y.type(l)||i(Y.type("string"),{pattern:new RegExp(l,t.caseInsensitive?"i":n)})),{id:r,regexp:l,segment:s,type:c,cfg:u}}t=U({params:{}},q(t)?t:{});var s,c=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,u=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,p="^",d=0,f=this.segments=[],h=o?o.params:{},g=this.params=o?o.params.$$new():new Y.ParamSet,m=[];this.source=e;for(var v,b,y;(s=c.exec(e))&&(v=l(s,!1),!(v.segment.indexOf("?")>=0));)b=a(v.id,v.type,v.cfg,"path"),p+=r(v.segment,b.type.pattern.source,b.squash,b.isOptional),f.push(v.segment),d=c.lastIndex;y=e.substring(d);var x=y.indexOf("?");if(x>=0){var w=this.sourceSearch=y.substring(x);if(y=y.substring(0,x),this.sourcePath=e.substring(0,d+x),w.length>0)for(d=0;s=u.exec(w);)v=l(s,!0),b=a(v.id,v.type,v.cfg,"search"),d=c.lastIndex}else this.sourcePath=e,this.sourceSearch="";p+=r(y)+(t.strict===!1?"/?":"")+"$",f.push(y),this.regexp=new RegExp(p,t.caseInsensitive?"i":n),this.prefix=f[0],this.$$paramNames=m}function x(e){U(this,e)}function w(){function e(e){return null!=e?e.toString().replace(/(~|\/)/g,function(e){return{"~":"~~","/":"~2F"}[e]}):e}function o(e){return null!=e?e.toString().replace(/(~~|~2F)/g,function(e){return{"~~":"~","~2F":"/"}[e]}):e}function a(){return{strict:g,caseInsensitive:d}}function s(e){return j(e)||z(e)&&j(e[e.length-1])}function c(){for(;k.length;){var e=k.shift();if(e.pattern)throw new Error("You cannot override a type's .pattern at runtime.");t.extend(v[e.name],p.invoke(e.def))}}function u(e){U(this,e||{})}Y=this;var p,d=!1,g=!0,m=!1,v={},b=!0,k=[],$={string:{encode:e,decode:o,is:function(e){return null==e||!F(e)||"string"==typeof e},pattern:/[^\/]*/},"int":{encode:e,decode:function(e){return parseInt(e,10)},is:function(e){return e!==n&&null!==e&&this.decode(e.toString())===e},pattern:/\d+/},bool:{encode:function(e){return e?1:0},decode:function(e){return 0!==parseInt(e,10)},is:function(e){return e===!0||e===!1},pattern:/0|1/},date:{encode:function(e){return this.is(e)?[e.getFullYear(),("0"+(e.getMonth()+1)).slice(-2),("0"+e.getDate()).slice(-2)].join("-"):n},decode:function(e){if(this.is(e))return e;var t=this.capture.exec(e);return t?new Date(t[1],t[2]-1,t[3]):n},is:function(e){return e instanceof Date&&!isNaN(e.valueOf())},equals:function(e,t){return this.is(e)&&this.is(t)&&e.toISOString()===t.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:t.toJson,decode:t.fromJson,is:t.isObject,equals:t.equals,pattern:/[^\/]*/},any:{encode:t.identity,decode:t.identity,equals:t.equals,pattern:/.*/}};w.$$getDefaultValue=function(e){if(!s(e.value))return e.value;if(!p)throw new Error("Injectable functions cannot be called at configuration time");return p.invoke(e.value)},this.caseInsensitive=function(e){return F(e)&&(d=e),d},this.strictMode=function(e){return F(e)&&(g=e),g},this.defaultSquashPolicy=function(e){if(!F(e))return m;if(e!==!0&&e!==!1&&!G(e))throw new Error("Invalid squash policy: "+e+". Valid policies: false, true, arbitrary-string");return m=e,e},this.compile=function(e,t){return new y(e,U(a(),t))},this.isMatcher=function(e){if(!q(e))return!1;var t=!0;return B(y.prototype,function(n,i){j(n)&&(t=t&&F(e[i])&&j(e[i]))}),t},this.type=function(e,t,n){if(!F(t))return v[e];if(v.hasOwnProperty(e))throw new Error("A type named '"+e+"' has already been defined.");return v[e]=new x(U({name:e},t)),n&&(k.push({name:e,def:n}),b||c()),this},B($,function(e,t){v[t]=new x(U({name:t},e))}),v=i(v,{}),this.$get=["$injector",function(e){return p=e,b=!1,c(),B($,function(e,t){v[t]||(v[t]=new x(e))}),this}],this.Param=function(e,i,o,a){function c(e){var t=q(e)?r(e):[],n=l(t,"value")===-1&&l(t,"type")===-1&&l(t,"squash")===-1&&l(t,"array")===-1;return n&&(e={value:e}),e.$$fn=s(e.value)?e.value:function(){return e.value},e}function u(n,i,o){if(n.type&&i)throw new Error("Param '"+e+"' has two type configurations.");return i?i:n.type?t.isString(n.type)?v[n.type]:n.type instanceof x?n.type:new x(n.type):"config"===o?v.any:v.string}function d(){var t={array:"search"===a&&"auto"},n=e.match(/\[\]$/)?{array:!0}:{};return U(t,n,o).array}function g(e,t){var n=e.squash;if(!t||n===!1)return!1;if(!F(n)||null==n)return m;if(n===!0||G(n))return n;throw new Error("Invalid squash policy: '"+n+"'. Valid policies: false, true, or arbitrary string")}function b(e,t,i,o){var a,r,s=[{from:"",to:i||t?n:""},{from:null,to:i||t?n:""}];return a=z(e.replace)?e.replace:[],G(o)&&a.push({from:o,to:n}),r=h(a,function(e){return e.from}),f(s,function(e){return l(r,e.from)===-1}).concat(a)}function y(){if(!p)throw new Error("Injectable functions cannot be called at configuration time");var e=p.invoke(o.$$fn);if(null!==e&&e!==n&&!$.type.is(e))throw new Error("Default value ("+e+") for parameter '"+$.id+"' is not an instance of Type ("+$.type.name+")");return e}function w(e){function t(e){return function(t){return t.from===e}}function n(e){var n=h(f($.replace,t(e)),function(e){return e.to});return n.length?n[0]:e}return e=n(e),F(e)?$.type.$normalize(e):y()}function k(){return"{Param:"+e+" "+i+" squash: '"+T+"' optional: "+S+"}"}var $=this;o=c(o),i=u(o,i,a);var C=d();i=C?i.$asArray(C,"search"===a):i,"string"!==i.name||C||"path"!==a||o.value!==n||(o.value="");var S=o.value!==n,T=g(o,S),P=b(o,C,S,T);U(this,{id:e,type:i,location:a,array:C,squash:T,replace:P,isOptional:S,value:w,dynamic:n,config:o,toString:k})},u.prototype={$$new:function(){return i(this,U(new u,{$$parent:this}))},$$keys:function(){for(var e=[],t=[],n=this,i=r(u.prototype);n;)t.push(n),n=n.$$parent;return t.reverse(),B(t,function(t){B(r(t),function(t){l(e,t)===-1&&l(i,t)===-1&&e.push(t)})}),e},$$values:function(e){var t={},n=this;return B(n.$$keys(),function(i){t[i]=n[i].value(e&&e[i])}),t},$$equals:function(e,t){var n=!0,i=this;return B(i.$$keys(),function(o){var a=e&&e[o],r=t&&t[o];i[o].type.equals(a,r)||(n=!1)}),n},$$validates:function(e){var i,o,a,r,l,s=this.$$keys();for(i=0;i<s.length&&(o=this[s[i]],a=e[s[i]],a!==n&&null!==a||!o.isOptional);i++){if(r=o.type.$normalize(a),!o.type.is(r))return!1;if(l=o.type.encode(r),t.isString(l)&&!o.type.pattern.exec(l))return!1}return!0},$$parent:n},this.ParamSet=u}function k(e,i){function o(e){var t=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(e.source);return null!=t?t[1].replace(/\\(.)/g,"$1"):""}function a(e,t){return e.replace(/\$(\$|\d{1,2})/,function(e,n){return t["$"===n?0:Number(n)]})}function r(e,t,n){if(!n)return!1;var i=e.invoke(t,t,{$match:n});return!F(i)||i}function l(i,o,a,r,l){function d(e,t,n){return"/"===m?e:t?m.slice(0,-1)+e:n?m.slice(1)+e:e}function f(e){function t(e){var t=e(a,i);return!!t&&(G(t)&&i.replace().url(t),!0)}if(!e||!e.defaultPrevented){g&&i.url()===g;g=n;var o,r=c.length;for(o=0;o<r;o++)if(t(c[o]))return;u&&t(u)}}function h(){return s=s||o.$on("$locationChangeSuccess",f)}var g,m=r.baseHref(),v=i.url();return p||h(),{sync:function(){f()},listen:function(){return h()},update:function(e){return e?void(v=i.url()):void(i.url()!==v&&(i.url(v),i.replace()))},push:function(e,t,o){var a=e.format(t||{});null!==a&&t&&t["#"]&&(a+="#"+t["#"]),i.url(a),g=o&&o.$$avoidResync?i.url():n,o&&o.replace&&i.replace()},href:function(n,o,a){if(!n.validates(o))return null;var r=e.html5Mode();t.isObject(r)&&(r=r.enabled),r=r&&l.history;var s=n.format(o);if(a=a||{},r||null===s||(s="#"+e.hashPrefix()+s),null!==s&&o&&o["#"]&&(s+="#"+o["#"]),s=d(s,r,a.absolute),!a.absolute||!s)return s;var c=!r&&s?"/":"",u=i.port();return u=80===u||443===u?"":":"+u,[i.protocol(),"://",i.host(),u,c,s].join("")}}}var s,c=[],u=null,p=!1;this.rule=function(e){if(!j(e))throw new Error("'rule' must be a function");
return c.push(e),this},this.otherwise=function(e){if(G(e)){var t=e;e=function(){return t}}else if(!j(e))throw new Error("'rule' must be a function");return u=e,this},this.when=function(e,t){var n,l=G(t);if(G(e)&&(e=i.compile(e)),!l&&!j(t)&&!z(t))throw new Error("invalid 'handler' in when()");var s={matcher:function(e,t){return l&&(n=i.compile(t),t=["$match",function(e){return n.format(e)}]),U(function(n,i){return r(n,t,e.exec(i.path(),i.search()))},{prefix:G(e.prefix)?e.prefix:""})},regex:function(e,t){if(e.global||e.sticky)throw new Error("when() RegExp must not be global or sticky");return l&&(n=t,t=["$match",function(e){return a(n,e)}]),U(function(n,i){return r(n,t,e.exec(i.path()))},{prefix:o(e)})}},c={matcher:i.isMatcher(e),regex:e instanceof RegExp};for(var u in c)if(c[u])return this.rule(s[u](e,t));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(e){e===n&&(e=!0),p=e},this.$get=l,l.$inject=["$location","$rootScope","$injector","$browser","$sniffer"]}function $(e,o){function a(e){return 0===e.indexOf(".")||0===e.indexOf("^")}function d(e,t){if(!e)return n;var i=G(e),o=i?e:e.name,r=a(o);if(r){if(!t)throw new Error("No reference point given for path '"+o+"'");t=d(t);for(var l=o.split("."),s=0,c=l.length,u=t;s<c;s++)if(""!==l[s]||0!==s){if("^"!==l[s])break;if(!u.parent)throw new Error("Path '"+o+"' not valid for state '"+t.name+"'");u=u.parent}else u=t;l=l.slice(s).join("."),o=u.name+(u.name&&l?".":"")+l}var p=T[o];return!p||!i&&(i||p!==e&&p.self!==e)?n:p}function f(e,t){P[e]||(P[e]=[]),P[e].push(t)}function m(e){for(var t=P[e]||[];t.length;)v(t.shift())}function v(t){t=i(t,{self:t,resolve:t.resolve||{},toString:function(){return this.name}});var n=t.name;if(!G(n)||n.indexOf("@")>=0)throw new Error("State must have a valid name");if(T.hasOwnProperty(n))throw new Error("State '"+n+"' is already defined");var o=n.indexOf(".")!==-1?n.substring(0,n.lastIndexOf(".")):G(t.parent)?t.parent:q(t.parent)&&G(t.parent.name)?t.parent.name:"";if(o&&!T[o])return f(o,t.self);for(var a in D)j(D[a])&&(t[a]=D[a](t,D.$delegates[a]));return T[n]=t,!t[A]&&t.url&&e.when(t.url,["$match","$stateParams",function(e,n){S.$current.navigable==t&&c(e,n)||S.transitionTo(t,e,{inherit:!0,location:!1})}]),m(n),t}function b(e){return e.indexOf("*")>-1}function y(e){for(var t=e.split("."),n=S.$current.name.split("."),i=0,o=t.length;i<o;i++)"*"===t[i]&&(n[i]="*");return"**"===t[0]&&(n=n.slice(l(n,t[1])),n.unshift("**")),"**"===t[t.length-1]&&(n.splice(l(n,t[t.length-2])+1,Number.MAX_VALUE),n.push("**")),t.length==n.length&&n.join("")===t.join("")}function x(e,t){return G(e)&&!F(t)?D[e]:j(t)&&G(e)?(D[e]&&!D.$delegates[e]&&(D.$delegates[e]=D[e]),D[e]=t,this):this}function w(e,t){return q(e)?t=e:t.name=e,v(t),this}function k(e,o,a,l,c,p,f,m,v){function x(t,n,i,a){var r=e.$broadcast("$stateNotFound",t,n,i);if(r.defaultPrevented)return f.update(),E;if(!r.retry)return null;if(a.$retry)return f.update(),M;var l=S.transition=o.when(r.retry);return l.then(function(){return l!==S.transition?(e.$broadcast("$stateChangeCancel",t.to,t.toParams,n,i),P):(t.options.$retry=!0,S.transitionTo(t.to,t.toParams,t.options))},function(){return E}),f.update(),l}function w(e,n,i,r,s,p){function d(){var n=[];return B(e.views,function(i,o){var r=i.resolve&&i.resolve!==e.resolve?i.resolve:{};r.$template=[function(){return a.load(o,{view:i,locals:s.globals,params:f,notify:p.notify})||""}],n.push(c.resolve(r,s.globals,s.resolve,e).then(function(n){if(j(i.controllerProvider)||z(i.controllerProvider)){var a=t.extend({},r,s.globals);n.$$controller=l.invoke(i.controllerProvider,null,a)}else n.$$controller=i.controller;n.$$state=e,n.$$controllerAs=i.controllerAs,n.$$resolveAs=i.resolveAs,s[o]=n}))}),o.all(n).then(function(){return s.globals})}var f=i?n:u(e.params.$$keys(),n),h={$stateParams:f};s.resolve=c.resolve(e.resolve,h,s.resolve,e);var g=[s.resolve.then(function(e){s.globals=e})];return r&&g.push(r),o.all(g).then(d).then(function(e){return s})}var k=new Error("transition superseded"),P=g(o.reject(k)),D=g(o.reject(new Error("transition prevented"))),E=g(o.reject(new Error("transition aborted"))),M=g(o.reject(new Error("transition failed")));return C.locals={resolve:null,globals:{$stateParams:{}}},S={params:{},current:C.self,$current:C,transition:null},S.reload=function(e){return S.transitionTo(S.current,p,{reload:e||!0,inherit:!1,notify:!0})},S.go=function(e,t,n){return S.transitionTo(e,t,U({inherit:!0,relative:S.$current},n))},S.transitionTo=function(t,n,a){n=n||{},a=U({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},a||{});var r,c=S.$current,h=S.params,m=c.path,v=d(t,a.relative),b=n["#"];if(!F(v)){var y={to:t,toParams:n,options:a},T=x(y,c.self,h,a);if(T)return T;if(t=y.to,n=y.toParams,a=y.options,v=d(t,a.relative),!F(v)){if(!a.relative)throw new Error("No such state '"+t+"'");throw new Error("Could not resolve '"+t+"' from state '"+a.relative+"'")}}if(v[A])throw new Error("Cannot transition to abstract state '"+t+"'");if(a.inherit&&(n=s(p,n||{},S.$current,v)),!v.params.$$validates(n))return M;n=v.params.$$values(n),t=v;var E=t.path,O=0,_=E[O],I=C.locals,R=[];if(a.reload){if(G(a.reload)||q(a.reload)){if(q(a.reload)&&!a.reload.name)throw new Error("Invalid reload state object");var L=a.reload===!0?m[0]:d(a.reload);if(a.reload&&!L)throw new Error("No such reload state '"+(G(a.reload)?a.reload:a.reload.name)+"'");for(;_&&_===m[O]&&_!==L;)I=R[O]=_.locals,O++,_=E[O]}}else for(;_&&_===m[O]&&_.ownParams.$$equals(n,h);)I=R[O]=_.locals,O++,_=E[O];if($(t,n,c,h,I,a))return b&&(n["#"]=b),S.params=n,V(S.params,p),V(u(t.params.$$keys(),p),t.locals.globals.$stateParams),a.location&&t.navigable&&t.navigable.url&&(f.push(t.navigable.url,n,{$$avoidResync:!0,replace:"replace"===a.location}),f.update(!0)),S.transition=null,o.when(S.current);if(n=u(t.params.$$keys(),n||{}),b&&(n["#"]=b),a.notify&&e.$broadcast("$stateChangeStart",t.self,n,c.self,h,a).defaultPrevented)return e.$broadcast("$stateChangeCancel",t.self,n,c.self,h),null==S.transition&&f.update(),D;for(var N=o.when(I),H=O;H<E.length;H++,_=E[H])I=R[H]=i(I),N=w(_,n,_===t,N,I,a);var j=S.transition=N.then(function(){var i,o,r;if(S.transition!==j)return e.$broadcast("$stateChangeCancel",t.self,n,c.self,h),P;for(i=m.length-1;i>=O;i--)r=m[i],r.self.onExit&&l.invoke(r.self.onExit,r.self,r.locals.globals),r.locals=null;for(i=O;i<E.length;i++)o=E[i],o.locals=R[i],o.self.onEnter&&l.invoke(o.self.onEnter,o.self,o.locals.globals);return S.transition!==j?(e.$broadcast("$stateChangeCancel",t.self,n,c.self,h),P):(S.$current=t,S.current=t.self,S.params=n,V(S.params,p),S.transition=null,a.location&&t.navigable&&f.push(t.navigable.url,t.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===a.location}),a.notify&&e.$broadcast("$stateChangeSuccess",t.self,n,c.self,h),f.update(!0),S.current)}).then(null,function(i){return i===k?P:S.transition!==j?(e.$broadcast("$stateChangeCancel",t.self,n,c.self,h),P):(S.transition=null,r=e.$broadcast("$stateChangeError",t.self,n,c.self,h,i),r.defaultPrevented||f.update(),o.reject(i))});return g(j),j},S.is=function(e,t,i){i=U({relative:S.$current},i||{});var o=d(e,i.relative);return F(o)?S.$current===o&&(!t||r(t).reduce(function(e,n){var i=o.params[n];return e&&!i||i.type.equals(p[n],t[n])},!0)):n},S.includes=function(e,t,i){if(i=U({relative:S.$current},i||{}),G(e)&&b(e)){if(!y(e))return!1;e=S.$current.name}var o=d(e,i.relative);if(!F(o))return n;if(!F(S.$current.includes[o.name]))return!1;if(!t)return!0;for(var a=r(t),l=0;l<a.length;l++){var s=a[l],c=o.params[s];if(c&&!c.type.equals(p[s],t[s]))return!1}return r(t).reduce(function(e,n){var i=o.params[n];return e&&!i||i.type.equals(p[n],t[n])},!0)},S.href=function(e,t,i){i=U({lossy:!0,inherit:!0,absolute:!1,relative:S.$current},i||{});var o=d(e,i.relative);if(!F(o))return null;i.inherit&&(t=s(p,t||{},S.$current,o));var a=o&&i.lossy?o.navigable:o;return a&&a.url!==n&&null!==a.url?f.href(a.url,u(o.params.$$keys().concat("#"),t||{}),{absolute:i.absolute}):null},S.get=function(e,t){if(0===arguments.length)return h(r(T),function(e){return T[e].self});var n=d(e,t||S.$current);return n&&n.self?n.self:null},S}function $(e,t,n,i,o,a){function r(e,t,n){function i(t){return"search"!=e.params[t].location}var o=e.params.$$keys().filter(i),a=p.apply({},[e.params].concat(o)),r=new Y.ParamSet(a);return r.$$equals(t,n)}if(!a.reload&&e===n&&(o===n.locals||e.self.reloadOnSearch===!1&&r(n,i,t)))return!0}var C,S,T={},P={},A="abstract",D={parent:function(e){if(F(e.parent)&&e.parent)return d(e.parent);var t=/^(.+)\.[^.]+$/.exec(e.name);return t?d(t[1]):C},data:function(e){return e.parent&&e.parent.data&&(e.data=e.self.data=i(e.parent.data,e.data)),e.data},url:function(e){var t=e.url,n={params:e.params||{}};if(G(t))return"^"==t.charAt(0)?o.compile(t.substring(1),n):(e.parent.navigable||C).url.concat(t,n);if(!t||o.isMatcher(t))return t;throw new Error("Invalid url '"+t+"' in state '"+e+"'")},navigable:function(e){return e.url?e:e.parent?e.parent.navigable:null},ownParams:function(e){var t=e.url&&e.url.params||new Y.ParamSet;return B(e.params||{},function(e,n){t[n]||(t[n]=new Y.Param(n,null,e,"config"))}),t},params:function(e){var t=p(e.ownParams,e.ownParams.$$keys());return e.parent&&e.parent.params?U(e.parent.params.$$new(),t):new Y.ParamSet},views:function(e){var t={};return B(F(e.views)?e.views:{"":e},function(n,i){i.indexOf("@")<0&&(i+="@"+e.parent.name),n.resolveAs=n.resolveAs||e.resolveAs||"$resolve",t[i]=n}),t},path:function(e){return e.parent?e.parent.path.concat(e):[]},includes:function(e){var t=e.parent?U({},e.parent.includes):{};return t[e.name]=!0,t},$delegates:{}};C=v({name:"",url:"^",views:null,"abstract":!0}),C.navigable=null,this.decorator=x,this.state=w,this.$get=k,k.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function C(){function e(e,t){return{load:function(e,n){var i,o={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return n=U(o,n),n.view&&(i=t.fromConfig(n.view,n.params,n.locals)),i}}}this.$get=e,e.$inject=["$rootScope","$templateFactory"]}function S(){var e=!1;this.useAnchorScroll=function(){e=!0},this.$get=["$anchorScroll","$timeout",function(t,n){return e?t:function(e){return n(function(){e[0].scrollIntoView()},0,!1)}}]}function T(e,n,i,o,a){function r(){return n.has?function(e){return n.has(e)?n.get(e):null}:function(e){try{return n.get(e)}catch(t){return null}}}function l(e,n){var i=function(){return{enter:function(e,t,n){t.after(e),n()},leave:function(e,t){e.remove(),t()}}};if(u)return{enter:function(e,n,i){t.version.minor>2?u.enter(e,null,n).then(i):u.enter(e,null,n,i)},leave:function(e,n){t.version.minor>2?u.leave(e).then(n):u.leave(e,n)}};if(c){var o=c&&c(n,e);return{enter:function(e,t,n){o.enter(e,null,t),n()},leave:function(e,t){o.leave(e),t()}}}return i()}var s=r(),c=s("$animator"),u=s("$animate"),p={restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(n,r,s){return function(n,r,c){function u(){if(d&&(d.remove(),d=null),h&&(h.$destroy(),h=null),f){var e=f.data("$uiViewAnim");b.leave(f,function(){e.$$animLeave.resolve(),d=null}),d=f,f=null}}function p(l){var p,d=A(n,c,r,o),y=d&&e.$current&&e.$current.locals[d];if(l||y!==g){p=n.$new(),g=e.$current.locals[d],p.$emit("$viewContentLoading",d);var x=s(p,function(e){var o=a.defer(),l=a.defer(),s={$animEnter:o.promise,$animLeave:l.promise,$$animLeave:l};e.data("$uiViewAnim",s),b.enter(e,r,function(){o.resolve(),h&&h.$emit("$viewContentAnimationEnded"),(t.isDefined(v)&&!v||n.$eval(v))&&i(e)}),u()});f=x,h=p,h.$emit("$viewContentLoaded",d),h.$eval(m)}}var d,f,h,g,m=c.onload||"",v=c.autoscroll,b=l(c,n);r.inheritedData("$uiView");n.$on("$stateChangeSuccess",function(){p(!1)}),p(!0)}}};return p}function P(e,n,i,o){return{restrict:"ECA",priority:-400,compile:function(a){var r=a.html();return a.empty?a.empty():a[0].innerHTML=null,function(a,l,s){var c=i.$current,u=A(a,s,l,o),p=c&&c.locals[u];if(!p)return l.html(r),void e(l.contents())(a);l.data("$uiView",{name:u,state:p.$$state}),l.html(p.$template?p.$template:r);var d=t.extend({},p);a[p.$$resolveAs]=d;var f=e(l.contents());if(p.$$controller){p.$scope=a,p.$element=l;var h=n(p.$$controller,p);p.$$controllerAs&&(a[p.$$controllerAs]=h,a[p.$$controllerAs][p.$$resolveAs]=d),j(h.$onInit)&&h.$onInit(),l.data("$ngControllerController",h),l.children().data("$ngControllerController",h)}f(a)}}}}function A(e,t,n,i){var o=i(t.uiView||t.name||"")(e),a=n.inheritedData("$uiView");return o.indexOf("@")>=0?o:o+"@"+(a?a.state.name:"")}function D(e,t){var n,i=e.match(/^\s*({[^}]*})\s*$/);if(i&&(e=t+"("+i[1]+")"),n=e.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!n||4!==n.length)throw new Error("Invalid state ref '"+e+"'");return{state:n[1],paramExpr:n[3]||null}}function E(e){var t=e.parent().inheritedData("$uiView");if(t&&t.state&&t.state.name)return t.state}function M(e){var t="[object SVGAnimatedString]"===Object.prototype.toString.call(e.prop("href")),n="FORM"===e[0].nodeName;return{attr:n?"action":t?"xlink:href":"href",isAnchor:"A"===e.prop("tagName").toUpperCase(),clickable:!n}}function O(e,t,n,i,o){return function(a){var r=a.which||a.button,l=o();if(!(r>1||a.ctrlKey||a.metaKey||a.shiftKey||e.attr("target"))){var s=n(function(){t.go(l.state,l.params,l.options)});a.preventDefault();var c=i.isAnchor&&!l.href?1:0;a.preventDefault=function(){c--<=0&&n.cancel(s)}}}}function _(e,t){return{relative:E(e)||t.$current,inherit:!0}}function I(e,n){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(i,o,a,r){var l,s=D(a.uiSref,e.current.name),c={state:s.state,href:null,params:null},u=M(o),p=r[1]||r[0],d=null;c.options=U(_(o,e),a.uiSrefOpts?i.$eval(a.uiSrefOpts):{});var f=function(n){n&&(c.params=t.copy(n)),c.href=e.href(s.state,c.params,c.options),d&&d(),p&&(d=p.$$addStateInfo(s.state,c.params)),null!==c.href&&a.$set(u.attr,c.href)};s.paramExpr&&(i.$watch(s.paramExpr,function(e){e!==c.params&&f(e)},!0),c.params=t.copy(i.$eval(s.paramExpr))),f(),u.clickable&&(l=O(o,e,n,u,function(){return c}),o[o.on?"on":"bind"]("click",l),i.$on("$destroy",function(){o[o.off?"off":"unbind"]("click",l)}))}}}function R(e,t){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(n,i,o,a){function r(t){d.state=t[0],d.params=t[1],d.options=t[2],d.href=e.href(d.state,d.params,d.options),f&&f(),c&&(f=c.$$addStateInfo(d.state,d.params)),d.href&&o.$set(s.attr,d.href)}var l,s=M(i),c=a[1]||a[0],u=[o.uiState,o.uiStateParams||null,o.uiStateOpts||null],p="["+u.map(function(e){return e||"null"}).join(", ")+"]",d={state:null,params:null,options:null,href:null},f=null;n.$watch(p,r,!0),r(n.$eval(p)),s.clickable&&(l=O(i,e,t,s,function(){return d}),i[i.on?"on":"bind"]("click",l),n.$on("$destroy",function(){i[i.off?"off":"unbind"]("click",l)}))}}}function L(e,t,n){return{restrict:"A",controller:["$scope","$element","$attrs","$timeout",function(t,i,o,a){function r(t,n,o){var a=e.get(t,E(i)),r=l(t,n),s={state:a||{name:t},params:n,hash:r};return g.push(s),m[r]=o,function(){var e=g.indexOf(s);e!==-1&&g.splice(e,1)}}function l(e,n){if(!G(e))throw new Error("state should be a string");return q(n)?e+W(n):(n=t.$eval(n),q(n)?e+W(n):e)}function s(){for(var e=0;e<g.length;e++)p(g[e].state,g[e].params)?c(i,m[g[e].hash]):u(i,m[g[e].hash]),d(g[e].state,g[e].params)?c(i,f):u(i,f)}function c(e,t){a(function(){e.addClass(t)})}function u(e,t){e.removeClass(t)}function p(t,n){return e.includes(t.name,n)}function d(t,n){return e.is(t.name,n)}var f,h,g=[],m={};f=n(o.uiSrefActiveEq||"",!1)(t);try{h=t.$eval(o.uiSrefActive)}catch(v){}h=h||n(o.uiSrefActive||"",!1)(t),q(h)&&B(h,function(n,i){if(G(n)){var o=D(n,e.current.name);r(o.state,t.$eval(o.paramExpr),i)}}),this.$$addStateInfo=function(e,t){if(!(q(h)&&g.length>0)){var n=r(e,t,h);return s(),n}},t.$on("$stateChangeSuccess",s),s()}]}}function N(e){var t=function(t,n){return e.is(t,n)};return t.$stateful=!0,t}function H(e){var t=function(t,n,i){return e.includes(t,n,i)};return t.$stateful=!0,t}var F=t.isDefined,j=t.isFunction,G=t.isString,q=t.isObject,z=t.isArray,B=t.forEach,U=t.extend,V=t.copy,W=t.toJson;t.module("ui.router.util",["ng"]),t.module("ui.router.router",["ui.router.util"]),t.module("ui.router.state",["ui.router.router","ui.router.util"]),t.module("ui.router",["ui.router.state"]),t.module("ui.router.compat",["ui.router"]),m.$inject=["$q","$injector"],t.module("ui.router.util").service("$resolve",m),t.module("ui.router.util").provider("$templateFactory",v);var Y;y.prototype.concat=function(e,t){var n={caseInsensitive:Y.caseInsensitive(),strict:Y.strictMode(),squash:Y.defaultSquashPolicy()};return new y(this.sourcePath+e+this.sourceSearch,U(n,t),this)},y.prototype.toString=function(){return this.source},y.prototype.exec=function(e,t){function n(e){function t(e){return e.split("").reverse().join("")}function n(e){return e.replace(/\\-/g,"-")}var i=t(e).split(/-(?!\\)/),o=h(i,t);return h(o,n).reverse()}var i=this.regexp.exec(e);if(!i)return null;t=t||{};var o,a,r,l=this.parameters(),s=l.length,c=this.segments.length-1,u={};if(c!==i.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");var p,d;for(o=0;o<c;o++){for(r=l[o],p=this.params[r],d=i[o+1],a=0;a<p.replace.length;a++)p.replace[a].from===d&&(d=p.replace[a].to);d&&p.array===!0&&(d=n(d)),F(d)&&(d=p.type.decode(d)),u[r]=p.value(d)}for(;o<s;o++){for(r=l[o],u[r]=this.params[r].value(t[r]),p=this.params[r],d=t[r],a=0;a<p.replace.length;a++)p.replace[a].from===d&&(d=p.replace[a].to);F(d)&&(d=p.type.decode(d)),u[r]=p.value(d)}return u},y.prototype.parameters=function(e){return F(e)?this.params[e]||null:this.$$paramNames},y.prototype.validates=function(e){return this.params.$$validates(e)},y.prototype.format=function(e){function t(e){return encodeURIComponent(e).replace(/-/g,function(e){return"%5C%"+e.charCodeAt(0).toString(16).toUpperCase()})}e=e||{};var n=this.segments,i=this.parameters(),o=this.params;if(!this.validates(e))return null;var a,r=!1,l=n.length-1,s=i.length,c=n[0];for(a=0;a<s;a++){var u=a<l,p=i[a],d=o[p],f=d.value(e[p]),g=d.isOptional&&d.type.equals(d.value(),f),m=!!g&&d.squash,v=d.type.encode(f);if(u){var b=n[a+1],y=a+1===l;if(m===!1)null!=v&&(c+=z(v)?h(v,t).join("-"):encodeURIComponent(v)),c+=b;else if(m===!0){var x=c.match(/\/$/)?/\/?(.*)/:/(.*)/;c+=b.match(x)[1]}else G(m)&&(c+=m+b);y&&d.squash===!0&&"/"===c.slice(-1)&&(c=c.slice(0,-1))}else{if(null==v||g&&m!==!1)continue;if(z(v)||(v=[v]),0===v.length)continue;v=h(v,encodeURIComponent).join("&"+p+"="),c+=(r?"&":"?")+(p+"="+v),r=!0}}return c},x.prototype.is=function(e,t){return!0},x.prototype.encode=function(e,t){return e},x.prototype.decode=function(e,t){return e},x.prototype.equals=function(e,t){return e==t},x.prototype.$subPattern=function(){var e=this.pattern.toString();return e.substr(1,e.length-2)},x.prototype.pattern=/.*/,x.prototype.toString=function(){return"{Type:"+this.name+"}"},x.prototype.$normalize=function(e){return this.is(e)?e:this.decode(e)},x.prototype.$asArray=function(e,t){function i(e,t){function i(e,t){return function(){return e[t].apply(e,arguments)}}function o(e){return z(e)?e:F(e)?[e]:[]}function a(e){switch(e.length){case 0:return n;case 1:return"auto"===t?e[0]:e;default:return e}}function r(e){return!e}function l(e,t){return function(n){if(z(n)&&0===n.length)return n;n=o(n);var i=h(n,e);return t===!0?0===f(i,r).length:a(i)}}function s(e){return function(t,n){var i=o(t),a=o(n);if(i.length!==a.length)return!1;for(var r=0;r<i.length;r++)if(!e(i[r],a[r]))return!1;return!0}}this.encode=l(i(e,"encode")),this.decode=l(i(e,"decode")),this.is=l(i(e,"is"),!0),this.equals=s(i(e,"equals")),this.pattern=e.pattern,this.$normalize=l(i(e,"$normalize")),this.name=e.name,this.$arrayMode=t}if(!e)return this;if("auto"===e&&!t)throw new Error("'auto' array mode is for query parameters only");return new i(this,e)},t.module("ui.router.util").provider("$urlMatcherFactory",w),t.module("ui.router.util").run(["$urlMatcherFactory",function(e){}]),k.$inject=["$locationProvider","$urlMatcherFactoryProvider"],t.module("ui.router.router").provider("$urlRouter",k),$.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],t.module("ui.router.state").factory("$stateParams",function(){return{}}).constant("$state.runtime",{autoinject:!0}).provider("$state",$).run(["$injector",function(e){e.get("$state.runtime").autoinject&&e.get("$state")}]),C.$inject=[],t.module("ui.router.state").provider("$view",C),t.module("ui.router.state").provider("$uiViewScroll",S),T.$inject=["$state","$injector","$uiViewScroll","$interpolate","$q"],P.$inject=["$compile","$controller","$state","$interpolate"],t.module("ui.router.state").directive("uiView",T),t.module("ui.router.state").directive("uiView",P),I.$inject=["$state","$timeout"],R.$inject=["$state","$timeout"],L.$inject=["$state","$stateParams","$interpolate"],t.module("ui.router.state").directive("uiSref",I).directive("uiSrefActive",L).directive("uiSrefActiveEq",L).directive("uiState",R),N.$inject=["$state"],H.$inject=["$state"],t.module("ui.router.state").filter("isState",N).filter("includedByState",H)}(window,window.angular),function(){"use strict";angular.module("ui.sortable",[]).value("uiSortableConfig",{}).directive("uiSortable",["uiSortableConfig","$timeout","$log",function(e,t,n){return{require:"?ngModel",scope:{ngModel:"=",uiSortable:"="},link:function(i,o,a,r){function l(e,t){return t&&"function"==typeof t?function(){e.apply(this,arguments),t.apply(this,arguments)}:e}function s(e){var t=e.data("ui-sortable");return t&&"object"==typeof t&&"ui-sortable"===t.widgetFullName?t:null}function c(e,t){var n=e.sortable("option","helper");return"clone"===n||"function"==typeof n&&t.item.sortable.isCustomHelperUsed()}function u(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))}function p(e,t){for(var n=null,i=0;i<e.length;i++){var o=e[i];if(o.element[0]===t[0]){n=o.scope;break}}return n}function d(e,t){t.item.sortable._destroy()}var f,h={},g={"ui-floating":void 0},m={receive:null,remove:null,start:null,stop:null,update:null},v={helper:null};return angular.extend(h,g,e,i.uiSortable),angular.element.fn&&angular.element.fn.jquery?(r?(i.$watch("ngModel.length",function(){t(function(){s(o)&&o.sortable("refresh")},0,!1)}),m.start=function(e,t){if("auto"===h["ui-floating"]){var n=t.item.siblings(),i=s(angular.element(e.target));i.floating=u(n)}t.item.sortable={model:r.$modelValue[t.item.index()],index:t.item.index(),source:t.item.parent(),sourceModel:r.$modelValue,cancel:function(){t.item.sortable._isCanceled=!0},isCanceled:function(){return t.item.sortable._isCanceled},isCustomHelperUsed:function(){return!!t.item.sortable._isCustomHelperUsed},_isCanceled:!1,_isCustomHelperUsed:t.item.sortable._isCustomHelperUsed,_destroy:function(){angular.forEach(t.item.sortable,function(e,n){t.item.sortable[n]=void 0})}}},m.activate=function(e,t){f=o.contents();var n=o.sortable("option","placeholder");if(n&&n.element&&"function"==typeof n.element){var a=n.element();a=angular.element(a);var r=o.find('[class="'+a.attr("class")+'"]:not([ng-repeat], [data-ng-repeat])');f=f.not(r)}var l=t.item.sortable._connectedSortables||[];l.push({element:o,scope:i}),t.item.sortable._connectedSortables=l},m.update=function(e,t){if(!t.item.sortable.received){t.item.sortable.dropindex=t.item.index();var n=t.item.parent();t.item.sortable.droptarget=n;var a=p(t.item.sortable._connectedSortables,n);t.item.sortable.droptargetModel=a.ngModel,o.sortable("cancel")}c(o,t)&&!t.item.sortable.received&&"parent"===o.sortable("option","appendTo")&&(f=f.not(f.last())),f.appendTo(o),t.item.sortable.received&&(f=null),t.item.sortable.received&&!t.item.sortable.isCanceled()&&i.$apply(function(){r.$modelValue.splice(t.item.sortable.dropindex,0,t.item.sortable.moved)})},m.stop=function(e,t){!t.item.sortable.received&&"dropindex"in t.item.sortable&&!t.item.sortable.isCanceled()?i.$apply(function(){r.$modelValue.splice(t.item.sortable.dropindex,0,r.$modelValue.splice(t.item.sortable.index,1)[0])}):"dropindex"in t.item.sortable&&!t.item.sortable.isCanceled()||c(o,t)||f.appendTo(o),f=null},m.receive=function(e,t){t.item.sortable.received=!0},m.remove=function(e,t){"dropindex"in t.item.sortable||(o.sortable("cancel"),t.item.sortable.cancel()),t.item.sortable.isCanceled()||i.$apply(function(){t.item.sortable.moved=r.$modelValue.splice(t.item.sortable.index,1)[0]})},v.helper=function(e){return e&&"function"==typeof e?function(t,n){var i=e.apply(this,arguments);return n.sortable._isCustomHelperUsed=n!==i,i}:e},i.$watch("uiSortable",function(e){var t=s(o);t&&angular.forEach(e,function(e,n){return n in g?("ui-floating"!==n||e!==!1&&e!==!0||(t.floating=e),void(h[n]=e)):(m[n]?("stop"===n&&(e=l(e,function(){i.$apply()}),e=l(e,d)),e=l(m[n],e)):v[n]&&(e=v[n](e)),h[n]=e,void o.sortable("option",n,e))})},!0),angular.forEach(m,function(e,t){h[t]=l(e,h[t]),"stop"===t&&(h[t]=l(h[t],d))})):n.info("ui.sortable: ngModel not provided!",o),void o.sortable(h)):void n.error("ui.sortable: jQuery should be included before AngularJS!")}}}])}(),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){function t(e){if(o.raw)return e;try{return decodeURIComponent(e.replace(i," "))}catch(t){}}function n(e){0===e.indexOf('"')&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\")),e=t(e);try{return o.json?JSON.parse(e):e}catch(n){}}var i=/\+/g,o=e.cookie=function(i,a,r){if(void 0!==a){if(r=e.extend({},o.defaults,r),"number"==typeof r.expires){var l=r.expires,s=r.expires=new Date;s.setDate(s.getDate()+l)}return a=o.json?JSON.stringify(a):String(a),document.cookie=[o.raw?i:encodeURIComponent(i),"=",o.raw?a:encodeURIComponent(a),r.expires?"; expires="+r.expires.toUTCString():"",r.path?"; path="+r.path:"",r.domain?"; domain="+r.domain:"",r.secure?"; secure":""].join("")}for(var c=i?void 0:{},u=document.cookie?document.cookie.split("; "):[],p=0,d=u.length;p<d;p++){var f=u[p].split("="),h=t(f.shift()),g=f.join("=");if(i&&i===h){c=n(g);break}i||void 0===(g=n(g))||(c[h]=g)}return c};o.defaults={},e.removeCookie=function(t,n){return void 0!==e.cookie(t)&&(e.cookie(t,"",e.extend({},n,{expires:-1})),!0)}}),function(e,t){"use strict";e.ajaxPrefilter(function(e,t,n){if(e.iframe)return e.originalURL=e.url,"iframe"}),e.ajaxTransport("iframe",function(t,n,i){function o(){c.prop("disabled",!1),a.remove(),r.one("load",function(){r.remove()}),r.attr("src","javascript:false;")}var a=null,r=null,l="iframe-"+e.now(),s=e(t.files).filter(":file:enabled"),c=null,u=null;if(t.dataTypes.shift(),t.data=n.data,s.length)return a=e("<form enctype='multipart/form-data' method='post'></form>").hide().attr({action:t.originalURL,target:l}),"string"==typeof t.data&&t.data.length>0&&e.error("data must not be serialized"),e.each(t.data||{},function(t,n){e.isPlainObject(n)&&(t=n.name,n=n.value),e("<input type='hidden' />").attr({name:t,value:n}).appendTo(a)}),e("<input type='hidden' value='IFrame' name='X-Requested-With' />").appendTo(a),u=t.dataTypes[0]&&t.accepts[t.dataTypes[0]]?t.accepts[t.dataTypes[0]]+("*"!==t.dataTypes[0]?", */*; q=0.01":""):t.accepts["*"],e("<input type='hidden' name='X-HTTP-Accept'>").attr("value",u).appendTo(a),c=s.after(function(t){return e(this).clone().prop("disabled",!0)}).next(),s.appendTo(a),{send:function(t,n){r=e("<iframe src='javascript:false;' name='"+l+"' id='"+l+"' style='display:none'></iframe>"),r.one("load",function(){r.one("load",function(){var e=this.contentWindow?this.contentWindow.document:this.contentDocument?this.contentDocument:this.document,t=e.documentElement?e.documentElement:e.body,i=t.getElementsByTagName("textarea")[0],a=i&&i.getAttribute("data-type")||null,r=i&&i.getAttribute("data-status")||200,l=i&&i.getAttribute("data-statusText")||"OK",s={html:t.innerHTML,text:a?i.value:t?t.textContent||t.innerText:null};o(),n(r,l,s,a?"Content-Type: "+a:null)}),a[0].submit()}),e("body").append(a,r)},abort:function(){null!==r&&(r.unbind("load").attr("src","javascript:false;"),o())}}})}(jQuery),function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:i})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(t.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(i,o,function(t){return e[t]}.bind(null,o));return i},t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}n(1),n(6),n(7);var o=n(2),a=i(o),r=n(3),l=i(r),s=n(4),c=i(s);l["default"]===c["default"]&&n(8),window.Inputmask=a["default"]},function(e,t,n){"use strict";var i,o,a;"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(r){o=[n(2)],i=r,a="function"==typeof i?i.apply(t,o):i,!(void 0!==a&&(e.exports=a))}(function(e){return e.extendDefinitions({A:{validator:"[A-Za-zА-яЁёÀ-ÿµ]",casing:"upper"},"&":{validator:"[0-9A-Za-zА-яЁёÀ-ÿµ]",casing:"upper"},"#":{validator:"[0-9A-Fa-f]",casing:"upper"}}),e.extendAliases({cssunit:{regex:"[+-]?[0-9]+\\.?([0-9]+)?(px|em|rem|ex|%|in|cm|mm|pt|pc)"},url:{regex:"(https?|ftp)//.*",autoUnmask:!1},ip:{mask:"i[i[i]].i[i[i]].i[i[i]].i[i[i]]",definitions:{i:{validator:function(e,t,n,i,o){return n-1>-1&&"."!==t.buffer[n-1]?(e=t.buffer[n-1]+e,e=n-2>-1&&"."!==t.buffer[n-2]?t.buffer[n-2]+e:"0"+e):e="00"+e,new RegExp("25[0-5]|2[0-4][0-9]|[01][0-9][0-9]").test(e)}}},onUnMask:function(e,t,n){return e},inputmode:"numeric"},email:{mask:"*{1,64}[.*{1,64}][.*{1,64}][.*{1,63}]@-{1,63}.-{1,63}[.-{1,63}][.-{1,63}]",greedy:!1,casing:"lower",onBeforePaste:function(e,t){return e=e.toLowerCase(),e.replace("mailto:","")},definitions:{"*":{validator:"[0-9１-９A-Za-zА-яЁёÀ-ÿµ!#$%&'*+/=?^_`{|}~-]"},"-":{validator:"[0-9A-Za-z-]"}},onUnMask:function(e,t,n){return e},inputmode:"email"},mac:{mask:"##:##:##:##:##:##"},vin:{mask:"V{13}9{4}",definitions:{V:{validator:"[A-HJ-NPR-Za-hj-npr-z\\d]",casing:"upper"}},clearIncomplete:!0,autoUnmask:!0}}),e})},function(e,t,n){"use strict";var i,o,a,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(r){o=[n(3),n(5)],i=r,a="function"==typeof i?i.apply(t,o):i,!(void 0!==a&&(e.exports=a))}(function(e,t,n){function i(t,a,r){return this instanceof i?(this.el=n,this.events={},this.maskset=n,this.refreshValue=!1,void(r!==!0&&(e.isPlainObject(t)?a=t:(a=a||{},t&&(a.alias=t)),this.opts=e.extend(!0,{},this.defaults,a),this.noMasksCache=a&&a.definitions!==n,this.userOptions=a||{},this.isRTL=this.opts.numericInput,o(this.opts.alias,a,this.opts)))):new i(t,a,r)}function o(t,a,r){var l=i.prototype.aliases[t];return l?(l.alias&&o(l.alias,n,r),e.extend(!0,r,l),e.extend(!0,r,a),!0):(null===r.mask&&(r.mask=t),!1)}function a(t,o){function a(t,a,r){var l=!1;if(null!==t&&""!==t||(l=null!==r.regex,l?(t=r.regex,t=t.replace(/^(\^)(.*)(\$)$/,"$2")):(l=!0,t=".*")),1===t.length&&r.greedy===!1&&0!==r.repeat&&(r.placeholder=""),r.repeat>0||"*"===r.repeat||"+"===r.repeat){var s="*"===r.repeat?0:"+"===r.repeat?1:r.repeat;t=r.groupmarker[0]+t+r.groupmarker[1]+r.quantifiermarker[0]+s+","+r.repeat+r.quantifiermarker[1]}var c,u=l?"regex_"+r.regex:r.numericInput?t.split("").reverse().join(""):t;return i.prototype.masksCache[u]===n||o===!0?(c={
mask:t,maskToken:i.prototype.analyseMask(t,l,r),validPositions:{},_buffer:n,buffer:n,tests:{},excludes:{},metadata:a,maskLength:n,jitOffset:{}},o!==!0&&(i.prototype.masksCache[u]=c,c=e.extend(!0,{},i.prototype.masksCache[u]))):c=e.extend(!0,{},i.prototype.masksCache[u]),c}var r;if(e.isFunction(t.mask)&&(t.mask=t.mask(t)),e.isArray(t.mask)){if(t.mask.length>1){if(null===t.keepStatic){t.keepStatic="auto";for(var l=0;l<t.mask.length;l++)if(t.mask[l].charAt(0)!==t.mask[0].charAt(0)){t.keepStatic=!0;break}}var s=t.groupmarker[0];return e.each(t.isRTL?t.mask.reverse():t.mask,function(i,o){s.length>1&&(s+=t.groupmarker[1]+t.alternatormarker+t.groupmarker[0]),s+=o.mask===n||e.isFunction(o.mask)?o:o.mask}),s+=t.groupmarker[1],a(s,t.mask,t)}t.mask=t.mask.pop()}return r=t.mask&&t.mask.mask!==n&&!e.isFunction(t.mask.mask)?a(t.mask.mask,t.mask,t):a(t.mask,t.mask,t)}function l(e){var t=c.createElement("input"),n="on"+e,i=n in t;return i||(t.setAttribute(n,"return;"),i="function"==typeof t[n]),t=null,i}function s(o,a,u){function g(){return a}function m(e){var t=g();t.buffer=n,e!==!0&&(t.validPositions={},t.p=0)}function v(e,t,i){var o=-1,a=-1,r=i||g().validPositions;e===n&&(e=-1);for(var l in r){var s=parseInt(l);r[s]&&(t||r[s].generatedInput!==!0)&&(s<=e&&(o=s),s>=e&&(a=s))}return o===-1||o==e?a:a==-1?o:e-o<a-e?o:a}function b(e){var t=e.locator[e.alternation];return"string"==typeof t&&t.length>0&&(t=t.split(",")[0]),t!==n?t.toString():""}function y(e,t){var i=(e.alternation!=n?e.mloc[b(e)]:e.locator).join("");if(""!==i)for(;i.length<t;)i+="0";return i}function x(e,t){e=e>0?e-1:0;for(var i,o,a,r=k(e),l=y(r),s=0;s<t.length;s++){var c=t[s];i=y(c,l.length);var p=Math.abs(i-l);(o===n||""!==i&&p<o||a&&!u.greedy&&a.match.optionality&&"master"===a.match.newBlockMarker&&(!c.match.optionality||!c.match.newBlockMarker)||a&&a.match.optionalQuantifier&&!c.match.optionalQuantifier)&&(o=p,a=c)}return a}function w(e,t,n){return g().validPositions[e]||x(e,C(e,t?t.slice():t,n))}function k(e,t){return g().validPositions[e]?g().validPositions[e]:(t||C(e))[0]}function $(e,t){for(var n=!1,i=C(e),o=0;o<i.length;o++)if(i[o].match&&i[o].match.def===t){n=!0;break}return n}function C(t,i,o){function a(i,o,r,s){function p(r,s,m){function v(t,n){var i=0===e.inArray(t,n.matches);return i||e.each(n.matches,function(e,o){if(o.isQuantifier===!0?i=v(t,n.matches[e-1]):o.hasOwnProperty("matches")&&(i=v(t,o)),i)return!1}),i}function b(t,i,o){var a,r;if((g().tests[t]||g().validPositions[t])&&e.each(g().tests[t]||[g().validPositions[t]],function(e,t){if(t.mloc[i])return a=t,!1;var l=o!==n?o:t.alternation,s=t.locator[l]!==n?t.locator[l].toString().indexOf(i):-1;(r===n||s<r)&&s!==-1&&(a=t,r=s)}),a){var l=a.locator[a.alternation],s=a.mloc[i]||a.mloc[l]||a.locator;return s.slice((o!==n?o:a.alternation)+1)}return o!==n?b(t,i):n}function y(e,t){function n(e){for(var t,n,i=[],o=0,a=e.length;o<a;o++)if("-"===e.charAt(o))for(n=e.charCodeAt(o+1);++t<n;)i.push(String.fromCharCode(t));else t=e.charCodeAt(o),i.push(e.charAt(o));return i.join("")}return u.regex&&null!==e.match.fn&&null!==t.match.fn?n(t.match.def.replace(/[\[\]]/g,"")).indexOf(n(e.match.def.replace(/[\[\]]/g,"")))!==-1:e.match.def===t.match.nativeDef}function x(e,n){var i=e.locator.slice(e.alternation).join(""),o=n.locator.slice(n.alternation).join(""),a=i==o;return a=!(!a||null!==e.match.fn||null===n.match.fn)&&n.match.fn.test(e.match.def,g(),t,!1,u,!1)}function w(e,t){if(t===n||e.alternation===t.alternation&&e.locator[e.alternation].toString().indexOf(t.locator[t.alternation])===-1){e.mloc=e.mloc||{};var i=e.locator[e.alternation];if(i!==n){if("string"==typeof i&&(i=i.split(",")[0]),e.mloc[i]===n&&(e.mloc[i]=e.locator.slice()),t!==n){for(var o in t.mloc)"string"==typeof o&&(o=o.split(",")[0]),e.mloc[o]===n&&(e.mloc[o]=t.mloc[o]);e.locator[e.alternation]=Object.keys(e.mloc).join(",")}return!0}e.alternation=n}return!1}if(c>500&&m!==n)throw"Inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. "+g().mask;if(c===t&&r.matches===n)return d.push({match:r,locator:s.reverse(),cd:h,mloc:{}}),!0;if(r.matches!==n){if(r.isGroup&&m!==r){if(r=p(i.matches[e.inArray(r,i.matches)+1],s,m))return!0}else if(r.isOptional){var k=r;if(r=a(r,o,s,m)){if(e.each(d,function(e,t){t.match.optionality=!0}),l=d[d.length-1].match,m!==n||!v(l,k))return!0;f=!0,c=t}}else if(r.isAlternator){var $,C=r,S=[],T=d.slice(),P=s.length,A=o.length>0?o.shift():-1;if(A===-1||"string"==typeof A){var D,E=c,M=o.slice(),O=[];if("string"==typeof A)O=A.split(",");else for(D=0;D<C.matches.length;D++)O.push(D.toString());if(g().excludes[t]){for(var _=O.slice(),I=0,R=g().excludes[t].length;I<R;I++)O.splice(O.indexOf(g().excludes[t][I].toString()),1);0===O.length&&(g().excludes[t]=n,O=_)}(u.keepStatic===!0||isFinite(parseInt(u.keepStatic))&&E>=u.keepStatic)&&(O=O.slice(0,1));for(var L=!1,N=0;N<O.length;N++){D=parseInt(O[N]),d=[],o="string"==typeof A?b(c,D,P)||M.slice():M.slice(),C.matches[D]&&p(C.matches[D],[D].concat(s),m)?r=!0:0===N&&(L=!0),$=d.slice(),c=E,d=[];for(var H=0;H<$.length;H++){var F=$[H],j=!1;F.match.jit=F.match.jit||L,F.alternation=F.alternation||P,w(F);for(var G=0;G<S.length;G++){var q=S[G];if("string"!=typeof A||F.alternation!==n&&e.inArray(F.locator[F.alternation].toString(),O)!==-1){if(F.match.nativeDef===q.match.nativeDef){j=!0,w(q,F);break}if(y(F,q)){w(F,q)&&(j=!0,S.splice(S.indexOf(q),0,F));break}if(y(q,F)){w(q,F);break}if(x(F,q)){w(F,q)&&(j=!0,S.splice(S.indexOf(q),0,F));break}}}j||S.push(F)}}d=T.concat(S),c=t,f=d.length>0,r=S.length>0,o=M.slice()}else r=p(C.matches[A]||i.matches[A],[A].concat(s),m);if(r)return!0}else if(r.isQuantifier&&m!==i.matches[e.inArray(r,i.matches)-1])for(var z=r,B=o.length>0?o.shift():0;B<(isNaN(z.quantifier.max)?B+1:z.quantifier.max)&&c<=t;B++){var U=i.matches[e.inArray(z,i.matches)-1];if(r=p(U,[B].concat(s),U)){if(l=d[d.length-1].match,l.optionalQuantifier=B>=z.quantifier.min,l.jit=(B||1)*U.matches.indexOf(l)>=z.quantifier.jit,l.optionalQuantifier&&v(l,U)){f=!0,c=t;break}return l.jit&&(g().jitOffset[t]=U.matches.indexOf(l)),!0}}else if(r=a(r,o,s,m))return!0}else c++}for(var m=o.length>0?o.shift():0;m<i.matches.length;m++)if(i.matches[m].isQuantifier!==!0){var v=p(i.matches[m],[m].concat(r),s);if(v&&c===t)return v;if(c>t)break}}function r(t,i){var o=[];return e.isArray(i)||(i=[i]),i.length>0&&(i[0].alternation===n?(o=x(t,i.slice()).locator.slice(),0===o.length&&(o=i[0].locator.slice())):e.each(i,function(e,t){if(""!==t.def)if(0===o.length)o=t.locator.slice();else for(var n=0;n<o.length;n++)t.locator[n]&&o[n].toString().indexOf(t.locator[n])===-1&&(o[n]+=","+t.locator[n])})),o}var l,s=g().maskToken,c=i?o:0,p=i?i.slice():[0],d=[],f=!1,h=i?i.join(""):"";if(t>-1){if(i===n){for(var m,v=t-1;(m=g().validPositions[v]||g().tests[v])===n&&v>-1;)v--;m!==n&&v>-1&&(p=r(v,m),h=p.join(""),c=v)}if(g().tests[t]&&g().tests[t][0].cd===h)return g().tests[t];for(var b=p.shift();b<s.length;b++){var y=a(s[b],p,[b]);if(y&&c===t||c>t)break}}return(0===d.length||f)&&d.push({match:{fn:null,optionality:!1,casing:null,def:"",placeholder:""},locator:[],mloc:{},cd:h}),i!==n&&g().tests[t]?e.extend(!0,[],d):(g().tests[t]=e.extend(!0,[],d),g().tests[t])}function S(){return g()._buffer===n&&(g()._buffer=ce(!1,1),g().buffer===n&&(g().buffer=g()._buffer.slice())),g()._buffer}function T(e){return g().buffer!==n&&e!==!0||(g().buffer=ce(!0,v(),!0),g()._buffer===n&&(g()._buffer=g().buffer.slice())),g().buffer}function P(e,t,i){var o,a;if(e===!0)m(),e=0,t=i.length;else for(o=e;o<t;o++)delete g().validPositions[o];for(a=e,o=e;o<t;o++)if(m(!0),i[o]!==u.skipOptionalPartCharacter){var r=M(a,i[o],!0,!0);r!==!1&&(m(!0),a=r.caret!==n?r.caret:r.pos+1)}}function A(t,n,o){switch(u.casing||n.casing){case"upper":t=t.toUpperCase();break;case"lower":t=t.toLowerCase();break;case"title":var a=g().validPositions[o-1];t=0===o||a&&a.input===String.fromCharCode(i.keyCode.SPACE)?t.toUpperCase():t.toLowerCase();break;default:if(e.isFunction(u.casing)){var r=Array.prototype.slice.call(arguments);r.push(g().validPositions),t=u.casing.apply(this,r)}}return t}function D(t,i,o){for(var a,r=u.greedy?i:i.slice(0,1),l=!1,s=o!==n?o.split(","):[],c=0;c<s.length;c++)(a=t.indexOf(s[c]))!==-1&&t.splice(a,1);for(var p=0;p<t.length;p++)if(e.inArray(t[p],r)!==-1){l=!0;break}return l}function E(t,i,o,a,r){var l,s,c,u,p,d,f,h=e.extend(!0,{},g().validPositions),y=!1,x=r!==n?r:v();if(x===-1&&r===n)l=0,u=k(l),s=u.alternation;else for(;x>=0;x--)if(c=g().validPositions[x],c&&c.alternation!==n){if(u&&u.locator[c.alternation]!==c.locator[c.alternation])break;l=x,s=g().validPositions[l].alternation,u=c}if(s!==n){f=parseInt(l),g().excludes[f]=g().excludes[f]||[],t!==!0&&g().excludes[f].push(b(u));var w=[],$=0;for(p=f;p<v(n,!0)+1;p++)d=g().validPositions[p],d&&d.generatedInput!==!0?w.push(d.input):p<t&&$++,delete g().validPositions[p];for(;g().excludes[f]&&g().excludes[f].length<10;){var C=$*-1,S=w.slice();for(g().tests[f]=n,m(!0),y=!0;S.length>0;){var T=S.shift();if(!(y=M(v(n,!0)+1,T,!1,a,!0)))break}if(y&&i!==n){var P=v(t)+1;for(p=f;p<v()+1;p++)d=g().validPositions[p],(d===n||null==d.match.fn)&&p<t+C&&C++;t+=C,y=M(t>P?P:t,i,o,a,!0)}if(y)break;if(m(),u=k(f),g().validPositions=e.extend(!0,{},h),!g().excludes[f]){y=E(t,i,o,a,f-1);break}var A=b(u);if(g().excludes[f].indexOf(A)!==-1){y=E(t,i,o,a,f-1);break}for(g().excludes[f].push(A),p=f;p<v(n,!0)+1;p++)delete g().validPositions[p]}}return g().excludes[f]=n,y}function M(t,i,o,a,r,l){function s(e){return oe?e.begin-e.end>1||e.begin-e.end===1:e.end-e.begin>1||e.end-e.begin===1}function c(i,o,r){var l=!1;return e.each(C(i),function(c,p){var d=p.match;if(T(!0),l=null!=d.fn?d.fn.test(o,g(),i,r,u,s(t)):(o===d.def||o===u.skipOptionalPartCharacter)&&""!==d.def&&{c:H(i,d,!0)||d.def,pos:i},l!==!1){var f=l.c!==n?l.c:o,h=i;return f=f===u.skipOptionalPartCharacter&&null===d.fn?H(i,d,!0)||d.def:f,l.remove!==n&&(e.isArray(l.remove)||(l.remove=[l.remove]),e.each(l.remove.sort(function(e,t){return t-e}),function(e,t){_({begin:t,end:t+1})})),l.insert!==n&&(e.isArray(l.insert)||(l.insert=[l.insert]),e.each(l.insert.sort(function(e,t){return e-t}),function(e,t){M(t.pos,t.c,!0,a)})),l!==!0&&l.pos!==n&&l.pos!==i&&(h=l.pos),(l===!0||l.pos!==n||l.c!==n)&&(_(t,e.extend({},p,{input:A(f,d,h)}),a,h)||(l=!1),!1)}}),l}o=o===!0;var p=t;t.begin!==n&&(p=oe?t.end:t.begin);var d=!0,f=e.extend(!0,{},g().validPositions);if(e.isFunction(u.preValidation)&&!o&&a!==!0&&l!==!0&&(d=u.preValidation(T(),p,i,s(t),u,g())),d===!0){if(O(n,p,!0),(Q===n||p<Q)&&(d=c(p,i,o),(!o||a===!0)&&d===!1&&l!==!0)){var h=g().validPositions[p];if(!h||null!==h.match.fn||h.match.def!==i&&i!==u.skipOptionalPartCharacter){if((u.insertMode||g().validPositions[R(p)]===n)&&(!I(p,!0)||g().jitOffset[p]))if(g().jitOffset[p]&&g().validPositions[R(p)]===n)d=M(p+g().jitOffset[p],i,o),d!==!1&&(d.caret=p);else for(var v=p+1,b=R(p);v<=b;v++)if(d=c(v,i,o),d!==!1){d=O(p,d.pos!==n?d.pos:v)||d,p=v;break}}else d={caret:R(p)}}d!==!1||u.keepStatic===!1||null!=u.regex&&!U(T())||o||r===!0||(d=E(p,i,o,a)),d===!0&&(d={pos:p})}if(e.isFunction(u.postValidation)&&d!==!1&&!o&&a!==!0&&l!==!0){var y=u.postValidation(T(!0),t.begin!==n?oe?t.end:t.begin:t,d,u);if(y!==n){if(y.refreshFromBuffer&&y.buffer){var x=y.refreshFromBuffer;P(x===!0?x:x.start,x.end,y.buffer)}d=y===!0?d:y}}return d&&d.pos===n&&(d.pos=p),d!==!1&&l!==!0||(m(!0),g().validPositions=e.extend(!0,{},f)),d}function O(t,i,o){var a;if(t===n)for(t=i-1;t>0&&!g().validPositions[t];t--);for(var r=t;r<i;r++)if(g().validPositions[r]===n&&!I(r,!0)){var l=0==r?k(r):g().validPositions[r-1];if(l){var s=C(r).slice();""===s[s.length-1].match.def&&s.pop();var c=x(r,s);if(c=e.extend({},c,{input:H(r,c.match,!0)||c.match.def}),c.generatedInput=!0,_(r,c,!0),o!==!0){var u=g().validPositions[i].input;g().validPositions[i]=n,a=M(i,u,!0,!0)}}}return a}function _(t,i,o,a){function r(e,t,i){var o=t[e];if(o!==n&&(null===o.match.fn&&o.match.optionality!==!0||o.input===u.radixPoint)){var a=i.begin<=e-1?t[e-1]&&null===t[e-1].match.fn&&t[e-1]:t[e-1],r=i.end>e+1?t[e+1]&&null===t[e+1].match.fn&&t[e+1]:t[e+1];return a&&r}return!1}var l=t.begin!==n?t.begin:t,s=t.end!==n?t.end:t;if(t.begin>t.end&&(l=t.end,s=t.begin),a=a!==n?a:l,l!==s||u.insertMode&&g().validPositions[a]!==n&&o===n){var c,p=e.extend(!0,{},g().validPositions),d=v(n,!0);for(g().p=l,c=d;c>=l;c--)g().validPositions[c]&&"+"===g().validPositions[c].match.nativeDef&&(u.isNegative=!1),delete g().validPositions[c];var f=!0,h=a,b=(g().validPositions,!1),y=h,c=h;for(i&&(g().validPositions[a]=e.extend(!0,{},i),y++,h++,l<s&&c++);c<=d;c++){var x=p[c];if(x!==n&&(c>=s||c>=l&&x.generatedInput!==!0&&r(c,p,{begin:l,end:s}))){for(;""!==k(y).match.def;){if(b===!1&&p[y]&&p[y].match.nativeDef===x.match.nativeDef)g().validPositions[y]=e.extend(!0,{},p[y]),g().validPositions[y].input=x.input,O(n,y,!0),h=y+1,f=!0;else if(u.shiftPositions&&$(y,x.match.def)){var w=M(y,x.input,!0,!0);f=w!==!1,h=w.caret||w.insert?v():y+1,b=!0}else f=x.generatedInput===!0||x.input===u.radixPoint&&u.numericInput===!0;if(f)break;if(!f&&y>s&&I(y,!0)&&(null!==x.match.fn||y>g().maskLength))break;y++}""==k(y).match.def&&(f=!1),y=h}if(!f)break}if(!f)return g().validPositions=e.extend(!0,{},p),m(!0),!1}else i&&(g().validPositions[a]=e.extend(!0,{},i));return m(!0),!0}function I(e,t){var n=w(e).match;if(""===n.def&&(n=k(e).match),null!=n.fn)return n.fn;if(t!==!0&&e>-1){var i=C(e);return i.length>1+(""===i[i.length-1].match.def?1:0)}return!1}function R(e,t){for(var n=e+1;""!==k(n).match.def&&(t===!0&&(k(n).match.newBlockMarker!==!0||!I(n))||t!==!0&&!I(n));)n++;return n}function L(e,t){var n,i=e;if(i<=0)return 0;for(;--i>0&&(t===!0&&k(i).match.newBlockMarker!==!0||t!==!0&&!I(i)&&(n=C(i),n.length<2||2===n.length&&""===n[1].match.def)););return i}function N(t,i,o,a,r){if(a&&e.isFunction(u.onBeforeWrite)){var l=u.onBeforeWrite.call(ne,a,i,o,u);if(l){if(l.refreshFromBuffer){var s=l.refreshFromBuffer;P(s===!0?s:s.start,s.end,l.buffer||i),i=T(!0)}o!==n&&(o=l.caret!==n?l.caret:o)}}if(t!==n&&(t.inputmask._valueSet(i.join("")),o===n||a!==n&&"blur"===a.type?Y(t,o,0===i.length):q(t,o),r===!0)){var c=e(t),p=t.inputmask._valueGet();re=!0,c.trigger("input"),setTimeout(function(){p===S().join("")?c.trigger("cleared"):U(i)===!0&&c.trigger("complete")},0)}}function H(t,i,o){if(i=i||k(t).match,i.placeholder!==n||o===!0)return e.isFunction(i.placeholder)?i.placeholder(u):i.placeholder;if(null===i.fn){if(t>-1&&g().validPositions[t]===n){var a,r=C(t),l=[];if(r.length>1+(""===r[r.length-1].match.def?1:0))for(var s=0;s<r.length;s++)if(r[s].match.optionality!==!0&&r[s].match.optionalQuantifier!==!0&&(null===r[s].match.fn||a===n||r[s].match.fn.test(a.match.def,g(),t,!0,u)!==!1)&&(l.push(r[s]),null===r[s].match.fn&&(a=r[s]),l.length>1&&/[0-9a-bA-Z]/.test(l[0].match.def)))return u.placeholder.charAt(t%u.placeholder.length)}return i.def}return u.placeholder.charAt(t%u.placeholder.length)}function F(e,t){if(p){if(e.inputmask._valueGet()!==t&&(e.placeholder!==t||""===e.placeholder)){var n=T().slice(),i=e.inputmask._valueGet();if(i!==t){var o=v();o===-1&&i===S().join("")?n=[]:o!==-1&&B(n),N(e,n)}}}else e.placeholder!==t&&(e.placeholder=t,""===e.placeholder&&e.removeAttribute("placeholder"))}function j(t,o,a,r,l){function s(e,t){var n=ce(!0,0,!1).slice(e,R(e)).join("").replace(/'/g,"").indexOf(t);return n!==-1&&!I(e)&&(k(e).match.nativeDef===t.charAt(0)||null===k(e).match.fn&&k(e).match.nativeDef==="'"+t.charAt(0)||" "===k(e).match.nativeDef&&(k(e+1).match.nativeDef===t.charAt(0)||null===k(e+1).match.fn&&k(e+1).match.nativeDef==="'"+t.charAt(0)))}var c=this||t.inputmask,p=r.slice(),d="",f=-1,h=n;if(m(),a||u.autoUnmask===!0)f=R(f);else{var b=S().slice(0,R(-1)).join(""),y=p.join("").match(new RegExp("^"+i.escapeRegex(b),"g"));y&&y.length>0&&(p.splice(0,y.length*b.length),f=R(f))}f===-1?(g().p=R(f),f=0):g().p=f,c.caretPos={begin:f},e.each(p,function(i,o){if(o!==n)if(g().validPositions[i]===n&&p[i]===H(i)&&I(i,!0)&&M(i,p[i],!0,n,n,!0)===!1)g().p++;else{var r=new e.Event("_checkval");r.which=o.charCodeAt(0),d+=o;var l=v(n,!0);s(f,d)?h=pe.keypressEvent.call(t,r,!0,!1,a,l+1):(h=pe.keypressEvent.call(t,r,!0,!1,a,c.caretPos.begin),h&&(f=c.caretPos.begin+1,d="")),h&&(N(n,T(),h.forwardPosition,r,!1),c.caretPos={begin:h.forwardPosition,end:h.forwardPosition})}}),o&&N(t,T(),h?h.forwardPosition:n,l||new e.Event("checkval"),l&&"input"===l.type)}function G(t){if(t){if(t.inputmask===n)return t.value;t.inputmask&&t.inputmask.refreshValue&&pe.setValueEvent.call(t)}var i=[],o=g().validPositions;for(var a in o)o[a].match&&null!=o[a].match.fn&&i.push(o[a].input);var r=0===i.length?"":(oe?i.reverse():i).join("");if(e.isFunction(u.onUnMask)){var l=(oe?T().slice().reverse():T()).join("");r=u.onUnMask.call(ne,l,r,u)}return r}function q(i,o,a,r){function l(e){return!oe||"number"!=typeof e||u.greedy&&""===u.placeholder||!ie||(e=ie.inputmask._valueGet().length-e),e}var s;if(o===n)return"selectionStart"in i?(o=i.selectionStart,a=i.selectionEnd):t.getSelection?(s=t.getSelection().getRangeAt(0),s.commonAncestorContainer.parentNode!==i&&s.commonAncestorContainer!==i||(o=s.startOffset,a=s.endOffset)):c.selection&&c.selection.createRange&&(s=c.selection.createRange(),o=0-s.duplicate().moveStart("character",-i.inputmask._valueGet().length),a=o+s.text.length),{begin:r?o:l(o),end:r?a:l(a)};if(e.isArray(o)&&(a=oe?o[0]:o[1],o=oe?o[1]:o[0]),o.begin!==n&&(a=oe?o.begin:o.end,o=oe?o.end:o.begin),"number"==typeof o){o=r?o:l(o),a=r?a:l(a),a="number"==typeof a?a:o;var p=parseInt(((i.ownerDocument.defaultView||t).getComputedStyle?(i.ownerDocument.defaultView||t).getComputedStyle(i,null):i.currentStyle).fontSize)*a;if(i.scrollLeft=p>i.scrollWidth?p:0,i.inputmask.caretPos={begin:o,end:a},i===c.activeElement){if("selectionStart"in i)i.selectionStart=o,i.selectionEnd=a;else if(t.getSelection){if(s=c.createRange(),i.firstChild===n||null===i.firstChild){var d=c.createTextNode("");i.appendChild(d)}s.setStart(i.firstChild,o<i.inputmask._valueGet().length?o:i.inputmask._valueGet().length),s.setEnd(i.firstChild,a<i.inputmask._valueGet().length?a:i.inputmask._valueGet().length),s.collapse(!0);var f=t.getSelection();f.removeAllRanges(),f.addRange(s)}else i.createTextRange&&(s=i.createTextRange(),s.collapse(!0),s.moveEnd("character",a),s.moveStart("character",o),s.select());Y(i,{begin:o,end:a})}}}function z(t){var i,o,a=ce(!0,v(),!0,!0),r=a.length,l=v(),s={},c=g().validPositions[l],u=c!==n?c.locator.slice():n;for(i=l+1;i<a.length;i++)o=w(i,u,i-1),u=o.locator.slice(),s[i]=e.extend(!0,{},o);var p=c&&c.alternation!==n?c.locator[c.alternation]:n;for(i=r-1;i>l&&(o=s[i],(o.match.optionality||o.match.optionalQuantifier&&o.match.newBlockMarker||p&&(p!==s[i].locator[c.alternation]&&null!=o.match.fn||null===o.match.fn&&o.locator[c.alternation]&&D(o.locator[c.alternation].toString().split(","),p.toString().split(","))&&""!==C(i)[0].def))&&a[i]===H(i,o.match));i--)r--;return t?{l:r,def:s[r]?s[r].match:n}:r}function B(e){e.length=0;for(var t,i=ce(!0,0,!0,n,!0);t=i.shift(),t!==n;)e.push(t);return e}function U(t){if(e.isFunction(u.isComplete))return u.isComplete(t,u);if("*"===u.repeat)return n;var i=!1,o=z(!0),a=L(o.l);if(o.def===n||o.def.newBlockMarker||o.def.optionality||o.def.optionalQuantifier){i=!0;for(var r=0;r<=a;r++){var l=w(r).match;if(null!==l.fn&&g().validPositions[r]===n&&l.optionality!==!0&&l.optionalQuantifier!==!0||null===l.fn&&t[r]!==H(r,l)){i=!1;break}}}return i}function V(e,t,o,a,r){if((u.numericInput||oe)&&(t===i.keyCode.BACKSPACE?t=i.keyCode.DELETE:t===i.keyCode.DELETE&&(t=i.keyCode.BACKSPACE),oe)){var l=o.end;o.end=o.begin,o.begin=l}if(t===i.keyCode.BACKSPACE&&o.end-o.begin<1?(o.begin=L(o.begin),g().validPositions[o.begin]!==n&&g().validPositions[o.begin].input===u.groupSeparator&&o.begin--):t===i.keyCode.DELETE&&o.begin===o.end&&(o.end=I(o.end,!0)&&g().validPositions[o.end]&&g().validPositions[o.end].input!==u.radixPoint?o.end+1:R(o.end)+1,g().validPositions[o.begin]!==n&&g().validPositions[o.begin].input===u.groupSeparator&&o.end++),_(o),a!==!0&&u.keepStatic!==!1||null!==u.regex){var s=E(!0);if(s){var c=s.caret!==n?s.caret:s.pos?R(s.pos.begin?s.pos.begin:s.pos):v(-1,!0);(t!==i.keyCode.DELETE||o.begin>c)&&o.begin==c}}var p=v(o.begin,!0);if(p<o.begin||o.begin===-1)g().p=R(p);else if(a!==!0&&(g().p=o.begin,r!==!0))for(;g().p<p&&g().validPositions[g().p]===n;)g().p++}function W(n){function i(e){var t,i=c.createElement("span");for(var a in o)isNaN(a)&&a.indexOf("font")!==-1&&(i.style[a]=o[a]);i.style.textTransform=o.textTransform,i.style.letterSpacing=o.letterSpacing,i.style.position="absolute",i.style.height="auto",i.style.width="auto",i.style.visibility="hidden",i.style.whiteSpace="nowrap",c.body.appendChild(i);var r,l=n.inputmask._valueGet(),s=0;for(t=0,r=l.length;t<=r;t++){if(i.innerHTML+=l.charAt(t)||"_",i.offsetWidth>=e){var u=e-s,p=i.offsetWidth-e;i.innerHTML=l.charAt(t),u-=i.offsetWidth/3,t=u<p?t-1:t;break}s=i.offsetWidth}return c.body.removeChild(i),t}var o=(n.ownerDocument.defaultView||t).getComputedStyle(n,null),a=c.createElement("div");a.style.width=o.width,a.style.textAlign=o.textAlign,Z=c.createElement("div"),n.inputmask.colorMask=Z,Z.className="im-colormask",n.parentNode.insertBefore(Z,n),n.parentNode.removeChild(n),Z.appendChild(n),Z.appendChild(a),n.style.left=a.offsetLeft+"px",e(Z).on("mouseleave",function(e){return pe.mouseleaveEvent.call(n,[e])}),e(Z).on("mouseenter",function(e){return pe.mouseenterEvent.call(n,[e])}),e(Z).on("click",function(e){return q(n,i(e.clientX)),pe.clickEvent.call(n,[e])})}function Y(e,t,i){function o(e){if(e===n&&(e=""),d||null!==r.fn&&l.input!==n)if(d&&(null!==r.fn&&l.input!==n||""===r.def)){d=!1;var t=p.length;p[t-1]=p[t-1]+"</span>",p.push(e)}else p.push(e);else d=!0,p.push("<span class='im-static'>"+e)}function a(){c.activeElement===e&&(p.splice(t.begin,0,t.begin===t.end||t.end>g().maskLength?'<mark class="im-caret" style="border-right-width: 1px;border-right-style: solid;">':'<mark class="im-caret-select">'),p.splice(t.end+1,0,"</mark>"))}var r,l,s,p=[],d=!1,f=0;if(Z!==n){var h=T();if(t===n?t=q(e):t.begin===n&&(t={begin:t,end:t}),i!==!0){var m=v();do g().validPositions[f]?(l=g().validPositions[f],r=l.match,s=l.locator.slice(),o(h[f])):(l=w(f,s,f-1),r=l.match,s=l.locator.slice(),u.jitMasking===!1||f<m||"number"==typeof u.jitMasking&&isFinite(u.jitMasking)&&u.jitMasking>f?o(H(f,r)):d=!1),f++;while((Q===n||f<Q)&&(null!==r.fn||""!==r.def)||m>f||d);d&&o(),a()}var b=Z.getElementsByTagName("div")[0];b.innerHTML=p.join(""),e.inputmask.positionColorMask(e,b)}}function X(t){function i(t,i){function o(t){function o(t){if(e.valHooks&&(e.valHooks[t]===n||e.valHooks[t].inputmaskpatch!==!0)){var o=e.valHooks[t]&&e.valHooks[t].get?e.valHooks[t].get:function(e){return e.value},a=e.valHooks[t]&&e.valHooks[t].set?e.valHooks[t].set:function(e,t){return e.value=t,e};e.valHooks[t]={get:function(e){if(e.inputmask){if(e.inputmask.opts.autoUnmask)return e.inputmask.unmaskedvalue();var t=o(e);return v(n,n,e.inputmask.maskset.validPositions)!==-1||i.nullable!==!0?t:""}return o(e)},set:function(t,n){var i,o=e(t);return i=a(t,n),t.inputmask&&o.trigger("setvalue",[n]),i},inputmaskpatch:!0}}}function a(){return this.inputmask?this.inputmask.opts.autoUnmask?this.inputmask.unmaskedvalue():v()!==-1||i.nullable!==!0?c.activeElement===this&&i.clearMaskOnLostFocus?(oe?B(T().slice()).reverse():B(T().slice())).join(""):u.call(this):"":u.call(this)}function l(t){p.call(this,t),this.inputmask&&e(this).trigger("setvalue",[t])}function s(t){ue.on(t,"mouseenter",function(t){var n=e(this),i=this,o=i.inputmask._valueGet();o!==T().join("")&&n.trigger("setvalue")})}var u,p;if(!t.inputmask.__valueGet){if(i.noValuePatching!==!0){if(Object.getOwnPropertyDescriptor){"function"!=typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===r("test".__proto__)?function(e){return e.__proto__}:function(e){return e.constructor.prototype});var d=Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(t),"value"):n;d&&d.get&&d.set?(u=d.get,p=d.set,Object.defineProperty(t,"value",{get:a,set:l,configurable:!0})):"INPUT"!==t.tagName&&(u=function(){return this.textContent},p=function(e){this.textContent=e},Object.defineProperty(t,"value",{get:a,set:l,configurable:!0}))}else c.__lookupGetter__&&t.__lookupGetter__("value")&&(u=t.__lookupGetter__("value"),p=t.__lookupSetter__("value"),t.__defineGetter__("value",a),t.__defineSetter__("value",l));t.inputmask.__valueGet=u,t.inputmask.__valueSet=p}t.inputmask._valueGet=function(e){return oe&&e!==!0?u.call(this.el).split("").reverse().join(""):u.call(this.el)},t.inputmask._valueSet=function(e,t){p.call(this.el,null===e||e===n?"":t!==!0&&oe?e.split("").reverse().join(""):e)},u===n&&(u=function(){return this.value},p=function(e){this.value=e},o(t.type),s(t))}}var a=t.getAttribute("type"),l="INPUT"===t.tagName&&e.inArray(a,i.supportsInputType)!==-1||t.isContentEditable||"TEXTAREA"===t.tagName;if(!l)if("INPUT"===t.tagName){var s=c.createElement("input");s.setAttribute("type",a),l="text"===s.type,s=null}else l="partial";return l!==!1?o(t):t.inputmask=n,l}ue.off(t);var o=i(t,u);if(o!==!1&&(ie=t,J=e(ie),ee=ie.placeholder,Q=ie!==n?ie.maxLength:n,Q===-1&&(Q=n),u.colorMask===!0&&W(ie),d&&("inputMode"in ie&&(ie.inputmode=u.inputmode,ie.setAttribute("inputmode",u.inputmode)),u.disablePredictiveText===!0&&("autocorrect"in ie?ie.autocorrect=!1:(u.colorMask!==!0&&W(ie),ie.type="password"))),o===!0&&(ie.setAttribute("im-insert",u.insertMode),ue.on(ie,"submit",pe.submitEvent),ue.on(ie,"reset",pe.resetEvent),ue.on(ie,"blur",pe.blurEvent),ue.on(ie,"focus",pe.focusEvent),u.colorMask!==!0&&(ue.on(ie,"click",pe.clickEvent),ue.on(ie,"mouseleave",pe.mouseleaveEvent),ue.on(ie,"mouseenter",pe.mouseenterEvent)),ue.on(ie,"paste",pe.pasteEvent),ue.on(ie,"cut",pe.cutEvent),ue.on(ie,"complete",u.oncomplete),ue.on(ie,"incomplete",u.onincomplete),ue.on(ie,"cleared",u.oncleared),d||u.inputEventOnly===!0?ie.removeAttribute("maxLength"):(ue.on(ie,"keydown",pe.keydownEvent),ue.on(ie,"keypress",pe.keypressEvent)),ue.on(ie,"input",pe.inputFallBackEvent),ue.on(ie,"beforeinput",pe.beforeInputEvent)),ue.on(ie,"setvalue",pe.setValueEvent),K=S().join(""),""!==ie.inputmask._valueGet(!0)||u.clearMaskOnLostFocus===!1||c.activeElement===ie)){var a=e.isFunction(u.onBeforeMask)?u.onBeforeMask.call(ne,ie.inputmask._valueGet(!0),u)||ie.inputmask._valueGet(!0):ie.inputmask._valueGet(!0);""!==a&&j(ie,!0,!1,a.split(""));var l=T().slice();K=l.join(""),U(l)===!1&&u.clearIncomplete&&m(),u.clearMaskOnLostFocus&&c.activeElement!==ie&&(v()===-1?l=[]:B(l)),(u.clearMaskOnLostFocus===!1||u.showMaskOnFocus&&c.activeElement===ie||""!==ie.inputmask._valueGet(!0))&&N(ie,l),c.activeElement===ie&&q(ie,R(v()))}}a=a||this.maskset,u=u||this.opts;var K,J,Q,Z,ee,te,ne=this,ie=this.el,oe=this.isRTL,ae=!1,re=!1,le=!1,se=!1,ce=function(e,t,i,o,a){var r=u.greedy;a&&(u.greedy=!1),t=t||0;var l,s,c,p=[],d=0;v();do{if(e===!0&&g().validPositions[d])c=a&&g().validPositions[d].match.optionality===!0&&g().validPositions[d+1]===n&&(g().validPositions[d].generatedInput===!0||g().validPositions[d].input==u.skipOptionalPartCharacter&&d>0)?x(d,C(d,l,d-1)):g().validPositions[d],s=c.match,l=c.locator.slice(),p.push(i===!0?c.input:i===!1?s.nativeDef:H(d,s));else{c=w(d,l,d-1),s=c.match,l=c.locator.slice();var f=o!==!0&&(u.jitMasking!==!1?u.jitMasking:s.jit);(f===!1||f===n||"number"==typeof f&&isFinite(f)&&f>d)&&p.push(i===!1?s.nativeDef:H(d,s))}"auto"===u.keepStatic&&s.newBlockMarker&&null!==s.fn&&(u.keepStatic=d-1),d++}while((Q===n||d<Q)&&(null!==s.fn||""!==s.def)||t>d);return""===p[p.length-1]&&p.pop(),i===!1&&g().maskLength!==n||(g().maskLength=d-1),u.greedy=r,p},ue={on:function(t,o,a){var r=function(t){var o=this;if(o.inputmask===n&&"FORM"!==this.nodeName){var r=e.data(o,"_inputmask_opts");r?new i(r).mask(o):ue.off(o)}else{if("setvalue"===t.type||"FORM"===this.nodeName||!(o.disabled||o.readOnly&&!("keydown"===t.type&&t.ctrlKey&&67===t.keyCode||u.tabThrough===!1&&t.keyCode===i.keyCode.TAB))){switch(t.type){case"input":if(re===!0)return re=!1,t.preventDefault();if(d){var l=arguments;return setTimeout(function(){a.apply(o,l),q(o,o.inputmask.caretPos,n,!0)},0),!1}break;case"keydown":ae=!1,re=!1;break;case"keypress":if(ae===!0)return t.preventDefault();ae=!0;break;case"click":if(f||h){var l=arguments;return setTimeout(function(){a.apply(o,l)},0),!1}}var s=a.apply(o,arguments);return s===!1&&(t.preventDefault(),t.stopPropagation()),s}t.preventDefault()}};t.inputmask.events[o]=t.inputmask.events[o]||[],t.inputmask.events[o].push(r),e.inArray(o,["submit","reset"])!==-1?null!==t.form&&e(t.form).on(o,r):e(t).on(o,r)},off:function(t,n){if(t.inputmask&&t.inputmask.events){var i;n?(i=[],i[n]=t.inputmask.events[n]):i=t.inputmask.events,e.each(i,function(n,i){for(;i.length>0;){var o=i.pop();e.inArray(n,["submit","reset"])!==-1?null!==t.form&&e(t.form).off(n,o):e(t).off(n,o)}delete t.inputmask.events[n]})}}},pe={keydownEvent:function(t){var n=this,o=e(n),a=t.keyCode,r=q(n);if(a===i.keyCode.BACKSPACE||a===i.keyCode.DELETE||h&&a===i.keyCode.BACKSPACE_SAFARI||t.ctrlKey&&a===i.keyCode.X&&!l("cut"))t.preventDefault(),V(n,a,r),N(n,T(!0),g().p,t,n.inputmask._valueGet()!==T().join(""));else if(a===i.keyCode.END||a===i.keyCode.PAGE_DOWN){t.preventDefault();var s=R(v());q(n,t.shiftKey?r.begin:s,s,!0)}else a===i.keyCode.HOME&&!t.shiftKey||a===i.keyCode.PAGE_UP?(t.preventDefault(),q(n,0,t.shiftKey?r.begin:0,!0)):(u.undoOnEscape&&a===i.keyCode.ESCAPE||90===a&&t.ctrlKey)&&t.altKey!==!0?(j(n,!0,!1,K.split("")),o.trigger("click")):a!==i.keyCode.INSERT||t.shiftKey||t.ctrlKey?u.tabThrough===!0&&a===i.keyCode.TAB&&(t.shiftKey===!0?(null===k(r.begin).match.fn&&(r.begin=R(r.begin)),r.end=L(r.begin,!0),r.begin=L(r.end,!0)):(r.begin=R(r.begin,!0),r.end=R(r.begin,!0),r.end<g().maskLength&&r.end--),r.begin<g().maskLength&&(t.preventDefault(),q(n,r.begin,r.end))):(u.insertMode=!u.insertMode,n.setAttribute("im-insert",u.insertMode));u.onKeyDown.call(this,t,T(),q(n).begin,u),le=e.inArray(a,u.ignorables)!==-1},keypressEvent:function(t,o,a,r,l){var s=this,c=e(s),p=t.which||t.charCode||t.keyCode;if(!(o===!0||t.ctrlKey&&t.altKey)&&(t.ctrlKey||t.metaKey||le))return p===i.keyCode.ENTER&&K!==T().join("")&&(K=T().join(""),setTimeout(function(){c.trigger("change")},0)),!0;if(p){46===p&&t.shiftKey===!1&&""!==u.radixPoint&&(p=u.radixPoint.charCodeAt(0));var d,f=o?{begin:l,end:l}:q(s),h=String.fromCharCode(p),v=0;if(u._radixDance&&u.numericInput){var b=T().indexOf(u.radixPoint.charAt(0))+1;f.begin<=b&&(p===u.radixPoint.charCodeAt(0)&&(v=1),f.begin-=1,f.end-=1)}g().writeOutBuffer=!0;var y=M(f,h,r);if(y!==!1&&(m(!0),d=y.caret!==n?y.caret:R(y.pos.begin?y.pos.begin:y.pos),g().p=d),d=(u.numericInput&&y.caret===n?L(d):d)+v,a!==!1&&(setTimeout(function(){u.onKeyValidation.call(s,p,y,u)},0),g().writeOutBuffer&&y!==!1)){var x=T();N(s,x,d,t,o!==!0)}if(t.preventDefault(),o)return y!==!1&&(y.forwardPosition=d),y}},pasteEvent:function(n){var i,o=this,a=n.originalEvent||n,r=(e(o),o.inputmask._valueGet(!0)),l=q(o);oe&&(i=l.end,l.end=l.begin,l.begin=i);var s=r.substr(0,l.begin),c=r.substr(l.end,r.length);if(s===(oe?S().reverse():S()).slice(0,l.begin).join("")&&(s=""),c===(oe?S().reverse():S()).slice(l.end).join("")&&(c=""),t.clipboardData&&t.clipboardData.getData)r=s+t.clipboardData.getData("Text")+c;else{if(!a.clipboardData||!a.clipboardData.getData)return!0;r=s+a.clipboardData.getData("text/plain")+c}var p=r;if(e.isFunction(u.onBeforePaste)){if(p=u.onBeforePaste.call(ne,r,u),p===!1)return n.preventDefault();p||(p=r)}return j(o,!1,!1,p.toString().split("")),N(o,T(),R(v()),n,K!==T().join("")),n.preventDefault()},inputFallBackEvent:function(t){function n(e,t,n){return"."===t.charAt(n.begin-1)&&""!==u.radixPoint&&(t=t.split(""),t[n.begin-1]=u.radixPoint.charAt(0),t=t.join("")),t}function o(e,t,n){if(f){var i=t.replace(T().join(""),"");if(1===i.length){var o=t.split("");o.splice(n.begin,0,i),t=o.join("")}}return t}var a=this,r=a.inputmask._valueGet();if(T().join("")!==r){var l=q(a);if(r=n(a,r,l),r=o(a,r,l),
T().join("")!==r){var s=T().join(""),c=!u.numericInput&&r.length>s.length?-1:0,p=r.substr(0,l.begin),d=r.substr(l.begin),h=s.substr(0,l.begin+c),g=s.substr(l.begin+c),m=l,v="",b=!1;if(p!==h){var y,x=(b=p.length>=h.length)?p.length:h.length;for(y=0;p.charAt(y)===h.charAt(y)&&y<x;y++);b&&(m.begin=y-c,v+=p.slice(y,m.end))}if(d!==g&&(d.length>g.length?v+=d.slice(0,1):d.length<g.length&&(m.end+=g.length-d.length,b||""===u.radixPoint||""!==d||p.charAt(m.begin+c-1)!==u.radixPoint||(m.begin--,v=u.radixPoint))),N(a,T(),{begin:m.begin+c,end:m.end+c}),v.length>0)e.each(v.split(""),function(t,n){var i=new e.Event("keypress");i.which=n.charCodeAt(0),le=!1,pe.keypressEvent.call(a,i)});else{m.begin===m.end-1&&(m.begin=L(m.begin+1),m.begin===m.end-1?q(a,m.begin):q(a,m.begin,m.end));var w=new e.Event("keydown");w.keyCode=u.numericInput?i.keyCode.BACKSPACE:i.keyCode.DELETE,pe.keydownEvent.call(a,w)}t.preventDefault()}}},beforeInputEvent:function(t){if(t.cancelable){var n=this;switch(t.inputType){case"insertText":return e.each(t.data.split(""),function(t,i){var o=new e.Event("keypress");o.which=i.charCodeAt(0),le=!1,pe.keypressEvent.call(n,o)}),t.preventDefault();case"deleteContentBackward":var o=new e.Event("keydown");return o.keyCode=i.keyCode.BACKSPACE,pe.keydownEvent.call(n,o),t.preventDefault();case"deleteContentForward":var o=new e.Event("keydown");return o.keyCode=i.keyCode.DELETE,pe.keydownEvent.call(n,o),t.preventDefault()}}},setValueEvent:function(t){this.inputmask.refreshValue=!1;var n=this,i=t&&t.detail?t.detail[0]:arguments[1],i=i||n.inputmask._valueGet(!0);e.isFunction(u.onBeforeMask)&&(i=u.onBeforeMask.call(ne,i,u)||i),i=i.toString().split(""),j(n,!0,!1,i),K=T().join(""),(u.clearMaskOnLostFocus||u.clearIncomplete)&&n.inputmask._valueGet()===S().join("")&&n.inputmask._valueSet("")},focusEvent:function(e){var t=this,n=t.inputmask._valueGet();u.showMaskOnFocus&&(n!==T().join("")?N(t,T(),R(v())):se===!1&&q(t,R(v()))),u.positionCaretOnTab===!0&&se===!1&&pe.clickEvent.apply(t,[e,!0]),K=T().join("")},mouseleaveEvent:function(e){var t=this;se=!1,u.clearMaskOnLostFocus&&c.activeElement!==t&&F(t,ee)},clickEvent:function(t,i){function o(t){if(""!==u.radixPoint){var i=g().validPositions;if(i[t]===n||i[t].input===H(t)){if(t<R(-1))return!0;var o=e.inArray(u.radixPoint,T());if(o!==-1){for(var a in i)if(o<a&&i[a].input!==H(a))return!1;return!0}}}return!1}var a=this;setTimeout(function(){if(c.activeElement===a){var e=q(a);if(i&&(oe?e.end=e.begin:e.begin=e.end),e.begin===e.end)switch(u.positionCaretOnClick){case"none":break;case"select":q(a,0,T().length);break;case"ignore":q(a,R(v()));break;case"radixFocus":if(o(e.begin)){var t=T().join("").indexOf(u.radixPoint);q(a,u.numericInput?R(t):t);break}default:var r=e.begin,l=v(r,!0),s=R(l);if(r<s)q(a,I(r,!0)||I(r-1,!0)?r:R(r));else{var p=g().validPositions[l],d=w(s,p?p.match.locator:n,p),f=H(s,d.match);if(""!==f&&T()[s]!==f&&d.match.optionalQuantifier!==!0&&d.match.newBlockMarker!==!0||!I(s,u.keepStatic)&&d.match.def===f){var h=R(s);(r>=h||r===s)&&(s=h)}q(a,s)}}}},0)},cutEvent:function(n){var o=this,a=(e(o),q(o)),r=n.originalEvent||n,l=t.clipboardData||r.clipboardData,s=oe?T().slice(a.end,a.begin):T().slice(a.begin,a.end);l.setData("text",oe?s.reverse().join(""):s.join("")),c.execCommand&&c.execCommand("copy"),V(o,i.keyCode.DELETE,a),N(o,T(),g().p,n,K!==T().join(""))},blurEvent:function(t){var i=e(this),o=this;if(o.inputmask){F(o,ee);var a=o.inputmask._valueGet(),r=T().slice();""===a&&Z===n||(u.clearMaskOnLostFocus&&(v()===-1&&a===S().join("")?r=[]:B(r)),U(r)===!1&&(setTimeout(function(){i.trigger("incomplete")},0),u.clearIncomplete&&(m(),r=u.clearMaskOnLostFocus?[]:S().slice())),N(o,r,n,t)),K!==T().join("")&&(K=r.join(""),i.trigger("change"))}},mouseenterEvent:function(e){var t=this;se=!0,c.activeElement!==t&&u.showMaskOnHover&&F(t,(oe?T().slice().reverse():T()).join(""))},submitEvent:function(e){K!==T().join("")&&J.trigger("change"),u.clearMaskOnLostFocus&&v()===-1&&ie.inputmask._valueGet&&ie.inputmask._valueGet()===S().join("")&&ie.inputmask._valueSet(""),u.clearIncomplete&&U(T())===!1&&ie.inputmask._valueSet(""),u.removeMaskOnSubmit&&(ie.inputmask._valueSet(ie.inputmask.unmaskedvalue(),!0),setTimeout(function(){N(ie,T())},0))},resetEvent:function(e){ie.inputmask.refreshValue=!0,setTimeout(function(){J.trigger("setvalue")},0)}};if(o!==n)switch(o.action){case"isComplete":return ie=o.el,U(T());case"unmaskedvalue":return ie!==n&&o.value===n||(te=o.value,te=(e.isFunction(u.onBeforeMask)?u.onBeforeMask.call(ne,te,u)||te:te).split(""),j.call(this,n,!1,!1,te),e.isFunction(u.onBeforeWrite)&&u.onBeforeWrite.call(ne,n,T(),0,u)),G(ie);case"mask":X(ie);break;case"format":return te=(e.isFunction(u.onBeforeMask)?u.onBeforeMask.call(ne,o.value,u)||o.value:o.value).split(""),j.call(this,n,!0,!1,te),o.metadata?{value:oe?T().slice().reverse().join(""):T().join(""),metadata:s.call(this,{action:"getmetadata"},a,u)}:oe?T().slice().reverse().join(""):T().join("");case"isValid":o.value?(te=o.value.split(""),j.call(this,n,!0,!0,te)):o.value=T().join("");for(var de=T(),fe=z(),he=de.length-1;he>fe&&!I(he);he--);return de.splice(fe,he+1-fe),U(de)&&o.value===T().join("");case"getemptymask":return S().join("");case"remove":if(ie&&ie.inputmask){e.data(ie,"_inputmask_opts",null),J=e(ie),ie.inputmask._valueSet(u.autoUnmask?G(ie):ie.inputmask._valueGet(!0)),ue.off(ie),ie.inputmask.colorMask&&(Z=ie.inputmask.colorMask,Z.removeChild(ie),Z.parentNode.insertBefore(ie,Z),Z.parentNode.removeChild(Z));var ge;Object.getOwnPropertyDescriptor&&Object.getPrototypeOf?(ge=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(ie),"value"),ge&&ie.inputmask.__valueGet&&Object.defineProperty(ie,"value",{get:ie.inputmask.__valueGet,set:ie.inputmask.__valueSet,configurable:!0})):c.__lookupGetter__&&ie.__lookupGetter__("value")&&ie.inputmask.__valueGet&&(ie.__defineGetter__("value",ie.inputmask.__valueGet),ie.__defineSetter__("value",ie.inputmask.__valueSet)),ie.inputmask=n}return ie;case"getmetadata":if(e.isArray(a.metadata)){var me=ce(!0,0,!1).join("");return e.each(a.metadata,function(e,t){if(t.mask===me)return me=t,!1}),me}return a.metadata}}var c=t.document,u=navigator.userAgent,p=u.indexOf("MSIE ")>0||u.indexOf("Trident/")>0,d=l("touchstart"),f=/iemobile/i.test(u),h=/iphone/i.test(u)&&!f;return i.prototype={dataAttribute:"data-inputmask",defaults:{placeholder:"_",optionalmarker:["[","]"],quantifiermarker:["{","}"],groupmarker:["(",")"],alternatormarker:"|",escapeChar:"\\",mask:null,regex:null,oncomplete:e.noop,onincomplete:e.noop,oncleared:e.noop,repeat:0,greedy:!1,autoUnmask:!1,removeMaskOnSubmit:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,alias:null,onKeyDown:e.noop,onBeforeMask:null,onBeforePaste:function(t,n){return e.isFunction(n.onBeforeMask)?n.onBeforeMask.call(this,t,n):t},onBeforeWrite:null,onUnMask:null,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:e.noop,skipOptionalPartCharacter:" ",numericInput:!1,rightAlign:!1,undoOnEscape:!0,radixPoint:"",_radixDance:!1,groupSeparator:"",keepStatic:null,positionCaretOnTab:!0,tabThrough:!1,supportsInputType:["text","tel","url","password","search"],ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123,0,229],isComplete:null,preValidation:null,postValidation:null,staticDefinitionSymbol:n,jitMasking:!1,nullable:!0,inputEventOnly:!1,noValuePatching:!1,positionCaretOnClick:"lvp",casing:null,inputmode:"verbatim",colorMask:!1,disablePredictiveText:!1,importDataAttributes:!0,shiftPositions:!0},definitions:{9:{validator:"[0-9１-９]",definitionSymbol:"*"},a:{validator:"[A-Za-zА-яЁёÀ-ÿµ]",definitionSymbol:"*"},"*":{validator:"[0-9１-９A-Za-zА-яЁёÀ-ÿµ]"}},aliases:{},masksCache:{},mask:function(r){function l(i,a,r,l){if(a.importDataAttributes===!0){var s,c,u,p,d=i.getAttribute(l),f=function(e,o){o=o!==n?o:i.getAttribute(l+"-"+e),null!==o&&("string"==typeof o&&(0===e.indexOf("on")?o=t[o]:"false"===o?o=!1:"true"===o&&(o=!0)),r[e]=o)};if(d&&""!==d&&(d=d.replace(/'/g,'"'),c=JSON.parse("{"+d+"}")),c){u=n;for(p in c)if("alias"===p.toLowerCase()){u=c[p];break}}f("alias",u),r.alias&&o(r.alias,r,a);for(s in a){if(c){u=n;for(p in c)if(p.toLowerCase()===s.toLowerCase()){u=c[p];break}}f(s,u)}}return e.extend(!0,a,r),("rtl"===i.dir||a.rightAlign)&&(i.style.textAlign="right"),("rtl"===i.dir||a.numericInput)&&(i.dir="ltr",i.removeAttribute("dir"),a.isRTL=!0),Object.keys(r).length}var u=this;return"string"==typeof r&&(r=c.getElementById(r)||c.querySelectorAll(r)),r=r.nodeName?[r]:r,e.each(r,function(t,o){var r=e.extend(!0,{},u.opts);if(l(o,r,e.extend(!0,{},u.userOptions),u.dataAttribute)){var c=a(r,u.noMasksCache);c!==n&&(o.inputmask!==n&&(o.inputmask.opts.autoUnmask=!0,o.inputmask.remove()),o.inputmask=new i(n,n,(!0)),o.inputmask.opts=r,o.inputmask.noMasksCache=u.noMasksCache,o.inputmask.userOptions=e.extend(!0,{},u.userOptions),o.inputmask.isRTL=r.isRTL||r.numericInput,o.inputmask.el=o,o.inputmask.maskset=c,e.data(o,"_inputmask_opts",r),s.call(o.inputmask,{action:"mask"}))}}),r&&r[0]?r[0].inputmask||this:this},option:function(t,n){return"string"==typeof t?this.opts[t]:"object"===("undefined"==typeof t?"undefined":r(t))?(e.extend(this.userOptions,t),this.el&&n!==!0&&this.mask(this.el),this):void 0},unmaskedvalue:function(e){return this.maskset=this.maskset||a(this.opts,this.noMasksCache),s.call(this,{action:"unmaskedvalue",value:e})},remove:function(){return s.call(this,{action:"remove"})},getemptymask:function(){return this.maskset=this.maskset||a(this.opts,this.noMasksCache),s.call(this,{action:"getemptymask"})},hasMaskedValue:function(){return!this.opts.autoUnmask},isComplete:function(){return this.maskset=this.maskset||a(this.opts,this.noMasksCache),s.call(this,{action:"isComplete"})},getmetadata:function(){return this.maskset=this.maskset||a(this.opts,this.noMasksCache),s.call(this,{action:"getmetadata"})},isValid:function(e){return this.maskset=this.maskset||a(this.opts,this.noMasksCache),s.call(this,{action:"isValid",value:e})},format:function(e,t){return this.maskset=this.maskset||a(this.opts,this.noMasksCache),s.call(this,{action:"format",value:e,metadata:t})},setValue:function(t){this.el&&e(this.el).trigger("setvalue",[t])},analyseMask:function(t,o,a){function r(e,t,n,i){this.matches=[],this.openGroup=e||!1,this.alternatorGroup=!1,this.isGroup=e||!1,this.isOptional=t||!1,this.isQuantifier=n||!1,this.isAlternator=i||!1,this.quantifier={min:1,max:1}}function l(t,r,l){l=l!==n?l:t.matches.length;var s=t.matches[l-1];if(o)0===r.indexOf("[")||w&&/\\d|\\s|\\w]/i.test(r)||"."===r?t.matches.splice(l++,0,{fn:new RegExp(r,a.casing?"i":""),optionality:!1,newBlockMarker:s===n?"master":s.def!==r,casing:null,def:r,placeholder:n,nativeDef:r}):(w&&(r=r[r.length-1]),e.each(r.split(""),function(e,i){s=t.matches[l-1],t.matches.splice(l++,0,{fn:null,optionality:!1,newBlockMarker:s===n?"master":s.def!==i&&null!==s.fn,casing:null,def:a.staticDefinitionSymbol||i,placeholder:a.staticDefinitionSymbol!==n?i:n,nativeDef:(w?"'":"")+i})})),w=!1;else{var c=(a.definitions?a.definitions[r]:n)||i.prototype.definitions[r];c&&!w?t.matches.splice(l++,0,{fn:c.validator?"string"==typeof c.validator?new RegExp(c.validator,a.casing?"i":""):new function(){this.test=c.validator}:new RegExp("."),optionality:!1,newBlockMarker:s===n?"master":s.def!==(c.definitionSymbol||r),casing:c.casing,def:c.definitionSymbol||r,placeholder:c.placeholder,nativeDef:r}):(t.matches.splice(l++,0,{fn:null,optionality:!1,newBlockMarker:s===n?"master":s.def!==r&&null!==s.fn,casing:null,def:a.staticDefinitionSymbol||r,placeholder:a.staticDefinitionSymbol!==n?r:n,nativeDef:(w?"'":"")+r}),w=!1)}}function s(t){t&&t.matches&&e.each(t.matches,function(e,i){var r=t.matches[e+1];(r===n||r.matches===n||r.isQuantifier===!1)&&i&&i.isGroup&&(i.isGroup=!1,o||(l(i,a.groupmarker[0],0),i.openGroup!==!0&&l(i,a.groupmarker[1]))),s(i)})}function c(){if($.length>0){if(g=$[$.length-1],l(g,f),g.isAlternator){m=$.pop();for(var e=0;e<m.matches.length;e++)m.matches[e].isGroup&&(m.matches[e].isGroup=!1);$.length>0?(g=$[$.length-1],g.matches.push(m)):k.matches.push(m)}}else l(k,f)}function u(e){function t(e){return e===a.optionalmarker[0]?e=a.optionalmarker[1]:e===a.optionalmarker[1]?e=a.optionalmarker[0]:e===a.groupmarker[0]?e=a.groupmarker[1]:e===a.groupmarker[1]&&(e=a.groupmarker[0]),e}e.matches=e.matches.reverse();for(var i in e.matches)if(e.matches.hasOwnProperty(i)){var o=parseInt(i);if(e.matches[i].isQuantifier&&e.matches[o+1]&&e.matches[o+1].isGroup){var r=e.matches[i];e.matches.splice(i,1),e.matches.splice(o+1,0,r)}e.matches[i].matches!==n?e.matches[i]=u(e.matches[i]):e.matches[i]=t(e.matches[i])}return e}function p(e){var t=new r((!0));return t.openGroup=!1,t.matches=e,t}var d,f,h,g,m,v,b,y=/(?:[?*+]|\{[0-9\+\*]+(?:,[0-9\+\*]*)?(?:\|[0-9\+\*]*)?\})|[^.?*+^${[]()|\\]+|./g,x=/\[\^?]?(?:[^\\\]]+|\\[\S\s]?)*]?|\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9][0-9]*|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|c[A-Za-z]|[\S\s]?)|\((?:\?[:=!]?)?|(?:[?*+]|\{[0-9]+(?:,[0-9]*)?\})\??|[^.?*+^${[()|\\]+|./g,w=!1,k=new r,$=[],C=[];for(o&&(a.optionalmarker[0]=n,a.optionalmarker[1]=n);d=o?x.exec(t):y.exec(t);){if(f=d[0],o)switch(f.charAt(0)){case"?":f="{0,1}";break;case"+":case"*":f="{"+f+"}"}if(w)c();else switch(f.charAt(0)){case"(?=":break;case"(?!":break;case"(?<=":break;case"(?<!":break;case a.escapeChar:w=!0,o&&c();break;case a.optionalmarker[1]:case a.groupmarker[1]:if(h=$.pop(),h.openGroup=!1,h!==n)if($.length>0){if(g=$[$.length-1],g.matches.push(h),g.isAlternator){m=$.pop();for(var S=0;S<m.matches.length;S++)m.matches[S].isGroup=!1,m.matches[S].alternatorGroup=!1;$.length>0?(g=$[$.length-1],g.matches.push(m)):k.matches.push(m)}}else k.matches.push(h);else c();break;case a.optionalmarker[0]:$.push(new r((!1),(!0)));break;case a.groupmarker[0]:$.push(new r((!0)));break;case a.quantifiermarker[0]:var T=new r((!1),(!1),(!0));f=f.replace(/[{}]/g,"");var P=f.split("|"),A=P[0].split(","),D=isNaN(A[0])?A[0]:parseInt(A[0]),E=1===A.length?D:isNaN(A[1])?A[1]:parseInt(A[1]);"*"!==D&&"+"!==D||(D="*"===E?0:1),T.quantifier={min:D,max:E,jit:P[1]};var M=$.length>0?$[$.length-1].matches:k.matches;if(d=M.pop(),d.isAlternator){M.push(d),M=d.matches;var b=new r((!0)),O=M.pop();M.push(b),M=b.matches,d=O}d.isGroup||(d=p([d])),M.push(d),M.push(T);break;case a.alternatormarker:var _=function(e){var t=e.pop();return t.isQuantifier&&(t=p([e.pop(),t])),t};if($.length>0){g=$[$.length-1];var I=g.matches[g.matches.length-1];v=g.openGroup&&(I.matches===n||I.isGroup===!1&&I.isAlternator===!1)?$.pop():_(g.matches)}else v=_(k.matches);if(v.isAlternator)$.push(v);else if(v.alternatorGroup?(m=$.pop(),v.alternatorGroup=!1):m=new r((!1),(!1),(!1),(!0)),m.matches.push(v),$.push(m),v.openGroup){v.openGroup=!1;var R=new r((!0));R.alternatorGroup=!0,$.push(R)}break;default:c()}}for(;$.length>0;)h=$.pop(),k.matches.push(h);return k.matches.length>0&&(s(k),C.push(k)),(a.numericInput||a.isRTL)&&u(C[0]),C},positionColorMask:function(e,t){e.style.left=t.offsetLeft+"px"}},i.extendDefaults=function(t){e.extend(!0,i.prototype.defaults,t)},i.extendDefinitions=function(t){e.extend(!0,i.prototype.definitions,t)},i.extendAliases=function(t){e.extend(!0,i.prototype.aliases,t)},i.format=function(e,t,n){return i(t).format(e,n)},i.unmask=function(e,t){return i(t).unmaskedvalue(e)},i.isValid=function(e,t){return i(t).isValid(e)},i.remove=function(t){"string"==typeof t&&(t=c.getElementById(t)||c.querySelectorAll(t)),t=t.nodeName?[t]:t,e.each(t,function(e,t){t.inputmask&&t.inputmask.remove()})},i.setValue=function(t,n){"string"==typeof t&&(t=c.getElementById(t)||c.querySelectorAll(t)),t=t.nodeName?[t]:t,e.each(t,function(t,i){i.inputmask?i.inputmask.setValue(n):e(i).trigger("setvalue",[n])})},i.escapeRegex=function(e){var t=["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^"];return e.replace(new RegExp("(\\"+t.join("|\\")+")","gim"),"\\$1")},i.keyCode={BACKSPACE:8,BACKSPACE_SAFARI:127,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,RIGHT:39,SPACE:32,TAB:9,UP:38,X:88,CONTROL:17},i.dependencyLib=e,i})},function(e,t,n){"use strict";var i,o,a;"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(r){o=[n(4)],i=r,a="function"==typeof i?i.apply(t,o):i,!(void 0!==a&&(e.exports=a))}(function(e){return e})},function(e,t){e.exports=jQuery},function(module,exports,__webpack_require__){"use strict";var __WEBPACK_AMD_DEFINE_RESULT__,_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};__WEBPACK_AMD_DEFINE_RESULT__=function(){return"undefined"!=typeof window?window:new(eval("require('jsdom').JSDOM"))("").window}.call(exports,__webpack_require__,exports,module),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},function(e,t,n){"use strict";var i,o,a,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(r){o=[n(2)],i=r,a="function"==typeof i?i.apply(t,o):i,!(void 0!==a&&(e.exports=a))}(function(e){function t(e){if(!e.tokenizer){var t=[];for(var n in c)t.indexOf(n[0])===-1&&t.push(n[0]);e.tokenizer="("+t.join("+|")+")+?|.",e.tokenizer=new RegExp(e.tokenizer,"g")}return e.tokenizer}function n(e,t){return(!isFinite(e.rawday)||"29"==e.day&&!isFinite(e.rawyear)||new Date(e.date.getFullYear(),isFinite(e.rawmonth)?e.month:e.date.getMonth()+1,0).getDate()>=e.day)&&t}function i(e,t){var n=!0;if(t.min){if(e.rawyear){var i=e.rawyear.replace(/[^0-9]/g,""),o=t.min.year.substr(0,i.length);n=o<=i}e.year===e.rawyear&&t.min.date.getTime()===t.min.date.getTime()&&(n=t.min.date.getTime()<=e.date.getTime())}return n&&t.max&&t.max.date.getTime()===t.max.date.getTime()&&(n=t.max.date.getTime()>=e.date.getTime()),n}function o(n,i,o,a){for(var r,l="";r=t(o).exec(n);)if(void 0===i)if(c[r[0]])l+="("+c[r[0]][0]+")";else switch(r[0]){case"[":l+="(";break;case"]":l+=")?";break;default:l+=e.escapeRegex(r[0])}else if(c[r[0]])if(a!==!0&&c[r[0]][3]){var s=c[r[0]][3];l+=s.call(i.date)}else l+=c[r[0]][2]?i["raw"+c[r[0]][2]]:r[0];else l+=r[0];return l}function a(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e}function l(e,n,i){function o(e){var t=e.replace(/[^0-9]/g,"0");if(t!=e){var n=e.replace(/[^0-9]/g,""),o=(i.min&&i.min[l]||e).toString(),a=(i.max&&i.max[l]||e).toString();t=n+(n<o.slice(0,n.length)?o.slice(n.length):n>a.slice(0,n.length)?a.slice(n.length):t.toString().slice(n.length))}return t}function a(e,t,n){e[l]=o(t),e["raw"+l]=t,void 0!==u&&u.call(e.date,"month"==l?parseInt(e[l])-1:e[l])}var l,s,u,p,d={date:new Date(1,0,1)},f=e;if("string"==typeof f){for(;s=t(i).exec(n);){var h=f.slice(0,s[0].length);c.hasOwnProperty(s[0])&&(p=c[s[0]][0],l=c[s[0]][2],u=c[s[0]][1],a(d,h,i)),f=f.slice(h.length)}return d}if(f&&"object"===("undefined"==typeof f?"undefined":r(f))&&f.hasOwnProperty("date"))return f}var s=e.dependencyLib,c={d:["[1-9]|[12][0-9]|3[01]",Date.prototype.setDate,"day",Date.prototype.getDate],dd:["0[1-9]|[12][0-9]|3[01]",Date.prototype.setDate,"day",function(){return a(Date.prototype.getDate.call(this),2)}],ddd:[""],dddd:[""],m:["[1-9]|1[012]",Date.prototype.setMonth,"month",function(){return Date.prototype.getMonth.call(this)+1}],mm:["0[1-9]|1[012]",Date.prototype.setMonth,"month",function(){return a(Date.prototype.getMonth.call(this)+1,2)}],mmm:[""],mmmm:[""],yy:["[0-9]{2}",Date.prototype.setFullYear,"year",function(){return a(Date.prototype.getFullYear.call(this),2)}],yyyy:["[0-9]{4}",Date.prototype.setFullYear,"year",function(){return a(Date.prototype.getFullYear.call(this),4)}],h:["[1-9]|1[0-2]",Date.prototype.setHours,"hours",Date.prototype.getHours],hh:["0[1-9]|1[0-2]",Date.prototype.setHours,"hours",function(){return a(Date.prototype.getHours.call(this),2)}],hhh:["[0-9]+",Date.prototype.setHours,"hours",Date.prototype.getHours],H:["1?[0-9]|2[0-3]",Date.prototype.setHours,"hours",Date.prototype.getHours],HH:["0[0-9]|1[0-9]|2[0-3]",Date.prototype.setHours,"hours",function(){return a(Date.prototype.getHours.call(this),2)}],HHH:["[0-9]+",Date.prototype.setHours,"hours",Date.prototype.getHours],M:["[1-5]?[0-9]",Date.prototype.setMinutes,"minutes",Date.prototype.getMinutes],MM:["0[0-9]|1[0-9]|2[0-9]|3[0-9]|4[0-9]|5[0-9]",Date.prototype.setMinutes,"minutes",function(){return a(Date.prototype.getMinutes.call(this),2)}],ss:["[0-5][0-9]",Date.prototype.setSeconds,"seconds",function(){return a(Date.prototype.getSeconds.call(this),2)}],l:["[0-9]{3}",Date.prototype.setMilliseconds,"milliseconds",function(){return a(Date.prototype.getMilliseconds.call(this),3)}],L:["[0-9]{2}",Date.prototype.setMilliseconds,"milliseconds",function(){return a(Date.prototype.getMilliseconds.call(this),2)}],t:["[ap]"],tt:["[ap]m"],T:["[AP]"],TT:["[AP]M"],Z:[""],o:[""],S:[""]},u={isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"};return e.extendAliases({datetime:{mask:function(e){return c.S=e.i18n.ordinalSuffix.join("|"),e.inputFormat=u[e.inputFormat]||e.inputFormat,e.displayFormat=u[e.displayFormat]||e.displayFormat||e.inputFormat,e.outputFormat=u[e.outputFormat]||e.outputFormat||e.inputFormat,e.placeholder=""!==e.placeholder?e.placeholder:e.inputFormat.replace(/[\[\]]/,""),e.regex=o(e.inputFormat,void 0,e),null},placeholder:"",inputFormat:"isoDateTime",displayFormat:void 0,outputFormat:void 0,min:null,max:null,i18n:{dayNames:["Mon","Tue","Wed","Thu","Fri","Sat","Sun","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],ordinalSuffix:["st","nd","rd","th"]},postValidation:function(e,t,a,r){r.min=l(r.min,r.inputFormat,r),r.max=l(r.max,r.inputFormat,r);var s=a,c=l(e.join(""),r.inputFormat,r);return s&&c.date.getTime()===c.date.getTime()&&(s=n(c,s),s=s&&i(c,r)),t&&s&&a.pos!==t?{buffer:o(r.inputFormat,c,r),refreshFromBuffer:{start:t,end:a.pos}}:s},onKeyDown:function(n,i,o,r){var l=this;if(n.ctrlKey&&n.keyCode===e.keyCode.RIGHT){for(var c,u=new Date,p="";c=t(r).exec(r.inputFormat);)"d"===c[0].charAt(0)?p+=a(u.getDate(),c[0].length):"m"===c[0].charAt(0)?p+=a(u.getMonth()+1,c[0].length):"yyyy"===c[0]?p+=u.getFullYear().toString():"y"===c[0].charAt(0)&&(p+=a(u.getYear(),c[0].length));l.inputmask._valueSet(p),s(l).trigger("setvalue")}},onUnMask:function(e,t,n){return o(n.outputFormat,l(e,n.inputFormat,n),n,!0)},casing:function(e,t,n,i){return 0==t.nativeDef.indexOf("[ap]")?e.toLowerCase():0==t.nativeDef.indexOf("[AP]")?e.toUpperCase():e},insertMode:!1,shiftPositions:!1}}),e})},function(e,t,n){"use strict";var i,o,a;"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(r){o=[n(2)],i=r,a="function"==typeof i?i.apply(t,o):i,!(void 0!==a&&(e.exports=a))}(function(e){function t(t,n){for(var i="",o=0;o<t.length;o++)i+=e.prototype.definitions[t.charAt(o)]||n.definitions[t.charAt(o)]||n.optionalmarker.start===t.charAt(o)||n.optionalmarker.end===t.charAt(o)||n.quantifiermarker.start===t.charAt(o)||n.quantifiermarker.end===t.charAt(o)||n.groupmarker.start===t.charAt(o)||n.groupmarker.end===t.charAt(o)||n.alternatormarker===t.charAt(o)?"\\"+t.charAt(o):t.charAt(o);return i}function n(e,t,n){if(t>0){var o=i.inArray(n.radixPoint,e);o===-1&&(e.push(n.radixPoint),o=e.length-1);for(var a=1;a<=t;a++)e[o+a]=e[o+a]||"0"}return e}var i=e.dependencyLib;return e.extendAliases({numeric:{mask:function o(e){if(0!==e.repeat&&isNaN(e.integerDigits)&&(e.integerDigits=e.repeat),e.repeat=0,e.groupSeparator===e.radixPoint&&e.digits&&"0"!==e.digits&&("."===e.radixPoint?e.groupSeparator=",":","===e.radixPoint?e.groupSeparator=".":e.groupSeparator="")," "===e.groupSeparator&&(e.skipOptionalPartCharacter=void 0),e.autoGroup=e.autoGroup&&""!==e.groupSeparator,e.autoGroup&&("string"==typeof e.groupSize&&isFinite(e.groupSize)&&(e.groupSize=parseInt(e.groupSize)),isFinite(e.integerDigits))){var n=Math.floor(e.integerDigits/e.groupSize),i=e.integerDigits%e.groupSize;e.integerDigits=parseInt(e.integerDigits)+(0===i?n-1:n),e.integerDigits<1&&(e.integerDigits="*")}e.placeholder.length>1&&(e.placeholder=e.placeholder.charAt(0)),"radixFocus"===e.positionCaretOnClick&&""===e.placeholder&&e.integerOptional===!1&&(e.positionCaretOnClick="lvp"),e.definitions[";"]=e.definitions["~"],e.definitions[";"].definitionSymbol="~",e.numericInput===!0&&(e.positionCaretOnClick="radixFocus"===e.positionCaretOnClick?"lvp":e.positionCaretOnClick,e.digitsOptional=!1,isNaN(e.digits)&&(e.digits=2),e.decimalProtect=!1);var o="[+]";if(o+=t(e.prefix,e),o+=e.integerOptional===!0?"~{1,"+e.integerDigits+"}":"~{"+e.integerDigits+"}",void 0!==e.digits){var a=e.decimalProtect?":":e.radixPoint,r=e.digits.toString().split(",");isFinite(r[0])&&r[1]&&isFinite(r[1])?o+=a+";{"+e.digits+"}":(isNaN(e.digits)||parseInt(e.digits)>0)&&(o+=e.digitsOptional?"["+a+";{1,"+e.digits+"}]":a+";{"+e.digits+"}")}return o+=t(e.suffix,e),o+="[-]",e.greedy=!1,o},placeholder:"",greedy:!1,digits:"*",digitsOptional:!0,enforceDigitsOnBlur:!1,radixPoint:".",positionCaretOnClick:"radixFocus",groupSize:3,groupSeparator:"",autoGroup:!1,allowMinus:!0,negationSymbol:{front:"-",back:""},integerDigits:"+",integerOptional:!0,prefix:"",suffix:"",rightAlign:!0,decimalProtect:!0,min:null,max:null,step:1,insertMode:!0,autoUnmask:!1,unmaskAsNumber:!1,inputType:"text",inputmode:"numeric",preValidation:function(e,t,n,o,a,r){if("-"===n||n===a.negationSymbol.front)return a.allowMinus===!0&&(a.isNegative=void 0===a.isNegative||!a.isNegative,""===e.join("")||{caret:r.validPositions[t]?t:void 0,dopost:!0});if(o===!1&&n===a.radixPoint&&void 0!==a.digits&&(isNaN(a.digits)||parseInt(a.digits)>0)){var l=i.inArray(a.radixPoint,e);if(l!==-1&&void 0!==r.validPositions[l])return a.numericInput===!0?t===l:{caret:l+1}}return!0},postValidation:function(t,n,o,a){function r(e,t){var n="";if(n+="("+t.groupSeparator+"*{"+t.groupSize+"}){*}",""!==t.radixPoint){var i=e.join("").split(t.radixPoint);i[1]&&(n+=t.radixPoint+"*{"+i[1].match(/^\d*\??\d*/)[0].length+"}")}return n}var l=a.suffix.split(""),s=a.prefix.split("");if(void 0===o.pos&&void 0!==o.caret&&o.dopost!==!0)return o;var c=void 0!==o.caret?o.caret:o.pos,u=t.slice();a.numericInput&&(c=u.length-c-1,u=u.reverse());var p=u[c];if(p===a.groupSeparator&&(c+=1,p=u[c]),c===u.length-a.suffix.length-1&&p===a.radixPoint)return o;void 0!==p&&p!==a.radixPoint&&p!==a.negationSymbol.front&&p!==a.negationSymbol.back&&(u[c]="?",a.prefix.length>0&&c>=(a.isNegative===!1?1:0)&&c<a.prefix.length-1+(a.isNegative===!1?1:0)?s[c-(a.isNegative===!1?1:0)]="?":a.suffix.length>0&&c>=u.length-a.suffix.length-(a.isNegative===!1?1:0)&&(l[c-(u.length-a.suffix.length-(a.isNegative===!1?1:0))]="?")),s=s.join(""),l=l.join("");var d=u.join("").replace(s,"");if(d=d.replace(l,""),d=d.replace(new RegExp(e.escapeRegex(a.groupSeparator),"g"),""),d=d.replace(new RegExp("[-"+e.escapeRegex(a.negationSymbol.front)+"]","g"),""),d=d.replace(new RegExp(e.escapeRegex(a.negationSymbol.back)+"$"),""),isNaN(a.placeholder)&&(d=d.replace(new RegExp(e.escapeRegex(a.placeholder),"g"),"")),d.length>1&&1!==d.indexOf(a.radixPoint)&&("0"===p&&(d=d.replace(/^\?/g,"")),d=d.replace(/^0/g,"")),d.charAt(0)===a.radixPoint&&""!==a.radixPoint&&a.numericInput!==!0&&(d="0"+d),""!==d){if(d=d.split(""),(!a.digitsOptional||a.enforceDigitsOnBlur&&"blur"===o.event)&&isFinite(a.digits)){var f=i.inArray(a.radixPoint,d),h=i.inArray(a.radixPoint,u);f===-1&&(d.push(a.radixPoint),f=d.length-1);for(var g=1;g<=a.digits;g++)a.digitsOptional&&(!a.enforceDigitsOnBlur||"blur"!==o.event)||void 0!==d[f+g]&&d[f+g]!==a.placeholder.charAt(0)?h!==-1&&void 0!==u[h+g]&&(d[f+g]=d[f+g]||u[h+g]):d[f+g]=o.placeholder||a.placeholder.charAt(0)}if(a.autoGroup!==!0||""===a.groupSeparator||p===a.radixPoint&&void 0===o.pos&&!o.dopost)d=d.join("");else{var m=d[d.length-1]===a.radixPoint&&o.c===a.radixPoint;d=e(r(d,a),{numericInput:!0,jitMasking:!0,definitions:{"*":{validator:"[0-9?]",cardinality:1}}}).format(d.join("")),m&&(d+=a.radixPoint),d.charAt(0)===a.groupSeparator&&d.substr(1)}}if(a.isNegative&&"blur"===o.event&&(a.isNegative="0"!==d),d=s+d,d+=l,a.isNegative&&(d=a.negationSymbol.front+d,d+=a.negationSymbol.back),d=d.split(""),void 0!==p)if(p!==a.radixPoint&&p!==a.negationSymbol.front&&p!==a.negationSymbol.back)c=i.inArray("?",d),c>-1?d[c]=p:c=o.caret||0;else if(p===a.radixPoint||p===a.negationSymbol.front||p===a.negationSymbol.back){var v=i.inArray(p,d);v!==-1&&(c=v)}a.numericInput&&(c=d.length-c-1,d=d.reverse());var b={caret:void 0!==p&&void 0===o.pos||void 0===c?c:c+(a.numericInput?-1:1),buffer:d,refreshFromBuffer:o.dopost||t.join("")!==d.join("")};return b.refreshFromBuffer?b:o},onBeforeWrite:function(t,n,o,a){function r(t){void 0===t.parseMinMaxOptions&&(null!==t.min&&(t.min=t.min.toString().replace(new RegExp(e.escapeRegex(t.groupSeparator),"g"),""),","===t.radixPoint&&(t.min=t.min.replace(t.radixPoint,".")),t.min=isFinite(t.min)?parseFloat(t.min):NaN,isNaN(t.min)&&(t.min=Number.MIN_VALUE)),null!==t.max&&(t.max=t.max.toString().replace(new RegExp(e.escapeRegex(t.groupSeparator),"g"),""),","===t.radixPoint&&(t.max=t.max.replace(t.radixPoint,".")),t.max=isFinite(t.max)?parseFloat(t.max):NaN,isNaN(t.max)&&(t.max=Number.MAX_VALUE)),t.parseMinMaxOptions="done")}if(t)switch(t.type){case"keydown":return a.postValidation(n,o,{caret:o,dopost:!0},a);case"blur":case"checkval":var l;if(r(a),null!==a.min||null!==a.max){if(l=a.onUnMask(n.join(""),void 0,i.extend({},a,{unmaskAsNumber:!0})),null!==a.min&&l<a.min)return a.isNegative=a.min<0,a.postValidation(a.min.toString().replace(".",a.radixPoint).split(""),o,{caret:o,dopost:!0,placeholder:"0"},a);if(null!==a.max&&l>a.max)return a.isNegative=a.max<0,a.postValidation(a.max.toString().replace(".",a.radixPoint).split(""),o,{caret:o,dopost:!0,placeholder:"0"},a)}return a.postValidation(n,o,{caret:o,placeholder:"0",event:"blur"},a);case"_checkval":return{caret:o}}},regex:{integerPart:function(t,n){return n?new RegExp("["+e.escapeRegex(t.negationSymbol.front)+"+]?"):new RegExp("["+e.escapeRegex(t.negationSymbol.front)+"+]?\\d+")},integerNPart:function(t){return new RegExp("[\\d"+e.escapeRegex(t.groupSeparator)+e.escapeRegex(t.placeholder.charAt(0))+"]+")}},definitions:{"~":{validator:function(t,n,i,o,a,r){var l,s;if("k"===t||"m"===t){l={insert:[],c:0};for(var c=0,s="k"===t?2:5;c<s;c++)l.insert.push({pos:i+c,c:0});return l.pos=i+s,l}if(l=o?new RegExp("[0-9"+e.escapeRegex(a.groupSeparator)+"]").test(t):new RegExp("[0-9]").test(t),l===!0){if(a.numericInput!==!0&&void 0!==n.validPositions[i]&&"~"===n.validPositions[i].match.def&&!r){var u=n.buffer.join("");u=u.replace(new RegExp("[-"+e.escapeRegex(a.negationSymbol.front)+"]","g"),""),u=u.replace(new RegExp(e.escapeRegex(a.negationSymbol.back)+"$"),"");var p=u.split(a.radixPoint);p.length>1&&(p[1]=p[1].replace(/0/g,a.placeholder.charAt(0))),"0"===p[0]&&(p[0]=p[0].replace(/0/g,a.placeholder.charAt(0))),u=p[0]+a.radixPoint+p[1]||"";var d=n._buffer.join("");for(u===a.radixPoint&&(u=d);null===u.match(e.escapeRegex(d)+"$");)d=d.slice(1);u=u.replace(d,""),u=u.split(""),l=void 0===u[i]?{pos:i,remove:i}:{pos:i}}}else o||t!==a.radixPoint||void 0!==n.validPositions[i-1]||(l={insert:{pos:i,c:0},pos:i+1});return l},cardinality:1},"+":{validator:function(e,t,n,i,o){return o.allowMinus&&("-"===e||e===o.negationSymbol.front)},cardinality:1,placeholder:""},"-":{validator:function(e,t,n,i,o){return o.allowMinus&&e===o.negationSymbol.back},cardinality:1,placeholder:""
},":":{validator:function(t,n,i,o,a){var r="["+e.escapeRegex(a.radixPoint)+"]",l=new RegExp(r).test(t);return l&&n.validPositions[i]&&n.validPositions[i].match.placeholder===a.radixPoint&&(l={caret:i+1}),l},cardinality:1,placeholder:function(e){return e.radixPoint}}},onUnMask:function(t,n,i){if(""===n&&i.nullable===!0)return n;var o=t.replace(i.prefix,"");return o=o.replace(i.suffix,""),o=o.replace(new RegExp(e.escapeRegex(i.groupSeparator),"g"),""),""!==i.placeholder.charAt(0)&&(o=o.replace(new RegExp(i.placeholder.charAt(0),"g"),"0")),i.unmaskAsNumber?(""!==i.radixPoint&&o.indexOf(i.radixPoint)!==-1&&(o=o.replace(e.escapeRegex.call(this,i.radixPoint),".")),o=o.replace(new RegExp("^"+e.escapeRegex(i.negationSymbol.front)),"-"),o=o.replace(new RegExp(e.escapeRegex(i.negationSymbol.back)+"$"),""),Number(o)):o},isComplete:function(t,n){var i=(n.numericInput?t.slice().reverse():t).join("");return i=i.replace(new RegExp("^"+e.escapeRegex(n.negationSymbol.front)),"-"),i=i.replace(new RegExp(e.escapeRegex(n.negationSymbol.back)+"$"),""),i=i.replace(n.prefix,""),i=i.replace(n.suffix,""),i=i.replace(new RegExp(e.escapeRegex(n.groupSeparator)+"([0-9]{3})","g"),"$1"),","===n.radixPoint&&(i=i.replace(e.escapeRegex(n.radixPoint),".")),isFinite(i)},onBeforeMask:function(t,i){i.isNegative=void 0;var o=i.radixPoint||",";"number"!=typeof t&&"number"!==i.inputType||""===o||(t=t.toString().replace(".",o));var a=t.split(o),r=a[0].replace(/[^\-0-9]/g,""),l=a.length>1?a[1].replace(/[^0-9]/g,""):"";t=r+(""!==l?o+l:l);var s=0;if(""!==o&&(s=l.length,""!==l)){var c=Math.pow(10,s||1);isFinite(i.digits)&&(s=parseInt(i.digits),c=Math.pow(10,s)),t=t.replace(e.escapeRegex(o),"."),isFinite(t)&&(t=Math.round(parseFloat(t)*c)/c),t=t.toString().replace(".",o)}return 0===i.digits&&t.indexOf(e.escapeRegex(o))!==-1&&(t=t.substring(0,t.indexOf(e.escapeRegex(o)))),n(t.toString().split(""),s,i).join("")},onKeyDown:function(t,n,o,a){var r=i(this);if(t.ctrlKey)switch(t.keyCode){case e.keyCode.UP:r.val(parseFloat(this.inputmask.unmaskedvalue())+parseInt(a.step)),r.trigger("setvalue");break;case e.keyCode.DOWN:r.val(parseFloat(this.inputmask.unmaskedvalue())-parseInt(a.step)),r.trigger("setvalue")}}},currency:{prefix:"$ ",groupSeparator:",",alias:"numeric",placeholder:"0",autoGroup:!0,digits:2,digitsOptional:!1,clearMaskOnLostFocus:!1},decimal:{alias:"numeric"},integer:{alias:"numeric",digits:0,radixPoint:""},percentage:{alias:"numeric",digits:2,digitsOptional:!0,radixPoint:".",placeholder:"0",autoGroup:!1,min:0,max:100,suffix:" %",allowMinus:!1}}),e})},function(e,t,n){"use strict";var i,o,a,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(r){o=[n(4),n(2)],i=r,a="function"==typeof i?i.apply(t,o):i,!(void 0!==a&&(e.exports=a))}(function(e,t){return void 0===e.fn.inputmask&&(e.fn.inputmask=function(n,i){var o,a=this[0];if(void 0===i&&(i={}),"string"==typeof n)switch(n){case"unmaskedvalue":return a&&a.inputmask?a.inputmask.unmaskedvalue():e(a).val();case"remove":return this.each(function(){this.inputmask&&this.inputmask.remove()});case"getemptymask":return a&&a.inputmask?a.inputmask.getemptymask():"";case"hasMaskedValue":return!(!a||!a.inputmask)&&a.inputmask.hasMaskedValue();case"isComplete":return!a||!a.inputmask||a.inputmask.isComplete();case"getmetadata":return a&&a.inputmask?a.inputmask.getmetadata():void 0;case"setvalue":t.setValue(a,i);break;case"option":if("string"!=typeof i)return this.each(function(){if(void 0!==this.inputmask)return this.inputmask.option(i)});if(a&&void 0!==a.inputmask)return a.inputmask.option(i);break;default:return i.alias=n,o=new t(i),this.each(function(){o.mask(this)})}else{if(Array.isArray(n))return i.alias=n,o=new t(i),this.each(function(){o.mask(this)});if("object"==("undefined"==typeof n?"undefined":r(n)))return o=new t(n),void 0===n.mask&&void 0===n.alias?this.each(function(){return void 0!==this.inputmask?this.inputmask.option(n):void o.mask(this)}):this.each(function(){o.mask(this)});if(void 0===n)return this.each(function(){o=new t(i),o.mask(this)})}}),e.fn.inputmask})}]),Strophe.addConnectionPlugin("cm",{conn:null,conn_state:null,enabled:!1,element_queue:[],pingTime:3e4,pingTimeout:3e4,pingInterval:null,onEnqueueElement:null,onDequeueElement:null,init:function(e){this.conn=e,this.enable()},statusChanged:function(e){this.conn_state=e},enable:function(){this.disable();var e=this,t=this.conn,n=t._queueData;t._queueData=function(t){e._enqueueElement(t)&&n.call(this,t)},t.xmlInput=function(t){e._requestReceived(t)}},disable:function(){this.conn._queueData=Strophe.Connection.prototype._queueData},_enqueueElement:function(e){if(e){var t;try{t=e.querySelectorAll("[xmlns='jabber:x:conference']")}catch(n){t=$(e).find("[xmlns='jabber:x:conference']")}$(e);return!!(Strophe.isTagEqual(e,"iq")&&e.getAttribute("id").indexOf("_auth_")!=-1||"urn:ietf:params:xml:ns:xmpp-sasl"==e.getAttribute("xmlns")||Strophe.isTagEqual(e,"presence")||Strophe.isTagEqual(e,"iq")&&e.firstChild&&Strophe.isTagEqual(e.firstChild,"ping")||Strophe.isTagEqual(e,"message")&&t.length>0)||(this.element_queue.indexOf(e)==-1&&(this.element_queue.push(e),this.onEnqueueElement&&this.onEnqueueElement(e)),this.conn_state==Strophe.Status.CONNECTED)}},_requestReceived:function(e){var t=e.childNodes;if(t&&t.length>0)for(var n=0;n<this.element_queue.length;n++)for(var i=0;i<t.length;i++)this.element_queue[n]&&t[i]&&this.element_queue[n].getAttribute("id")==t[i].getAttribute("id")&&(this.element_queue.splice(n--,1),this.onDequeueElement&&this.onDequeueElement(t[i]))},resendStanzas:function(e){var t=e||[],n=20;this.conn.pause();for(var i=0;i<t.length&&i<n;i++)this.conn.send(t[i]);this.conn.resume()}}),Strophe.addConnectionPlugin("disco",{_connection:null,_identities:[],_features:[],_items:[],init:function(e){this._connection=e,this._identities=[],this._features=[],this._items=[],e.addHandler(this._onDiscoInfo.bind(this),Strophe.NS.DISCO_INFO,"iq","get",null,null),e.addHandler(this._onDiscoItems.bind(this),Strophe.NS.DISCO_ITEMS,"iq","get",null,null)},addIdentity:function(e,t,n,i){for(var o=0;o<this._identities.length;o++)if(this._identities[o].category==e&&this._identities[o].type==t&&this._identities[o].name==n&&this._identities[o].lang==i)return!1;return this._identities.push({category:e,type:t,name:n,lang:i}),!0},addFeature:function(e){for(var t=0;t<this._features.length;t++)if(this._features[t]==e)return!1;return this._features.push(e),!0},removeFeature:function(e){for(var t=0;t<this._features.length;t++)if(this._features[t]===e)return this._features.splice(t,1),!0;return!1},addItem:function(e,t,n,i){return!(n&&!i)&&(this._items.push({jid:e,name:t,node:n,call_back:i}),!0)},info:function(e,t,n,i,o){var a={xmlns:Strophe.NS.DISCO_INFO};t&&(a.node=t);var r=$iq({from:this._connection.jid,to:e,type:"get"}).c("query",a);return this._connection.sendIQ(r,n,i,o)},items:function(e,t,n,i,o){var a={xmlns:Strophe.NS.DISCO_ITEMS};t&&(a.node=t);var r=$iq({from:this._connection.jid,to:e,type:"get"}).c("query",a);return this._connection.sendIQ(r,n,i,o)},_buildIQResult:function(e,t){var n=e.getAttribute("id"),i=e.getAttribute("from"),o=$iq({type:"result",id:n});return null!==i&&o.attrs({to:i}),o.c("query",t)},_onDiscoInfo:function(e){var t=e.getElementsByTagName("query")[0].getAttribute("node"),n={xmlns:Strophe.NS.DISCO_INFO};t&&(n.node=t);for(var i=this._buildIQResult(e,n),o=0;o<this._identities.length;o++){var n={category:this._identities[o].category,type:this._identities[o].type};this._identities[o].name&&(n.name=this._identities[o].name),this._identities[o].lang&&(n["xml:lang"]=this._identities[o].lang),i.c("identity",n).up()}for(var o=0;o<this._features.length;o++)i.c("feature",{"var":this._features[o]}).up();return this._connection.send(i.tree()),!0},_onDiscoItems:function(e){var t={xmlns:Strophe.NS.DISCO_ITEMS},n=e.getElementsByTagName("query")[0].getAttribute("node");if(n){t.node=n;for(var i=[],o=0;o<this._items.length;o++)if(this._items[o].node==n){i=this._items[o].call_back(e);break}}else var i=this._items;for(var a=this._buildIQResult(e,t),o=0;o<i.length;o++){var r={jid:i[o].jid};i[o].name&&(r.name=i[o].name),i[o].node&&(r.node=i[o].node),a.c("item",r).up()}return this._connection.send(a.tree()),!0}});var Occupant,RoomConfig,XmppRoom,__bind=function(e,t){return function(){return e.apply(t,arguments)}};Strophe.addConnectionPlugin("muc",{_connection:null,rooms:{},roomNames:[],init:function(e){return this._connection=e,this._muc_handler=null,Strophe.addNamespace("MUC_OWNER",Strophe.NS.MUC+"#owner"),Strophe.addNamespace("MUC_ADMIN",Strophe.NS.MUC+"#admin"),Strophe.addNamespace("MUC_USER",Strophe.NS.MUC+"#user"),Strophe.addNamespace("MUC_ROOMCONF",Strophe.NS.MUC+"#roomconfig")},statusChanged:function(e,t){function n(e){var t,n,o,a,r,l,s,c,u,p,d;if(n=e.getAttribute("from"),!n)return!0;if(l=n.split("/")[0],!i.rooms[l])return!0;t=i.rooms[l],a={};if("message"===e.nodeName)a=t._message_handlers;else if("presence"===e.nodeName&&(u=e.getElementsByTagName("x"),u.length>0))for(p=0,d=u.length;p<d;p++)if(s=u[p],c=s.getAttribute("xmlns"),c&&c.match(Strophe.NS.MUC)){a=t._presence_handlers;break}for(r in a)o=a[r],o(e,t)||delete a[r];return!0}if(e==Strophe.Status.CONNECTED||e==Strophe.Status.ATTACHED){var i=this;this._muc_handler=this._connection.addHandler(n)}},createRoom:function(e,t,n,i,o){var a=this.test_append_nick(e,t),r=$pres({from:this._connection.jid,to:a});return this.rooms.hasOwnProperty(e)||(this.rooms[e]=new XmppRoom(this,e,t),this.roomNames.push(e)),i&&this.rooms[e].addHandler("presence",i),n&&this.rooms[e].addHandler("message",n),o&&this.rooms[e].addHandler("roster",o),this._connection.send(r),this.rooms[e]},join:function(e,t,n,i,o,a,r,l){var s,c;if(c=this.test_append_nick(e,t),s=$pres({from:this._connection.jid,to:c}).c("x",{xmlns:Strophe.NS.MUC}),null!=r&&(s=s.c("history",r)),null!=a&&s.cnode(Strophe.xmlElement("password",[],a)),this.rooms.hasOwnProperty(e)||(this.rooms[e]=new XmppRoom(this,e,t,a),this.roomNames.push(e)),i&&this.rooms[e].addHandler("presence",i),n&&this.rooms[e].addHandler("message",n),o&&this.rooms[e].addHandler("roster",o),l){var s=s.tree();s.setAttribute("id",l)}return this._connection.send(s)},leave:function(e,t,n,i){var o,a,r,l;return o=this.roomNames.indexOf(e),delete this.rooms[e],o>=0&&(this.roomNames.splice(o,1),0===this.roomNames.length&&(this._connection.deleteHandler(this._muc_handler),this._muc_handler=null)),l=this.test_append_nick(e,t),r=this._connection.getUniqueId(),a=$pres({type:"unavailable",id:r,from:this._connection.jid,to:l}),null!=i&&a.c("status",i),null!=n&&this._connection.addHandler(n,null,"presence",null,r),this._connection.send(a),r},message:function(e,t,n,i,o){var a,r,l,s;return s=this.test_append_nick(e,t),o=o||(null!=t?"chat":"groupchat"),r=this._connection.getUniqueId(),a=$msg({to:s,from:this._connection.jid,type:o,id:r}).c("body",{xmlns:Strophe.NS.CLIENT}).t(n),a.up(),null!=i&&(a.c("html",{xmlns:Strophe.NS.XHTML_IM}).c("body",{xmlns:Strophe.NS.XHTML}).t(i),0===a.node.childNodes.length?(l=a.node.parentNode,a.up().up(),a.node.removeChild(l)):a.up().up()),a.c("x",{xmlns:"jabber:x:event"}).c("composing"),this._connection.send(a),r},groupchat:function(e,t,n){return this.message(e,null,t,n)},invite:function(e,t,n){var i,o;return o=this._connection.getUniqueId(),i=$msg({from:this._connection.jid,to:e,id:o}).c("x",{xmlns:Strophe.NS.MUC_USER}).c("invite",{to:t}),null!=n&&i.c("reason",n),this._connection.send(i),o},directInvite:function(e,t,n,i){var o,a,r;return r=this._connection.getUniqueId(),o={xmlns:"jabber:x:conference",jid:e},null!=n&&(o.reason=n),null!=i&&(o.password=i),a=$msg({from:this._connection.jid,to:t,id:r}).c("x",o),this._connection.send(a),r},queryOccupants:function(e,t,n){var i,o;return i={xmlns:Strophe.NS.DISCO_ITEMS},o=$iq({from:this._connection.jid,to:e,type:"get"}).c("query",i),this._connection.sendIQ(o,t,n)},configure:function(e,t,n){var i,o;return i=$iq({to:e,type:"get"}).c("query",{xmlns:Strophe.NS.MUC_OWNER}),o=i.tree(),this._connection.sendIQ(o,t,n)},cancelConfigure:function(e){var t,n;return t=$iq({to:e,type:"set"}).c("query",{xmlns:Strophe.NS.MUC_OWNER}).c("x",{xmlns:"jabber:x:data",type:"cancel"}),n=t.tree(),this._connection.sendIQ(n)},saveConfiguration:function(e,t,n,i){var o,a,r,l,s;if(a=$iq({to:e,type:"set"}).c("query",{xmlns:Strophe.NS.MUC_OWNER}),t instanceof Form)t.type="submit",a.cnode(t.toXML());else for(a.c("x",{xmlns:"jabber:x:data",type:"submit"}),l=0,s=t.length;l<s;l++)o=t[l],a.cnode(o).up();return r=a.tree(),this._connection.sendIQ(r,n,i)},createInstantRoom:function(e,t,n){var i;return i=$iq({to:e,type:"set"}).c("query",{xmlns:Strophe.NS.MUC_OWNER}).c("x",{xmlns:"jabber:x:data",type:"submit"}),this._connection.sendIQ(i.tree(),t,n)},setTopic:function(e,t){var n;return n=$msg({to:e,from:this._connection.jid,type:"groupchat"}).c("subject",{xmlns:"jabber:client"}).t(t),this._connection.send(n.tree())},_modifyPrivilege:function(e,t,n,i,o){var a;return a=$iq({to:e,type:"set"}).c("query",{xmlns:Strophe.NS.MUC_ADMIN}).cnode(t.node),null!=n&&a.c("reason",n),this._connection.sendIQ(a.tree(),i,o)},modifyRole:function(e,t,n,i,o,a){var r;return r=$build("item",{nick:t,role:n}),this._modifyPrivilege(e,r,i,o,a)},kick:function(e,t,n,i,o){return this.modifyRole(e,t,"none",n,i,o)},voice:function(e,t,n,i,o){return this.modifyRole(e,t,"participant",n,i,o)},mute:function(e,t,n,i,o){return this.modifyRole(e,t,"visitor",n,i,o)},op:function(e,t,n,i,o){return this.modifyRole(e,t,"moderator",n,i,o)},deop:function(e,t,n,i,o){return this.modifyRole(e,t,"participant",n,i,o)},modifyAffiliation:function(e,t,n,i,o,a){var r;return r=$build("item",{jid:t,affiliation:n}),this._modifyPrivilege(e,r,i,o,a)},ban:function(e,t,n,i,o){return this.modifyAffiliation(e,t,"outcast",n,i,o)},member:function(e,t,n,i,o){return this.modifyAffiliation(e,t,"member",n,i,o)},revoke:function(e,t,n,i,o){return this.modifyAffiliation(e,t,"none",n,i,o)},owner:function(e,t,n,i,o){return this.modifyAffiliation(e,t,"owner",n,i,o)},admin:function(e,t,n,i,o){return this.modifyAffiliation(e,t,"admin",n,i,o)},changeNick:function(e,t){var n,i;return i=this.test_append_nick(e,t),n=$pres({from:this._connection.jid,to:i,id:this._connection.getUniqueId()}),this._connection.send(n.tree())},setStatus:function(e,t,n,i){var o,a;return a=this.test_append_nick(e,t),o=$pres({from:this._connection.jid,to:a}),null!=n&&o.c("show",n).up(),null!=i&&o.c("status",i),this._connection.send(o.tree())},listRooms:function(e,t,n){var i;return i=$iq({to:e,from:this._connection.jid,type:"get"}).c("query",{xmlns:Strophe.NS.DISCO_ITEMS}),this._connection.sendIQ(i,t,n)},test_append_nick:function(e,t){return e+(null!=t?"/"+Strophe.escapeNode(t):"")}}),XmppRoom=function(){function e(e,t,n,i){this.client=e,this.name=t,this.nick=n,this.password=i,this._roomRosterHandler=__bind(this._roomRosterHandler,this),this._addOccupant=__bind(this._addOccupant,this),this.roster={},this._message_handlers={},this._presence_handlers={},this._roster_handlers={},this._handler_ids=0,e.muc&&(this.client=e.muc),this.name=Strophe.getBareJidFromJid(t),this.userSessions={},this.addHandler("presence",this._roomRosterHandler)}return e.prototype.join=function(e,t,n){return this.client.join(this.name,this.nick,e,t,n,this.password)},e.prototype.leave=function(e,t){return this.client.leave(this.name,this.nick,e,t),delete this.client.rooms[this.name]},e.prototype.message=function(e,t,n,i){return this.client.message(this.name,e,t,n,i)},e.prototype.groupchat=function(e,t){return this.client.groupchat(this.name,e,t)},e.prototype.invite=function(e,t){return this.client.invite(this.name,e,t)},e.prototype.directInvite=function(e,t){return this.client.directInvite(this.name,e,t,this.password)},e.prototype.configure=function(e){return this.client.configure(this.name,e)},e.prototype.cancelConfigure=function(){return this.client.cancelConfigure(this.name)},e.prototype.saveConfiguration=function(e){return this.client.saveConfiguration(this.name,e)},e.prototype.queryOccupants=function(e,t){return this.client.queryOccupants(this.name,e,t)},e.prototype.setTopic=function(e){return this.client.setTopic(this.name,e)},e.prototype.modifyRole=function(e,t,n,i,o){return this.client.modifyRole(this.name,e,t,n,i,o)},e.prototype.kick=function(e,t,n,i){return this.client.kick(this.name,e,t,n,i)},e.prototype.voice=function(e,t,n,i){return this.client.voice(this.name,e,t,n,i)},e.prototype.mute=function(e,t,n,i){return this.client.mute(this.name,e,t,n,i)},e.prototype.op=function(e,t,n,i){return this.client.op(this.name,e,t,n,i)},e.prototype.deop=function(e,t,n,i){return this.client.deop(this.name,e,t,n,i)},e.prototype.modifyAffiliation=function(e,t,n,i,o){return this.client.modifyAffiliation(this.name,e,t,n,i,o)},e.prototype.ban=function(e,t,n,i){return this.client.ban(this.name,e,t,n,i)},e.prototype.member=function(e,t,n,i){return this.client.member(this.name,e,t,n,i)},e.prototype.revoke=function(e,t,n,i){return this.client.revoke(this.name,e,t,n,i)},e.prototype.owner=function(e,t,n,i){return this.client.owner(this.name,e,t,n,i)},e.prototype.admin=function(e,t,n,i){return this.client.admin(this.name,e,t,n,i)},e.prototype.changeNick=function(e){return this.nick=e,this.client.changeNick(this.name,e)},e.prototype.setStatus=function(e,t){return this.client.setStatus(this.name,this.nick,e,t)},e.prototype.addHandler=function(e,t){var n;switch(n=this._handler_ids++,e){case"presence":this._presence_handlers[n]=t;break;case"message":this._message_handlers[n]=t;break;case"roster":this._roster_handlers[n]=t;break;default:return this._handler_ids--,null}return n},e.prototype.removeHandler=function(e){return delete this._presence_handlers[e],delete this._message_handlers[e],delete this._roster_handlers[e]},e.prototype._addOccupant=function(e){var t;return t=new Occupant(e,this),this.roster[t.nick]=t,t},e.prototype._roomRosterHandler=function(t){var n,i,o,a,r,l;switch(n=e._parsePresence(t),r=n.nick,a=n.newnick||null,n.type){case"error":return;case"unavailable":a&&(n.nick=a,this.roster[r]&&this.roster[a]&&(this.roster[r].update(this.roster[a]),this.roster[a]=this.roster[r]),this.roster[r]&&!this.roster[a]&&(this.roster[a]=this.roster[r].update(n))),delete this.roster[r];break;default:this.roster[r]?this.roster[r].update(n):this._addOccupant(n)}l=this._roster_handlers;for(o in l)i=l[o],i(this.roster,this)||delete this._roster_handlers[o];return!0},e._parsePresence=function(e){var t,n,i,o,a,r,l,s,c;for(i={},i.nick=Strophe.getResourceFromJid(e.getAttribute("from")),i.type=e.getAttribute("type")||null,i.states=[],s=e.childNodes,o=0,r=s.length;o<r;o++)switch(t=s[o],t.nodeName){case"status":i.status=t.textContent||null;break;case"show":i.show=t.textContent||null;break;case"x":if(t.getAttribute("xmlns")===Strophe.NS.MUC_USER)for(c=t.childNodes,a=0,l=c.length;a<l;a++)switch(n=c[a],n.nodeName){case"item":i.affiliation=n.getAttribute("affiliation")||null,i.role=n.getAttribute("role")||null,i.jid=n.getAttribute("jid")||null,i.newnick=n.getAttribute("nick")||null;break;case"status":n.getAttribute("code")&&i.states.push(n.getAttribute("code"))}}return i},e}(),RoomConfig=function(){function e(e){this.parse=__bind(this.parse,this),null!=e&&this.parse(e)}return e.prototype.parse=function(e){var t,n,i,o,a,r,l,s,c,u,p,d,f;for(r=e.getElementsByTagName("query")[0].childNodes,this.identities=[],this.features=[],this.x=[],l=0,u=r.length;l<u;l++)switch(i=r[l],n=i.attributes,i.nodeName){case"identity":for(a={},s=0,p=n.length;s<p;s++)t=n[s],a[t.name]=t.textContent;this.identities.push(a);break;case"feature":this.features.push(n["var"].textContent);break;case"x":if(n=i.childNodes[0].attributes,"FORM_TYPE"===!n["var"].textContent||"hidden"===!n.type.textContent)break;for(f=i.childNodes,c=0,d=f.length;c<d;c++)o=f[c],o.attributes.type||(n=o.attributes,this.x.push({"var":n["var"].textContent,label:n.label.textContent||"",value:o.firstChild.textContent||""}))}return{identities:this.identities,features:this.features,x:this.x}},e}(),Occupant=function(){function e(e,t){this.room=t,this.update=__bind(this.update,this),this.admin=__bind(this.admin,this),this.owner=__bind(this.owner,this),this.revoke=__bind(this.revoke,this),this.member=__bind(this.member,this),this.ban=__bind(this.ban,this),this.modifyAffiliation=__bind(this.modifyAffiliation,this),this.deop=__bind(this.deop,this),this.op=__bind(this.op,this),this.mute=__bind(this.mute,this),this.voice=__bind(this.voice,this),this.kick=__bind(this.kick,this),this.modifyRole=__bind(this.modifyRole,this),this.update(e)}return e.prototype.modifyRole=function(e,t,n,i){return this.room.modifyRole(this.nick,e,t,n,i)},e.prototype.kick=function(e,t,n){return this.room.kick(this.nick,e,t,n)},e.prototype.voice=function(e,t,n){return this.room.voice(this.nick,e,t,n)},e.prototype.mute=function(e,t,n){return this.room.mute(this.nick,e,t,n)},e.prototype.op=function(e,t,n){return this.room.op(this.nick,e,t,n)},e.prototype.deop=function(e,t,n){return this.room.deop(this.nick,e,t,n)},e.prototype.modifyAffiliation=function(e,t,n,i){return this.room.modifyAffiliation(this.jid,e,t,n,i)},e.prototype.ban=function(e,t,n){return this.room.ban(this.jid,e,t,n)},e.prototype.member=function(e,t,n){return this.room.member(this.jid,e,t,n)},e.prototype.revoke=function(e,t,n){return this.room.revoke(this.jid,e,t,n)},e.prototype.owner=function(e,t,n){return this.room.owner(this.jid,e,t,n)},e.prototype.admin=function(e,t,n){return this.room.admin(this.jid,e,t,n)},e.prototype.update=function(e){return this.nick=e.nick||null,this.affiliation=e.affiliation||null,this.role=e.role||null,this.jid=e.jid||null,this.status=e.status||null,this.show=e.show||null,this},e}(),Strophe.addConnectionPlugin("ping",{_c:null,init:function(e){this._c=e,Strophe.addNamespace("PING","urn:xmpp:ping")},ping:function(e,t,n,i){var o=this._c.getUniqueId("ping"),a=$iq({type:"get",to:e,id:o}).c("ping",{xmlns:Strophe.NS.PING});this._c.sendIQ(a,t,n,i)},pong:function(e){var t=e.getAttribute("from"),n=e.getAttribute("id"),i=$iq({type:"result",to:t,id:n});this._c.sendIQ(i)},addPingHandler:function(e){return this._c.addHandler(e,Strophe.NS.PING,"iq","get")}}),Strophe.addNamespace("RSM","http://jabber.org/protocol/rsm"),Strophe.RSM=function(e){if(this.attribs=["max","first","last","after","before","index","count"],"undefined"!=typeof e.xml)this.fromXMLElement(e.xml);else for(var t=0;t<this.attribs.length;t++){var n=this.attribs[t];this[n]=e[n]}},Strophe.RSM.prototype={toXML:function(){for(var e=$build("set",{xmlns:Strophe.NS.RSM}),t=0;t<this.attribs.length;t++){var n=this.attribs[t];"undefined"!=typeof this[n]&&(e=e.c(n).t(this[n].toString()).up())}return e.tree()},next:function(e){var t=new Strophe.RSM({max:e,after:this.last});return t},previous:function(e){var t=new Strophe.RSM({max:e,before:this.first});return t},fromXMLElement:function(e){for(var t=0;t<this.attribs.length;t++){var n=this.attribs[t],i=e.getElementsByTagName(n)[0];"undefined"!=typeof i&&null!==i&&(this[n]=Strophe.getText(i),"first"==n&&(this.index=i.getAttribute("index")))}}};var $field,$form,$item,$opt,Field,Form,Item,Option,helper,__slice=[].slice,__bind=function(e,t){return function(){return e.apply(t,arguments)}},__indexOf=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};helper={fill:function(e,t,n){var i,o,a,r;for(r=[],o=0,a=e.length;o<a;o++)i=e[o],r.push(t.push(i instanceof n?i:new n(i)));return r},createHtmlFieldCouple:function(e){var t,n;return t=$("<div>"),n="Strophe.x.Field-"+e.type+"-"+e["var"],t.append("<label for='"+n+"'>"+(e.label||"")+"</label>").append($(e.toHTML()).attr("id",n)).append("<br />"),t.children()},getHtmlFields:function(e){return e=$(e),__slice.call(e.find("input")).concat(__slice.call(e.find("select")),__slice.call(e.find("textarea")))}},Form=function(){function e(t){this.toHTML=__bind(this.toHTML,this),this.toJSON=__bind(this.toJSON,this),this.toXML=__bind(this.toXML,this);var n,i,o,a,r,l,s,c,u,p;if(this.fields=[],this.items=[],this.reported=[],t)if(s=t.type,__indexOf.call(e._types,s)>=0&&(this.type=t.type),this.title=t.title,this.instructions=t.instructions,helper.fill=function(e,t,n){var i,o,a,r;for(r=[],o=0,a=e.length;o<a;o++)i=e[o],r.push(t.push(i instanceof n?i:new n(i)));return r},t.fields)t.fields&&helper.fill(t.fields,this.fields,Field);else if(t.items)for(t.items&&helper.fill(t.items,this.items,Item),c=this.items,o=0,r=c.length;o<r;o++)for(i=c[o],u=i.fields,a=0,l=u.length;a<l;a++)n=u[a],p=n["var"],__indexOf.call(this.reported,p)>=0||this.reported.push(n["var"])}return e._types=["form","submit","cancel","result"],e.prototype.type="form",e.prototype.title=null,e.prototype.instructions=null,e.prototype.toXML=function(){var e,t,n,i,o,a,r,l,s,c,u,p,d;if(i=$build("x",{xmlns:"jabber:x:data",type:this.type}),this.title&&i.c("title").t(this.title.toString()).up(),this.instructions&&i.c("instructions").t(this.instructions.toString()).up(),this.fields.length>0)for(u=this.fields,o=0,l=u.length;o<l;o++)e=u[o],i.cnode(e.toXML()).up();else if(this.items.length>0){for(i.c("reported"),p=this.reported,a=0,s=p.length;a<s;a++)n=p[a],i.c("field",{"var":n}).up();for(i.up(),d=this.items,r=0,c=d.length;r<c;r++)t=d[r],i.cnode(t.toXML()).up()}return i.tree()},e.prototype.toJSON=function(){var e,t,n,i,o,a,r,l,s;if(n={type:this.type},this.title&&(n.title=this.title),this.instructions&&(n.instructions=this.instructions),this.fields.length>0)for(n.fields=[],l=this.fields,i=0,a=l.length;i<a;i++)e=l[i],n.fields.push(e.toJSON());else if(this.items.length>0)for(n.items=[],n.reported=this.reported,s=this.items,o=0,r=s.length;o<r;o++)t=s[o],n.items.push(t.toJSON());return n},e.prototype.toHTML=function(){var e,t,n,i,o,a,r,l,s;if(t=$("<form data-type='"+this.type+"'>"),this.title&&t.append("<h1>"+this.title+"</h1>"),this.instructions&&t.append("<p>"+this.instructions+"</p>"),this.fields.length>0)for(l=this.fields,i=0,a=l.length;i<a;i++)e=l[i],helper.createHtmlFieldCouple(e).appendTo(t);else if(this.items.length>0)for(s=this.items,o=0,r=s.length;o<r;o++)n=s[o],$(n.toHTML()).appendTo(t);return t[0]},e.fromXML=function(t){var n,i,o,a,r,l,s,c,u;return t=$(t),n=new e({type:t.attr("type")}),u=t.find("title"),1===u.length&&(n.title=u.text()),a=t.find("instructions"),1===a.length&&(n.instructions=a.text()),i=t.find("field"),r=t.find("item"),r.length>0?n.items=function(){var e,t,n;for(n=[],e=0,t=r.length;e<t;e++)o=r[e],n.push(Item.fromXML(o));return n}():i.length>0&&(n.fields=function(){var e,t,n;for(n=[],e=0,t=i.length;e<t;e++)l=i[e],n.push(Field.fromXML(l));return n}()),c=t.find("reported"),1===c.length&&(i=c.find("field"),n.reported=function(){var e,t,n;for(n=[],e=0,t=i.length;e<t;e++)s=i[e],n.push($(s).attr("var"));return n}()),n},e.fromHTML=function(t){var n,i,o,a,r,l,s,c,u,p,d,f,h,g,m,v;if(t=$(t),n=new e({type:t.attr("data-type")}),u=t.find("h1").text(),u&&(n.title=u),r=t.find("p").text(),r&&(n.instructions=r),s=t.find("fieldset"),o=helper.getHtmlFields(t),s.length>0)for(n.items=function(){var e,t,n;for(n=[],e=0,t=s.length;e<t;e++)a=s[e],n.push(Item.fromHTML(a));return n}(),g=n.items,p=0,f=g.length;p<f;p++)for(l=g[p],m=l.fields,d=0,h=m.length;d<h;d++)i=m[d],v=i["var"],__indexOf.call(n.reported,v)>=0||n.reported.push(i["var"]);else o.length>0&&(n.fields=function(){var e,t,n;for(n=[],e=0,t=o.length;e<t;e++)c=o[e],n.push(Field.fromHTML(c));return n}());return n},e}(),Field=function(){function e(t){this.toHTML=__bind(this.toHTML,this),this.toXML=__bind(this.toXML,this),this.toJSON=__bind(this.toJSON,this),this.addOptions=__bind(this.addOptions,this),this.addOption=__bind(this.addOption,this),this.addValues=__bind(this.addValues,this),this.addValue=__bind(this.addValue,this);var n,i;this.options=[],this.values=[],t&&(n=t.type,__indexOf.call(e._types,n)>=0&&(this.type=t.type.toString()),t.desc&&(this.desc=t.desc.toString()),t.label&&(this.label=t.label.toString()),this["var"]=(null!=(i=t["var"])?i.toString():void 0)||"_no_var_was_defined_",this.required=t.required===!0||"true"===t.required,t.options&&this.addOptions(t.options),t.value&&(t.values=[t.value]),t.values&&this.addValues(t.values))}return e._types=["boolean","fixed","hidden","jid-multi","jid-single","list-multi","list-single","text-multi","text-private","text-single"],e._multiTypes=["list-multi","jid-multi","text-multi","hidden"],e.prototype.type="text-single",e.prototype.desc=null,e.prototype.label=null,e.prototype["var"]="_no_var_was_defined_",e.prototype.required=!1,e.prototype.addValue=function(e){return this.addValues([e])},e.prototype.addValues=function(t){var n,i,o;return o=this.type,n=__indexOf.call(e._multiTypes,o)>=0,(n||!n&&1===t.length)&&(this.values=__slice.call(this.values).concat(__slice.call(function(){var e,n,o;for(o=[],e=0,n=t.length;e<n;e++)i=t[e],o.push(i.toString());return o}()))),this},e.prototype.addOption=function(e){return this.addOptions([e])},e.prototype.addOptions=function(e){var t;return"list-single"!==this.type&&"list-multi"!==this.type||("object"!=typeof e[0]&&(e=function(){var n,i,o;for(o=[],n=0,i=e.length;n<i;n++)t=e[n],o.push(new Option({value:t.toString()}));return o}()),helper.fill(e,this.options,Option)),this},e.prototype.toJSON=function(){var e,t,n,i,o;if(e={type:this.type,"var":this["var"],required:this.required},this.desc&&(e.desc=this.desc),this.label&&(e.label=this.label),this.values&&(e.values=this.values),this.options)for(e.options=[],o=this.options,n=0,i=o.length;n<i;n++)t=o[n],e.options.push(t.toJSON());return e},e.prototype.toXML=function(){var e,t,n,i,o,a,r,l,s,c;if(e={type:this.type,"var":this["var"]},this.label&&(e.label=this.label),i=$build("field",e),this.desc&&i.c("desc").t(this.desc).up(),this.required&&i.c("required").up(),this.values)for(s=this.values,o=0,r=s.length;o<r;o++)n=s[o],i.c("value").t(n.toString()).up();if(this.options)for(c=this.options,a=0,l=c.length;a<l;a++)t=c[a],i.cnode(t.toXML()).up();return i.tree()},e.prototype.toHTML=function(){var e,t,n,i,o,a,r,l,s,c,u,p,d,f;switch(this.type.toLowerCase()){case"list-single":case"list-multi":if(e=$("<select>"),"list-multi"===this.type&&e.attr("multiple","multiple"),this.options.length>0)for(p=this.options,l=0,c=p.length;l<c;l++)if(o=p[l]){for(i=$(o.toHTML()),d=this.values,s=0,u=d.length;s<u;s++)t=d[s],t.toString()===o.value.toString()&&i.attr("selected","selected");i.appendTo(e)}break;case"text-multi":case"jid-multi":e=$("<textarea>"),a=function(){var e,t,i,o;for(i=this.values,o=[],e=0,t=i.length;e<t;e++)n=i[e],o.push(n);return o}.call(this).join("\n"),a&&e.text(a);break;case"text-single":case"boolean":case"text-private":case"hidden":case"fixed":case"jid-single":switch(e=$("<input>"),this.values&&e.val(this.values[0]),this.type.toLowerCase()){case"text-single":e.attr("type","text"),e.attr("placeholder",this.desc);break;case"boolean":e.attr("type","checkbox"),r=null!=(f=this.values[0])&&"function"==typeof f.toString?f.toString():void 0,!r||"true"!==r&&"1"!==r||e.attr("checked","checked");break;case"text-private":e.attr("type","password");break;case"hidden":e.attr("type","hidden");break;case"fixed":e.attr("type","text").attr("readonly","readonly");break;case"jid-single":e.attr("type","email")}break;default:e=$("<input type='text'>")}return e.attr("name",this["var"]),this.required&&e.attr("required",this.required),e[0]},e.fromXML=function(t){var n,i;return t=$(t),new e({type:t.attr("type"),"var":t.attr("var"),label:t.attr("label"),desc:t.find("desc").text(),required:1===t.find("required").length,values:function(){var e,n,o,a;for(o=t.find("value"),a=[],e=0,n=o.length;e<n;e++)i=o[e],a.push($(i).text());return a}(),options:function(){var e,i,o,a;for(o=t.find("option"),a=[],e=0,i=o.length;e<i;e++)n=o[e],a.push(Option.fromXML(n));return a}()})},e._htmlElementToFieldType=function(e){var t,n;switch(e=$(e),e[0].nodeName.toLowerCase()){case"textarea":n="text-multi";break;case"select":n="multiple"===e.attr("multiple")?"list-multi":"list-single";break;case"input":
switch(e.attr("type")){case"checkbox":n="boolean";break;case"email":n="jid-single";break;case"hidden":n="hidden";break;case"password":n="text-private";break;case"text":t="readonly"===e.attr("readonly"),n=t?"fixed":"text-single"}}return n},e.fromHTML=function(t){var n,i,o,a;switch(t=$(t),a=e._htmlElementToFieldType(t),i=new e({type:a,"var":t.attr("name"),required:"required"===t.attr("required")}),a){case"list-multi":case"list-single":i.values=function(){var e,i,o,a;for(o=t.find("option:selected"),a=[],e=0,i=o.length;e<i;e++)n=o[e],a.push($(n).val());return a}(),i.options=function(){var e,i,o,a;for(o=t.find("option"),a=[],e=0,i=o.length;e<i;e++)n=o[e],a.push(Option.fromHTML(n));return a}();break;case"text-multi":case"jid-multi":o=t.text(),""!==o.trim()&&(i.values=o.split("\n"));break;case"text-single":case"boolean":case"text-private":case"hidden":case"fixed":case"jid-single":""!==t.val().trim()&&(i.values=[t.val()])}return i},e}(),Option=function(){function e(e){this.toHTML=__bind(this.toHTML,this),this.toJSON=__bind(this.toJSON,this),this.toXML=__bind(this.toXML,this),e&&(e.label&&(this.label=e.label.toString()),e.value&&(this.value=e.value.toString()))}return e.prototype.label="",e.prototype.value="",e.prototype.toXML=function(){return $build("option",{label:this.label}).c("value").t(this.value.toString()).tree()},e.prototype.toJSON=function(){return{label:this.label,value:this.value}},e.prototype.toHTML=function(){return $("<option>").attr("value",this.value).text(this.label||this.value)[0]},e.fromXML=function(t){return new e({label:$(t).attr("label"),value:$(t).text()})},e.fromHTML=function(t){return new e({value:$(t).attr("value"),label:$(t).text()})},e}(),Item=function(){function e(e){this.toHTML=__bind(this.toHTML,this),this.toJSON=__bind(this.toJSON,this),this.toXML=__bind(this.toXML,this),this.fields=[],(null!=e?e.fields:void 0)&&helper.fill(e.fields,this.fields,Field)}return e.prototype.toXML=function(){var e,t,n,i,o;for(t=$build("item"),o=this.fields,n=0,i=o.length;n<i;n++)e=o[n],t.cnode(e.toXML()).up();return t.tree()},e.prototype.toJSON=function(){var e,t,n,i,o;if(t={},this.fields)for(t.fields=[],o=this.fields,n=0,i=o.length;n<i;n++)e=o[n],t.fields.push(e.toJSON());return t},e.prototype.toHTML=function(){var e,t,n,i,o;for(t=$("<fieldset>"),o=this.fields,n=0,i=o.length;n<i;n++)e=o[n],helper.createHtmlFieldCouple(e).appendTo(t);return t[0]},e.fromXML=function(t){var n,i;return t=$(t),i=t.find("field"),new e({fields:function(){var e,t,o;for(o=[],e=0,t=i.length;e<t;e++)n=i[e],o.push(Field.fromXML(n));return o}()})},e.fromHTML=function(t){var n;return new e({fields:function(){var e,i,o,a;for(o=helper.getHtmlFields(t),a=[],e=0,i=o.length;e<i;e++)n=o[e],a.push(Field.fromHTML(n));return a}()})},e}(),Strophe.x={Form:Form,Field:Field,Option:Option,Item:Item},$form=function(e){return new Strophe.x.Form(e)},$field=function(e){return new Strophe.x.Field(e)},$opt=function(e){return new Strophe.x.Option(e)},$item=function(e){return new Strophe.x.Item(e)},Strophe.addConnectionPlugin("x",{init:function(e){if(Strophe.addNamespace("DATA","jabber:x:data"),e.disco)return e.disco.addFeature(Strophe.NS.DATA)},parseFromResult:function(e){var t;return"x"===e.nodeName.toLowerCase()?Form.fromXML(e):Form.fromXML(null!=(t=$(e).find("x"))?t[0]:void 0)}}),Strophe.addConnectionPlugin("xdomainrequest",{init:function(){if(window.XDomainRequest){Strophe.debug("using XdomainRequest for IE");var e=function(){var e=new XDomainRequest,t=e.send;return e.send=function(){t.apply(e,arguments),e.readyState=2;try{e.onreadystatechange()}catch(n){}},e};Strophe.Request.prototype._newXHR=function(){var t=function(e,t){e.status=t,e.readyState=4;try{e.onreadystatechange()}catch(n){}},n=e();return n.readyState=0,n.onreadystatechange=this.func.bind(null,this),n.onload=function(){var e=new ActiveXObject("Microsoft.XMLDOM");e.async="false",e.loadXML(n.responseText),n.responseXML=e,t(n,200)},n.onerror=function(){Strophe.error("Strophe xdr.onerror called"),t(n,500)},n.ontimeout=function(){Strophe.error("Strophe xdr.ontimeout called"),t(n,500)},n}}else Strophe.info("XDomainRequest not found. Falling back to native XHR implementation.")}}),function(){function e(e,t,n,i){angular.forEach(t.split(" "),function(t){bmcMaps.event.addListener(n,t,function(n){i.triggerHandler("map-"+t,n),e.$$phase||e.$apply()})})}function t(t,i){n.directive(t,[function(){return{restrict:"A",link:function(n,o,a){n.$watch(a[t],function(t){t&&e(n,i,t,o)})}}}])}var n=angular.module("ui.map",["ui.event"]);n.value("uiMapConfig",{}).directive("uiMap",["uiMapConfig","$parse",function(t,n){var i="bounds_changed center_changed click dblclick drag dragend dragstart heading_changed idle maptypeid_changed mousemove mouseout mouseover projection_changed resize rightclick tilesloaded tilt_changed zoom_changed",o=t||{};return{restrict:"A",link:function(t,a,r){var l=angular.extend({},o,t.$eval(r.uiOptions)),s=new bmcMaps.Map(a[0],l),c=n(r.uiMap);c.assign(t,s),e(t,i,s,a)}}}]),n.value("uiMapInfoWindowConfig",{}).directive("uiMapInfoWindow",["uiMapInfoWindowConfig","$parse","$compile",function(t,n,i){var o="closeclick content_change domready position_changed zindex_changed",a=t||{};return{link:function(t,r,l){var s=angular.extend({},a,t.$eval(l.uiOptions));s.content=r[0];var c=n(l.uiMapInfoWindow),u=c(t);u||(u=new bmcMaps.InfoWindow(s),c.assign(t,u)),e(t,o,u,r),r.replaceWith("<div></div>");var p=u.open;u.open=function(e,n,o,a,l,s){i(r.contents())(t),p.call(u,e,n,o,a,l,s)}}}}]),t("uiMapMarker","animation_changed click clickable_changed cursor_changed dblclick drag dragend draggable_changed dragstart flat_changed icon_changed mousedown mouseout mouseover mouseup position_changed rightclick shadow_changed shape_changed title_changed visible_changed zindex_changed"),t("uiMapPolyline","click dblclick mousedown mousemove mouseout mouseover mouseup rightclick"),t("uiMapPolygon","click dblclick mousedown mousemove mouseout mouseover mouseup rightclick"),t("uiMapRectangle","bounds_changed click dblclick mousedown mousemove mouseout mouseover mouseup rightclick"),t("uiMapCircle","center_changed click dblclick mousedown mousemove mouseout mouseover mouseup radius_changed rightclick"),t("uiMapGroundOverlay","click dblclick")}();